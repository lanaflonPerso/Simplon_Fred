!function t(e,n,i){function a(s,o){if(!n[s]){if(!e[s]){var l="function"==typeof require&&require;if(!o&&l)return l(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+s+"'")}var c=n[s]={exports:{}};e[s][0].call(c.exports,function(t){var n=e[s][1][t];return a(n?n:t)},c,c.exports,t,e,n,i)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<i.length;s++)a(i[s]);return a}({1:[function(t,e,n){(function(n){jQuery=n.jQuery=t("jquery"),__browserify_shim_require__=t,function(t,e,n){!function(t,e){function n(){return new Date(Date.UTC.apply(Date,arguments))}function i(){var t=new Date;return n(t.getFullYear(),t.getMonth(),t.getDate())}function a(t,e){return t.getUTCFullYear()===e.getUTCFullYear()&&t.getUTCMonth()===e.getUTCMonth()&&t.getUTCDate()===e.getUTCDate()}function r(t){return function(){return this[t].apply(this,arguments)}}function s(e,n){function i(t,e){return e.toLowerCase()}var a,r=t(e).data(),s={},o=new RegExp("^"+n.toLowerCase()+"([A-Z])");n=new RegExp("^"+n.toLowerCase());for(var l in r)n.test(l)&&(a=l.replace(o,i),s[a]=r[l]);return s}function o(e){var n={};if(g[e]||(e=e.split("-")[0],g[e])){var i=g[e];return t.each(f,function(t,e){e in i&&(n[e]=i[e])}),n}}var l=function(){var e={get:function(t){return this.slice(t)[0]},contains:function(t){for(var e=t&&t.valueOf(),n=0,i=this.length;i>n;n++)if(this[n].valueOf()===e)return n;return-1},remove:function(t){this.splice(t,1)},replace:function(e){e&&(t.isArray(e)||(e=[e]),this.clear(),this.push.apply(this,e))},clear:function(){this.length=0},copy:function(){var t=new l;return t.replace(this),t}};return function(){var n=[];return n.push.apply(n,arguments),t.extend(n,e),n}}(),c=function(e,n){this._process_options(n),this.dates=new l,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=t(e),this.isInline=!1,this.isInput=this.element.is("input"),this.component=this.element.hasClass("date")?this.element.find(".add-on, .input-group-addon, .btn"):!1,this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=t(m.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot .today, tfoot .clear").attr("colspan",function(t,e){return parseInt(e)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.setDatesDisabled(this.o.datesDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};c.prototype={constructor:c,_process_options:function(a){this._o=t.extend({},this._o,a);var r=this.o=t.extend({},this._o),s=r.language;switch(g[s]||(s=s.split("-")[0],g[s]||(s=h.language)),r.language=s,r.startView){case 2:case"decade":r.startView=2;break;case 1:case"year":r.startView=1;break;default:r.startView=0}switch(r.minViewMode){case 1:case"months":r.minViewMode=1;break;case 2:case"years":r.minViewMode=2;break;default:r.minViewMode=0}r.startView=Math.max(r.startView,r.minViewMode),r.multidate!==!0&&(r.multidate=Number(r.multidate)||!1,r.multidate!==!1&&(r.multidate=Math.max(0,r.multidate))),r.multidateSeparator=String(r.multidateSeparator),r.weekStart%=7,r.weekEnd=(r.weekStart+6)%7;var o=m.parseFormat(r.format);if(r.startDate!==-(1/0)&&(r.startDate?r.startDate instanceof Date?r.startDate=this._local_to_utc(this._zero_time(r.startDate)):r.startDate=m.parseDate(r.startDate,o,r.language):r.startDate=-(1/0)),r.endDate!==1/0&&(r.endDate?r.endDate instanceof Date?r.endDate=this._local_to_utc(this._zero_time(r.endDate)):r.endDate=m.parseDate(r.endDate,o,r.language):r.endDate=1/0),r.daysOfWeekDisabled=r.daysOfWeekDisabled||[],t.isArray(r.daysOfWeekDisabled)||(r.daysOfWeekDisabled=r.daysOfWeekDisabled.split(/[,\s]*/)),r.daysOfWeekDisabled=t.map(r.daysOfWeekDisabled,function(t){return parseInt(t,10)}),r.datesDisabled=r.datesDisabled||[],!t.isArray(r.datesDisabled)){var l=[];l.push(m.parseDate(r.datesDisabled,o,r.language)),r.datesDisabled=l}r.datesDisabled=t.map(r.datesDisabled,function(t){return m.parseDate(t,o,r.language)});var c=String(r.orientation).toLowerCase().split(/\s+/g),u=r.orientation.toLowerCase();if(c=t.grep(c,function(t){return/^auto|left|right|top|bottom$/.test(t)}),r.orientation={x:"auto",y:"auto"},u&&"auto"!==u)if(1===c.length)switch(c[0]){case"top":case"bottom":r.orientation.y=c[0];break;case"left":case"right":r.orientation.x=c[0]}else u=t.grep(c,function(t){return/^left|right$/.test(t)}),r.orientation.x=u[0]||"auto",u=t.grep(c,function(t){return/^top|bottom$/.test(t)}),r.orientation.y=u[0]||"auto";if(r.defaultViewDate){var d=r.defaultViewDate.year||(new Date).getFullYear(),p=r.defaultViewDate.month||0,f=r.defaultViewDate.day||1;r.defaultViewDate=n(d,p,f)}else r.defaultViewDate=i();r.showOnFocus=r.showOnFocus!==e?r.showOnFocus:!0},_events:[],_secondaryEvents:[],_applyEvents:function(t){for(var n,i,a,r=0;r<t.length;r++)n=t[r][0],2===t[r].length?(i=e,a=t[r][1]):3===t[r].length&&(i=t[r][1],a=t[r][2]),n.on(a,i)},_unapplyEvents:function(t){for(var n,i,a,r=0;r<t.length;r++)n=t[r][0],2===t[r].length?(a=e,i=t[r][1]):3===t[r].length&&(a=t[r][1],i=t[r][2]),n.off(i,a)},_buildEvents:function(){var e={keyup:t.proxy(function(e){-1===t.inArray(e.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:t.proxy(this.keydown,this)};this.o.showOnFocus===!0&&(e.focus=t.proxy(this.show,this)),this.isInput?this._events=[[this.element,e]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),e],[this.component,{click:t.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:t.proxy(this.show,this)}]],this._events.push([this.element,"*",{blur:t.proxy(function(t){this._focused_from=t.target},this)}],[this.element,{blur:t.proxy(function(t){this._focused_from=t.target},this)}]),this._secondaryEvents=[[this.picker,{click:t.proxy(this.click,this)}],[t(window),{resize:t.proxy(this.place,this)}],[t(document),{"mousedown touchstart":t.proxy(function(t){this.element.is(t.target)||this.element.find(t.target).length||this.picker.is(t.target)||this.picker.find(t.target).length||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(e,n){var i=n||this.dates.get(-1),a=this._utc_to_local(i);this.element.trigger({type:e,date:a,dates:t.map(this.dates,this._utc_to_local),format:t.proxy(function(t,e){0===arguments.length?(t=this.dates.length-1,e=this.o.format):"string"==typeof t&&(e=t,t=this.dates.length-1),e=e||this.o.format;var n=this.dates.get(t);return m.formatDate(n,e,this.o.language)},this)})},show:function(){return this.element.attr("readonly")&&this.o.enableOnReadonly===!1?void 0:(this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&t(this.element).blur(),this)},hide:function(){return this.isInline?this:this.picker.is(":visible")?(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"),this):this},remove:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},_utc_to_local:function(t){return t&&new Date(t.getTime()+6e4*t.getTimezoneOffset())},_local_to_utc:function(t){return t&&new Date(t.getTime()-6e4*t.getTimezoneOffset())},_zero_time:function(t){return t&&new Date(t.getFullYear(),t.getMonth(),t.getDate())},_zero_utc_time:function(t){return t&&new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()))},getDates:function(){return t.map(this.dates,this._utc_to_local)},getUTCDates:function(){return t.map(this.dates,function(t){return new Date(t)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var t=this.dates.get(-1);return"undefined"!=typeof t?new Date(t):null},clearDates:function(){var t;this.isInput?t=this.element:this.component&&(t=this.element.find("input")),t&&t.val("").change(),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,e),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var e=t.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,t.map(e,this._utc_to_local)),this._trigger("changeDate"),this.setValue(),this},setDate:r("setDates"),setUTCDate:r("setUTCDates"),setValue:function(){var t=this.getFormattedDate();return this.isInput?this.element.val(t).change():this.component&&this.element.find("input").val(t).change(),this},getFormattedDate:function(n){n===e&&(n=this.o.format);var i=this.o.language;return t.map(this.dates,function(t){return m.formatDate(t,n,i)}).join(this.o.multidateSeparator)},setStartDate:function(t){return this._process_options({startDate:t}),this.update(),this.updateNavArrows(),this},setEndDate:function(t){return this._process_options({endDate:t}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(t){return this._process_options({daysOfWeekDisabled:t}),this.update(),this.updateNavArrows(),this},setDatesDisabled:function(t){this._process_options({datesDisabled:t}),this.update(),this.updateNavArrows()},place:function(){if(this.isInline)return this;var e=this.picker.outerWidth(),n=this.picker.outerHeight(),i=10,a=t(this.o.container).width(),r=t(this.o.container).height(),s=t(this.o.container).scrollTop(),o=t(this.o.container).offset(),l=[];this.element.parents().each(function(){var e=t(this).css("z-index");"auto"!==e&&0!==e&&l.push(parseInt(e))});var c=Math.max.apply(Math,l)+10,u=this.component?this.component.parent().offset():this.element.offset(),d=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),p=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),h=u.left-o.left,f=u.top-o.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(h-=e-p)):u.left<0?(this.picker.addClass("datepicker-orient-left"),h-=u.left-i):h+e>a?(this.picker.addClass("datepicker-orient-right"),h=u.left+p-e):this.picker.addClass("datepicker-orient-left");var g,m,v=this.o.orientation.y;if("auto"===v&&(g=-s+f-n,m=s+r-(f+d+n),v=Math.max(g,m)===m?"top":"bottom"),this.picker.addClass("datepicker-orient-"+v),"top"===v?f+=d:f-=n+parseInt(this.picker.css("padding-top")),this.o.rtl){var y=a-(h+p);this.picker.css({top:f,right:y,zIndex:c})}else this.picker.css({top:f,left:h,zIndex:c});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var e=this.dates.copy(),n=[],i=!1;return arguments.length?(t.each(arguments,t.proxy(function(t,e){e instanceof Date&&(e=this._local_to_utc(e)),n.push(e)},this)),i=!0):(n=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),n=n&&this.o.multidate?n.split(this.o.multidateSeparator):[n],delete this.element.data().date),n=t.map(n,t.proxy(function(t){return m.parseDate(t,this.o.format,this.o.language)},this)),n=t.grep(n,t.proxy(function(t){return t<this.o.startDate||t>this.o.endDate||!t},this),!0),this.dates.replace(n),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate&&(this.viewDate=new Date(this.o.endDate)),i?this.setValue():n.length&&String(e)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&e.length&&this._trigger("clearDate"),this.fill(),this},fillDow:function(){var t=this.o.weekStart,e="<tr>";if(this.o.calendarWeeks){this.picker.find(".datepicker-days thead tr:first-child .datepicker-switch").attr("colspan",function(t,e){return parseInt(e)+1});var n='<th class="cw">&#160;</th>';e+=n}for(;t<this.o.weekStart+7;)e+='<th class="dow">'+g[this.o.language].daysMin[t++%7]+"</th>";e+="</tr>",this.picker.find(".datepicker-days thead").append(e)},fillMonths:function(){for(var t="",e=0;12>e;)t+='<span class="month">'+g[this.o.language].monthsShort[e++]+"</span>";this.picker.find(".datepicker-months td").html(t)},setRange:function(e){e&&e.length?this.range=t.map(e,function(t){return t.valueOf()}):delete this.range,this.fill()},getClassNames:function(e){var n=[],i=this.viewDate.getUTCFullYear(),r=this.viewDate.getUTCMonth(),s=new Date;return e.getUTCFullYear()<i||e.getUTCFullYear()===i&&e.getUTCMonth()<r?n.push("old"):(e.getUTCFullYear()>i||e.getUTCFullYear()===i&&e.getUTCMonth()>r)&&n.push("new"),this.focusDate&&e.valueOf()===this.focusDate.valueOf()&&n.push("focused"),this.o.todayHighlight&&e.getUTCFullYear()===s.getFullYear()&&e.getUTCMonth()===s.getMonth()&&e.getUTCDate()===s.getDate()&&n.push("today"),-1!==this.dates.contains(e)&&n.push("active"),(e.valueOf()<this.o.startDate||e.valueOf()>this.o.endDate||-1!==t.inArray(e.getUTCDay(),this.o.daysOfWeekDisabled))&&n.push("disabled"),this.o.datesDisabled.length>0&&t.grep(this.o.datesDisabled,function(t){return a(e,t)}).length>0&&n.push("disabled","disabled-date"),this.range&&(e>this.range[0]&&e<this.range[this.range.length-1]&&n.push("range"),-1!==t.inArray(e.valueOf(),this.range)&&n.push("selected")),n},fill:function(){var i,a=new Date(this.viewDate),r=a.getUTCFullYear(),s=a.getUTCMonth(),o=this.o.startDate!==-(1/0)?this.o.startDate.getUTCFullYear():-(1/0),l=this.o.startDate!==-(1/0)?this.o.startDate.getUTCMonth():-(1/0),c=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,u=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,d=g[this.o.language].today||g.en.today||"",p=g[this.o.language].clear||g.en.clear||"";if(!isNaN(r)&&!isNaN(s)){this.picker.find(".datepicker-days thead .datepicker-switch").text(g[this.o.language].months[s]+" "+r),this.picker.find("tfoot .today").text(d).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot .clear").text(p).toggle(this.o.clearBtn!==!1),this.updateNavArrows(),this.fillMonths();var h=n(r,s-1,28),f=m.getDaysInMonth(h.getUTCFullYear(),h.getUTCMonth());h.setUTCDate(f),h.setUTCDate(f-(h.getUTCDay()-this.o.weekStart+7)%7);var v=new Date(h);v.setUTCDate(v.getUTCDate()+42),v=v.valueOf();for(var y,b=[];h.valueOf()<v;){if(h.getUTCDay()===this.o.weekStart&&(b.push("<tr>"),this.o.calendarWeeks)){var _=new Date(+h+(this.o.weekStart-h.getUTCDay()-7)%7*864e5),w=new Date(Number(_)+(11-_.getUTCDay())%7*864e5),k=new Date(Number(k=n(w.getUTCFullYear(),0,1))+(11-k.getUTCDay())%7*864e5),x=(w-k)/864e5/7+1;b.push('<td class="cw">'+x+"</td>")}if(y=this.getClassNames(h),y.push("day"),this.o.beforeShowDay!==t.noop){var C=this.o.beforeShowDay(this._utc_to_local(h));C===e?C={}:"boolean"==typeof C?C={enabled:C}:"string"==typeof C&&(C={classes:C}),C.enabled===!1&&y.push("disabled"),C.classes&&(y=y.concat(C.classes.split(/\s+/))),C.tooltip&&(i=C.tooltip)}y=t.unique(y),b.push('<td class="'+y.join(" ")+'"'+(i?' title="'+i+'"':"")+">"+h.getUTCDate()+"</td>"),i=null,h.getUTCDay()===this.o.weekEnd&&b.push("</tr>"),h.setUTCDate(h.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(b.join(""));var D=this.picker.find(".datepicker-months").find("th:eq(1)").text(r).end().find("span").removeClass("active");if(t.each(this.dates,function(t,e){e.getUTCFullYear()===r&&D.eq(e.getUTCMonth()).addClass("active")}),(o>r||r>c)&&D.addClass("disabled"),r===o&&D.slice(0,l).addClass("disabled"),r===c&&D.slice(u+1).addClass("disabled"),this.o.beforeShowMonth!==t.noop){var A=this;t.each(D,function(e,n){if(!t(n).hasClass("disabled")){var i=new Date(r,e,1),a=A.o.beforeShowMonth(i);a===!1&&t(n).addClass("disabled")}})}b="",r=10*parseInt(r/10,10);var S=this.picker.find(".datepicker-years").find("th:eq(1)").text(r+"-"+(r+9)).end().find("td");r-=1;for(var T,M=t.map(this.dates,function(t){return t.getUTCFullYear()}),I=-1;11>I;I++)T=["year"],-1===I?T.push("old"):10===I&&T.push("new"),-1!==t.inArray(r,M)&&T.push("active"),(o>r||r>c)&&T.push("disabled"),b+='<span class="'+T.join(" ")+'">'+r+"</span>",r+=1;S.html(b)}},updateNavArrows:function(){if(this._allow_update){var t=new Date(this.viewDate),e=t.getUTCFullYear(),n=t.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-(1/0)&&e<=this.o.startDate.getUTCFullYear()&&n<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()&&n>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-(1/0)&&e<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&e>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(e){e.preventDefault();var i,a,r,s=t(e.target).closest("span, td, th");if(1===s.length)switch(s[0].nodeName.toLowerCase()){case"th":switch(s[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var o=m.modes[this.viewMode].navStep*("prev"===s[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,o),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,o),1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":var l=new Date;l=n(l.getFullYear(),l.getMonth(),l.getDate(),0,0,0),this.showMode(-2);var c="linked"===this.o.todayBtn?null:"view";this._setDate(l,c);break;case"clear":this.clearDates()}break;case"span":s.hasClass("disabled")||(this.viewDate.setUTCDate(1),s.hasClass("month")?(r=1,a=s.parent().find("span").index(s),i=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(a),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(n(i,a,r))):(r=1,a=0,i=parseInt(s.text(),10)||0,this.viewDate.setUTCFullYear(i),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(n(i,a,r))),this.showMode(-1),this.fill());break;case"td":s.hasClass("day")&&!s.hasClass("disabled")&&(r=parseInt(s.text(),10)||1,i=this.viewDate.getUTCFullYear(),a=this.viewDate.getUTCMonth(),s.hasClass("old")?0===a?(a=11,i-=1):a-=1:s.hasClass("new")&&(11===a?(a=0,i+=1):a+=1),this._setDate(n(i,a,r)))}this.picker.is(":visible")&&this._focused_from&&t(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(t){var e=this.dates.contains(t);if(t||this.dates.clear(),-1!==e?(this.o.multidate===!0||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(e):this.o.multidate===!1?(this.dates.clear(),this.dates.push(t)):this.dates.push(t),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(t,e){e&&"date"!==e||this._toggle_multidate(t&&new Date(t)),e&&"view"!==e||(this.viewDate=t&&new Date(t)),this.fill(),this.setValue(),e&&"view"===e||this._trigger("changeDate");var n;this.isInput?n=this.element:this.component&&(n=this.element.find("input")),n&&n.change(),!this.o.autoclose||e&&"date"!==e||this.hide()},moveMonth:function(t,n){if(!t)return e;if(!n)return t;var i,a,r=new Date(t.valueOf()),s=r.getUTCDate(),o=r.getUTCMonth(),l=Math.abs(n);if(n=n>0?1:-1,1===l)a=-1===n?function(){return r.getUTCMonth()===o}:function(){return r.getUTCMonth()!==i},i=o+n,r.setUTCMonth(i),(0>i||i>11)&&(i=(i+12)%12);else{for(var c=0;l>c;c++)r=this.moveMonth(r,n);i=r.getUTCMonth(),r.setUTCDate(s),a=function(){return i!==r.getUTCMonth()}}for(;a();)r.setUTCDate(--s),r.setUTCMonth(i);return r},moveYear:function(t,e){return this.moveMonth(t,12*e)},dateWithinRange:function(t){return t>=this.o.startDate&&t<=this.o.endDate},keydown:function(t){if(!this.picker.is(":visible"))return void(27===t.keyCode&&this.show());var e,n,a,r=!1,s=this.focusDate||this.viewDate;switch(t.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),t.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;e=37===t.keyCode?-1:1,t.ctrlKey?(n=this.moveYear(this.dates.get(-1)||i(),e),a=this.moveYear(s,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(n=this.moveMonth(this.dates.get(-1)||i(),e),a=this.moveMonth(s,e),this._trigger("changeMonth",this.viewDate)):(n=new Date(this.dates.get(-1)||i()),n.setUTCDate(n.getUTCDate()+e),a=new Date(s),a.setUTCDate(s.getUTCDate()+e)),this.dateWithinRange(a)&&(this.focusDate=this.viewDate=a,this.setValue(),this.fill(),t.preventDefault());break;case 38:case 40:if(!this.o.keyboardNavigation)break;e=38===t.keyCode?-1:1,t.ctrlKey?(n=this.moveYear(this.dates.get(-1)||i(),e),a=this.moveYear(s,e),this._trigger("changeYear",this.viewDate)):t.shiftKey?(n=this.moveMonth(this.dates.get(-1)||i(),e),a=this.moveMonth(s,e),this._trigger("changeMonth",this.viewDate)):(n=new Date(this.dates.get(-1)||i()),n.setUTCDate(n.getUTCDate()+7*e),a=new Date(s),a.setUTCDate(s.getUTCDate()+7*e)),this.dateWithinRange(a)&&(this.focusDate=this.viewDate=a,this.setValue(),this.fill(),t.preventDefault());break;case 32:break;case 13:s=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(s),r=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(t.preventDefault(),"function"==typeof t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}if(r){this.dates.length?this._trigger("changeDate"):this._trigger("clearDate");var o;this.isInput?o=this.element:this.component&&(o=this.element.find("input")),o&&o.change()}},showMode:function(t){t&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+t))),this.picker.children("div").hide().filter(".datepicker-"+m.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var u=function(e,n){this.element=t(e),this.inputs=t.map(n.inputs,function(t){return t.jquery?t[0]:t}),delete n.inputs,p.call(t(this.inputs),n).bind("changeDate",t.proxy(this.dateUpdated,this)),this.pickers=t.map(this.inputs,function(e){return t(e).data("datepicker")}),this.updateDates()};u.prototype={updateDates:function(){this.dates=t.map(this.pickers,function(t){return t.getUTCDate()}),this.updateRanges()},updateRanges:function(){var e=t.map(this.dates,function(t){return t.valueOf()});t.each(this.pickers,function(t,n){n.setRange(e)})},dateUpdated:function(e){if(!this.updating){this.updating=!0;var n=t(e.target).data("datepicker"),i=n.getUTCDate(),a=t.inArray(e.target,this.inputs),r=a-1,s=a+1,o=this.inputs.length;if(-1!==a){if(t.each(this.pickers,function(t,e){e.getUTCDate()||e.setUTCDate(i)}),i<this.dates[r])for(;r>=0&&i<this.dates[r];)this.pickers[r--].setUTCDate(i);else if(i>this.dates[s])for(;o>s&&i>this.dates[s];)this.pickers[s++].setUTCDate(i);this.updateDates(),delete this.updating}}},remove:function(){t.map(this.pickers,function(t){t.remove()}),delete this.element.data().datepicker}};var d=t.fn.datepicker,p=function(n){var i=Array.apply(null,arguments);i.shift();var a;return this.each(function(){var r=t(this),l=r.data("datepicker"),d="object"==typeof n&&n;if(!l){var p=s(this,"date"),f=t.extend({},h,p,d),g=o(f.language),m=t.extend({},h,g,p,d);if(r.hasClass("input-daterange")||m.inputs){var v={inputs:m.inputs||r.find("input").toArray()};r.data("datepicker",l=new u(this,t.extend(m,v)))}else r.data("datepicker",l=new c(this,m))}return"string"==typeof n&&"function"==typeof l[n]&&(a=l[n].apply(l,i),a!==e)?!1:void 0}),a!==e?a:this};t.fn.datepicker=p;var h=t.fn.datepicker.defaults={autoclose:!1,beforeShowDay:t.noop,beforeShowMonth:t.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-(1/0),startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,container:"body"},f=t.fn.datepicker.locale_opts=["format","rtl","weekStart"];t.fn.datepicker.Constructor=c;var g=t.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},m={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(t){return t%4===0&&t%100!==0||t%400===0},getDaysInMonth:function(t,e){return[31,m.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(t){var e=t.replace(this.validParts,"\x00").split("\x00"),n=t.match(this.validParts);if(!e||!e.length||!n||0===n.length)throw new Error("Invalid date format.");return{separators:e,parts:n}},parseDate:function(i,a,r){function s(){var t=this.slice(0,p[u].length),e=p[u].slice(0,t.length);return t.toLowerCase()===e.toLowerCase()}if(!i)return e;if(i instanceof Date)return i;"string"==typeof a&&(a=m.parseFormat(a));var o,l,u,d=/([\-+]\d+)([dmwy])/,p=i.match(/([\-+]\d+)([dmwy])/g);if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(i)){for(i=new Date,u=0;u<p.length;u++)switch(o=d.exec(p[u]),l=parseInt(o[1]),o[2]){case"d":i.setUTCDate(i.getUTCDate()+l);break;case"m":i=c.prototype.moveMonth.call(c.prototype,i,l);break;case"w":i.setUTCDate(i.getUTCDate()+7*l);break;case"y":i=c.prototype.moveYear.call(c.prototype,i,l)}return n(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),0,0,0)}p=i&&i.match(this.nonpunctuation)||[],i=new Date;var h,f,v={},y=["yyyy","yy","M","MM","m","mm","d","dd"],b={yyyy:function(t,e){return t.setUTCFullYear(e)},yy:function(t,e){return t.setUTCFullYear(2e3+e)},m:function(t,e){if(isNaN(t))return t;for(e-=1;0>e;)e+=12;for(e%=12,t.setUTCMonth(e);t.getUTCMonth()!==e;)t.setUTCDate(t.getUTCDate()-1);return t},d:function(t,e){return t.setUTCDate(e)}};b.M=b.MM=b.mm=b.m,b.dd=b.d,i=n(i.getFullYear(),i.getMonth(),i.getDate(),0,0,0);var _=a.parts.slice();if(p.length!==_.length&&(_=t(_).filter(function(e,n){return-1!==t.inArray(n,y)}).toArray()),p.length===_.length){var w;for(u=0,w=_.length;w>u;u++){if(h=parseInt(p[u],10),o=_[u],isNaN(h))switch(o){case"MM":f=t(g[r].months).filter(s),h=t.inArray(f[0],g[r].months)+1;break;case"M":f=t(g[r].monthsShort).filter(s),h=t.inArray(f[0],g[r].monthsShort)+1}v[o]=h}var k,x;for(u=0;u<y.length;u++)x=y[u],x in v&&!isNaN(v[x])&&(k=new Date(i),b[x](k,v[x]),isNaN(k)||(i=k))}return i},formatDate:function(e,n,i){if(!e)return"";"string"==typeof n&&(n=m.parseFormat(n));var a={d:e.getUTCDate(),D:g[i].daysShort[e.getUTCDay()],DD:g[i].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:g[i].monthsShort[e.getUTCMonth()],MM:g[i].months[e.getUTCMonth()],yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear()};a.dd=(a.d<10?"0":"")+a.d,a.mm=(a.m<10?"0":"")+a.m,e=[];for(var r=t.extend([],n.separators),s=0,o=n.parts.length;o>=s;s++)r.length&&e.push(r.shift()),e.push(a[n.parts[s]]);return e.join("")},headTemplate:'<thead><tr><th class="prev">&#171;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&#187;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};m.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+m.headTemplate+"<tbody></tbody>"+m.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+m.headTemplate+m.contTemplate+m.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+m.headTemplate+m.contTemplate+m.footTemplate+"</table></div></div>",t.fn.datepicker.DPGlobal=m,t.fn.datepicker.noConflict=function(){return t.fn.datepicker=d,this},t.fn.datepicker.version="1.4.1",t(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var n=t(this);n.data("datepicker")||(e.preventDefault(),p.call(n,"show"))}),t(function(){p.call(t('[data-provide="datepicker-inline"]'))})}(window.jQuery)}.call(n,e,void 0,void 0)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(t,e,n){(function(n){jQuery=n.jQuery=t("jquery"),__browserify_shim_require__=t,function(t,e,n){+function(t){"use strict";var e=function(n,i){this.$element=t(n),this.options=t.extend({},e.DEFAULTS,i),this.transitioning=null,this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};e.DEFAULTS={toggle:!0},e.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},e.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e=t.Event("show.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.$parent&&this.$parent.find("> .panel > .in");if(n&&n.length){var i=n.data("bs.collapse");if(i&&i.transitioning)return;n.collapse("hide"),i||n.data("bs.collapse",null)}var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0),this.transitioning=1;var r=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return r.call(this);var s=t.camelCase(["scroll",a].join("-"));this.$element.one(t.support.transition.end,t.proxy(r,this)).emulateTransitionEnd(350)[a](this.$element[0][s])}}},e.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return t.support.transition?void this.$element[n](0).one(t.support.transition.end,t.proxy(i,this)).emulateTransitionEnd(350):i.call(this)}}},e.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var n=t.fn.collapse;t.fn.collapse=function(n){return this.each(function(){var i=t(this),a=i.data("bs.collapse"),r=t.extend({},e.DEFAULTS,i.data(),"object"==typeof n&&n);!a&&r.toggle&&"show"==n&&(n=!n),a||i.data("bs.collapse",a=new e(this,r)),"string"==typeof n&&a[n]()})},t.fn.collapse.Constructor=e,t.fn.collapse.noConflict=function(){
return t.fn.collapse=n,this},t(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(e){var n,i=t(this),a=i.attr("data-target")||e.preventDefault()||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""),r=t(a),s=r.data("bs.collapse"),o=s?"toggle":i.data(),l=i.attr("data-parent"),c=l&&t(l);s&&s.transitioning||(c&&c.find('[data-toggle=collapse][data-parent="'+l+'"]').not(i).addClass("collapsed"),i[r.hasClass("in")?"addClass":"removeClass"]("collapsed")),r.collapse(o)})}(jQuery)}.call(n,e,void 0,void 0)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(t,e,n){(function(n){jQuery=n.jQuery=t("jquery"),__browserify_shim_require__=t,function(t,e,n){+function(t){"use strict";function e(e){t(i).remove(),t(a).each(function(){var i=n(t(this)),a={relatedTarget:this};i.hasClass("open")&&(i.trigger(e=t.Event("hide.bs.dropdown",a)),e.isDefaultPrevented()||i.removeClass("open").trigger("hidden.bs.dropdown",a))})}function n(e){var n=e.attr("data-target");n||(n=e.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&t(n);return i&&i.length?i:e.parent()}var i=".dropdown-backdrop",a="[data-toggle=dropdown]",r=function(e){t(e).on("click.bs.dropdown",this.toggle)};r.prototype.toggle=function(i){var a=t(this);if(!a.is(".disabled, :disabled")){var r=n(a),s=r.hasClass("open");if(e(),!s){"ontouchstart"in document.documentElement&&!r.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e);var o={relatedTarget:this};if(r.trigger(i=t.Event("show.bs.dropdown",o)),i.isDefaultPrevented())return;r.toggleClass("open").trigger("shown.bs.dropdown",o),a.focus()}return!1}},r.prototype.keydown=function(e){if(/(38|40|27)/.test(e.keyCode)){var i=t(this);if(e.preventDefault(),e.stopPropagation(),!i.is(".disabled, :disabled")){var r=n(i),s=r.hasClass("open");if(!s||s&&27==e.keyCode)return 27==e.which&&r.find(a).focus(),i.click();var o=" li:not(.divider):visible a",l=r.find("[role=menu]"+o+", [role=listbox]"+o);if(l.length){var c=l.index(l.filter(":focus"));38==e.keyCode&&c>0&&c--,40==e.keyCode&&c<l.length-1&&c++,~c||(c=0),l.eq(c).focus()}}}};var s=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var n=t(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new r(this)),"string"==typeof e&&i[e].call(n)})},t.fn.dropdown.Constructor=r,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=s,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",a,r.prototype.toggle).on("keydown.bs.dropdown.data-api",a+", [role=menu], [role=listbox]",r.prototype.keydown)}(jQuery)}.call(n,e,void 0,void 0)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],4:[function(t,e,n){(function(n){jQuery=n.jQuery=t("jquery"),__browserify_shim_require__=t,function(t,e,n){+function(t){"use strict";var e=function(e,n){this.options=n,this.$element=t(e),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};e.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},e.prototype.toggle=function(t){return this[this.isShown?"hide":"show"](t)},e.prototype.show=function(e){var n=this,i=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.backdrop(function(){var i=t.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(document.body),n.$element.show().scrollTop(0),i&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var a=t.Event("shown.bs.modal",{relatedTarget:e});i?n.$element.find(".modal-dialog").one(t.support.transition.end,function(){n.$element.focus().trigger(a)}).emulateTransitionEnd(300):n.$element.focus().trigger(a)}))},e.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one(t.support.transition.end,t.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},e.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.focus()},this))},e.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},e.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.removeBackdrop(),t.$element.trigger("hidden.bs.modal")})},e.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},e.prototype.backdrop=function(e){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=t.support.transition&&n;if(this.$backdrop=t('<div class="modal-backdrop '+n+'" />').appendTo(document.body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;i?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()):e&&e()};var n=t.fn.modal;t.fn.modal=function(n,i){return this.each(function(){var a=t(this),r=a.data("bs.modal"),s=t.extend({},e.DEFAULTS,a.data(),"object"==typeof n&&n);r||a.data("bs.modal",r=new e(this,s)),"string"==typeof n?r[n](i):s.show&&r.show(i)})},t.fn.modal.Constructor=e,t.fn.modal.noConflict=function(){return t.fn.modal=n,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var n=t(this),i=n.attr("href"),a=t(n.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),r=a.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(i)&&i},a.data(),n.data());n.is("a")&&e.preventDefault(),a.modal(r,this).one("hide",function(){n.is(":visible")&&n.focus()})}),t(document).on("show.bs.modal",".modal",function(){t(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){t(document.body).removeClass("modal-open")})}(jQuery)}.call(n,e,void 0,void 0)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],5:[function(t,e,n){(function(n){jQuery=n.jQuery=t("jquery"),__browserify_shim_require__=t,function(t,e,n){+function(t){"use strict";var e=function(e){this.element=t(e)};e.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),i=e.data("target");if(i||(i=e.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var a=n.find(".active:last a")[0],r=t.Event("show.bs.tab",{relatedTarget:a});if(e.trigger(r),!r.isDefaultPrevented()){var s=t(i);this.activate(e.parent("li"),n),this.activate(s,s.parent(),function(){e.trigger({type:"shown.bs.tab",relatedTarget:a})})}}},e.prototype.activate=function(e,n,i){function a(){r.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),s?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),i&&i()}var r=n.find("> .active"),s=i&&t.support.transition&&r.hasClass("fade");s?r.one(t.support.transition.end,a).emulateTransitionEnd(150):a(),r.removeClass("in")};var n=t.fn.tab;t.fn.tab=function(n){return this.each(function(){var i=t(this),a=i.data("bs.tab");a||i.data("bs.tab",a=new e(this)),"string"==typeof n&&a[n]()})},t.fn.tab.Constructor=e,t.fn.tab.noConflict=function(){return t.fn.tab=n,this},t(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),t(this).tab("show")})}(jQuery)}.call(n,e,void 0,void 0)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],6:[function(t,e,n){(function(n){jQuery=n.jQuery=t("jquery"),__browserify_shim_require__=t,function(t,e,n){+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}t.fn.emulateTransitionEnd=function(e){var n=!1,i=this;t(this).one(t.support.transition.end,function(){n=!0});var a=function(){n||t(i).trigger(t.support.transition.end)};return setTimeout(a,e),this},t(function(){t.support.transition=e()})}(jQuery)}.call(n,e,void 0,void 0)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(t,e,n){!function(t,e,n,i,a,r){function s(t,e){var n=typeof t[e];return"function"==n||!("object"!=n||!t[e])||"unknown"==n}function o(t,e){return!("object"!=typeof t[e]||!t[e])}function l(t){return"[object Array]"===Object.prototype.toString.call(t)}function c(){var t="Shockwave Flash",e="application/x-shockwave-flash";if(!b(navigator.plugins)&&"object"==typeof navigator.plugins[t]){var n=navigator.plugins[t].description;n&&!b(navigator.mimeTypes)&&navigator.mimeTypes[e]&&navigator.mimeTypes[e].enabledPlugin&&(T=n.match(/\d+/g))}if(!T){var i;try{i=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),T=Array.prototype.slice.call(i.GetVariable("$version").match(/(\d+),(\d+),(\d+),(\d+)/),1),i=null}catch(a){}}if(!T)return!1;var r=parseInt(T[0],10),s=parseInt(T[1],10);return M=r>9&&s>0,!0}function u(){if(!z){z=!0;for(var t=0;t<V.length;t++)V[t]();V.length=0}}function d(t,e){return z?void t.call(e):void V.push(function(){t.call(e)})}function p(){var t=parent;if(""!==q)for(var e=0,n=q.split(".");e<n.length;e++)t=t[n[e]];return t.easyXDM}function h(e){return t.easyXDM=B,q=e,q&&(R="easyXDM_"+q.replace(".","_")+"_"),N}function f(t){return t.match(F)[3]}function g(t){return t.match(F)[4]||""}function m(t){var e=t.toLowerCase().match(F),n=e[2],i=e[3],a=e[4]||"";return("http:"==n&&":80"==a||"https:"==n&&":443"==a)&&(a=""),n+"//"+i+a}function v(t){if(t=t.replace($,"$1/"),!t.match(/^(http||https):\/\//)){var e="/"===t.substring(0,1)?"":n.pathname;"/"!==e.substring(e.length-1)&&(e=e.substring(0,e.lastIndexOf("/")+1)),t=n.protocol+"//"+n.host+e+t}for(;L.test(t);)t=t.replace(L,"");return t}function y(t,e){var n="",i=t.indexOf("#");-1!==i&&(n=t.substring(i),t=t.substring(0,i));var a=[];for(var s in e)e.hasOwnProperty(s)&&a.push(s+"="+r(e[s]));return t+(Y?"#":-1==t.indexOf("?")?"?":"&")+a.join("&")+n}function b(t){return"undefined"==typeof t}function _(t,e,n){var i;for(var a in e)e.hasOwnProperty(a)&&(a in t?(i=e[a],"object"==typeof i?_(t[a],i,n):n||(t[a]=e[a])):t[a]=e[a]);return t}function w(){var t=e.body.appendChild(e.createElement("form")),n=t.appendChild(e.createElement("input"));n.name=R+"TEST"+P,S=n!==t.elements[n.name],e.body.removeChild(t)}function k(t){b(S)&&w();var n;S?n=e.createElement('<iframe name="'+t.props.name+'"/>'):(n=e.createElement("IFRAME"),n.name=t.props.name),n.id=n.name=t.props.name,delete t.props.name,"string"==typeof t.container&&(t.container=e.getElementById(t.container)),t.container||(_(n.style,{position:"absolute",top:"-2000px",left:"0px"}),t.container=e.body);var i=t.props.src;if(t.props.src="javascript:false",_(n,t.props),n.border=n.frameBorder=0,n.allowTransparency=!0,t.container.appendChild(n),t.onLoad&&I(n,"load",t.onLoad),t.usePost){var a,r=t.container.appendChild(e.createElement("form"));if(r.target=n.name,r.action=i,r.method="POST","object"==typeof t.usePost)for(var s in t.usePost)t.usePost.hasOwnProperty(s)&&(S?a=e.createElement('<input name="'+s+'"/>'):(a=e.createElement("INPUT"),a.name=s),a.value=t.usePost[s],r.appendChild(a));r.submit(),r.parentNode.removeChild(r)}else n.src=i;return t.props.src=i,n}function x(t,e){"string"==typeof t&&(t=[t]);for(var n,i=t.length;i--;)if(n=t[i],n=new RegExp("^"==n.substr(0,1)?n:"^"+n.replace(/(\*)/g,".$1").replace(/\?/g,".")+"$"),n.test(e))return!0;return!1}function C(i){var a,r=i.protocol;if(i.isHost=i.isHost||b(W.xdm_p),Y=i.hash||!1,i.props||(i.props={}),i.isHost)i.remote=v(i.remote),i.channel=i.channel||"default"+P++,i.secret=Math.random().toString(16).substring(2),b(r)&&(r=m(n.href)==m(i.remote)?"4":s(t,"postMessage")||s(e,"postMessage")?"1":i.swf&&s(t,"ActiveXObject")&&c()?"6":"Gecko"===navigator.product&&"frameElement"in t&&-1==navigator.userAgent.indexOf("WebKit")?"5":i.remoteHelper?"2":"0");else if(i.channel=W.xdm_c.replace(/["'<>\\]/g,""),i.secret=W.xdm_s,i.remote=W.xdm_e.replace(/["'<>\\]/g,""),r=W.xdm_p,i.acl&&!x(i.acl,i.remote))throw new Error("Access denied for "+i.remote);switch(i.protocol=r,r){case"0":if(_(i,{interval:100,delay:2e3,useResize:!0,useParent:!1,usePolling:!1},!0),i.isHost){if(!i.local){for(var o,l=n.protocol+"//"+n.host,u=e.body.getElementsByTagName("img"),d=u.length;d--;)if(o=u[d],o.src.substring(0,l.length)===l){i.local=o.src;break}i.local||(i.local=t)}var p={xdm_c:i.channel,xdm_p:0};i.local===t?(i.usePolling=!0,i.useParent=!0,i.local=n.protocol+"//"+n.host+n.pathname+n.search,p.xdm_e=i.local,p.xdm_pa=1):p.xdm_e=v(i.local),i.container&&(i.useResize=!1,p.xdm_po=1),i.remote=y(i.remote,p)}else _(i,{channel:W.xdm_c,remote:W.xdm_e,useParent:!b(W.xdm_pa),usePolling:!b(W.xdm_po),useResize:i.useParent?!1:i.useResize});a=[new N.stack.HashTransport(i),new N.stack.ReliableBehavior({}),new N.stack.QueueBehavior({encode:!0,maxLength:4e3-i.remote.length}),new N.stack.VerifyBehavior({initiate:i.isHost})];break;case"1":a=[new N.stack.PostMessageTransport(i)];break;case"2":i.remoteHelper=v(i.remoteHelper),a=[new N.stack.NameTransport(i),new N.stack.QueueBehavior,new N.stack.VerifyBehavior({initiate:i.isHost})];break;case"3":a=[new N.stack.NixTransport(i)];break;case"4":a=[new N.stack.SameOriginTransport(i)];break;case"5":a=[new N.stack.FrameElementTransport(i)];break;case"6":T||c(),a=[new N.stack.FlashTransport(i)]}return a.push(new N.stack.QueueBehavior({lazy:i.lazy,remove:!0})),a}function D(t){for(var e,n={incoming:function(t,e){this.up.incoming(t,e)},outgoing:function(t,e){this.down.outgoing(t,e)},callback:function(t){this.up.callback(t)},init:function(){this.down.init()},destroy:function(){this.down.destroy()}},i=0,a=t.length;a>i;i++)e=t[i],_(e,n,!0),0!==i&&(e.down=t[i-1]),i!==a-1&&(e.up=t[i+1]);return e}function A(t){t.up.down=t.down,t.down.up=t.up,t.up=t.down=null}var S,T,M,I,E,j=this,P=Math.floor(1e4*Math.random()),O=Function.prototype,F=/^((http.?:)\/\/([^:\/\s]+)(:\d+)*)/,L=/[\-\w]+\/\.\.\//,$=/([^:])\/\//g,q="",N={},B=t.easyXDM,R="easyXDM_",Y=!1;if(s(t,"addEventListener"))I=function(t,e,n){t.addEventListener(e,n,!1)},E=function(t,e,n){t.removeEventListener(e,n,!1)};else{if(!s(t,"attachEvent"))throw new Error("Browser not supported");I=function(t,e,n){t.attachEvent("on"+e,n)},E=function(t,e,n){t.detachEvent("on"+e,n)}}var U,z=!1,V=[];if("readyState"in e?(U=e.readyState,z="complete"==U||~navigator.userAgent.indexOf("AppleWebKit/")&&("loaded"==U||"interactive"==U)):z=!!e.body,!z){if(s(t,"addEventListener"))I(e,"DOMContentLoaded",u);else if(I(e,"readystatechange",function(){"complete"==e.readyState&&u()}),e.documentElement.doScroll&&t===top){var H=function(){if(!z){try{e.documentElement.doScroll("left")}catch(t){return void i(H,1)}u()}};H()}I(t,"load",u)}var W=function(t){t=t.substring(1).split("&");for(var e,n={},i=t.length;i--;)e=t[i].split("="),n[e[0]]=a(e[1]);return n}(/xdm_e=/.test(n.search)?n.search:n.hash),K=function(){var t={},e={a:[1,2,3]},n='{"a":[1,2,3]}';return"undefined"!=typeof JSON&&"function"==typeof JSON.stringify&&JSON.stringify(e).replace(/\s/g,"")===n?JSON:(Object.toJSON&&Object.toJSON(e).replace(/\s/g,"")===n&&(t.stringify=Object.toJSON),"function"==typeof String.prototype.evalJSON&&(e=n.evalJSON(),e.a&&3===e.a.length&&3===e.a[2]&&(t.parse=function(t){return t.evalJSON()})),t.stringify&&t.parse?(K=function(){return t},t):null)};_(N,{version:"2.4.17.1",query:W,stack:{},apply:_,getJSONObject:K,whenReady:d,noConflict:h}),N.DomHelper={on:I,un:E,requiresJSON:function(n){o(t,"JSON")||e.write('<script type="text/javascript" src="'+n+'"></script>')}},function(){var t={};N.Fn={set:function(e,n){t[e]=n},get:function(e,n){var i=t[e];return n&&delete t[e],i}}}(),N.Socket=function(t){var e=D(C(t).concat([{incoming:function(e,n){t.onMessage(e,n)},callback:function(e){t.onReady&&t.onReady(e)}}])),n=m(t.remote);this.origin=m(t.remote),this.destroy=function(){e.destroy()},this.postMessage=function(t){e.outgoing(t,n)},e.init()},N.Rpc=function(t,e){if(e.local)for(var n in e.local)if(e.local.hasOwnProperty(n)){var i=e.local[n];"function"==typeof i&&(e.local[n]={method:i})}var a=D(C(t).concat([new N.stack.RpcBehavior(this,e),{callback:function(e){t.onReady&&t.onReady(e)}}]));this.origin=m(t.remote),this.destroy=function(){a.destroy()},a.init()},N.stack.SameOriginTransport=function(t){var e,a,r,s;return e={outgoing:function(t,e,n){r(t),n&&n()},destroy:function(){a&&(a.parentNode.removeChild(a),a=null)},onDOMReady:function(){s=m(t.remote),t.isHost?(_(t.props,{src:y(t.remote,{xdm_e:n.protocol+"//"+n.host+n.pathname,xdm_c:t.channel,xdm_p:4}),name:R+t.channel+"_provider"}),a=k(t),N.Fn.set(t.channel,function(t){return r=t,i(function(){e.up.callback(!0)},0),function(t){e.up.incoming(t,s)}})):(r=p().Fn.get(t.channel,!0)(function(t){e.up.incoming(t,s)}),i(function(){e.up.callback(!0)},0))},init:function(){d(e.onDOMReady,e)}}},N.stack.FlashTransport=function(t){function a(t,e){i(function(){s.up.incoming(t,l)},0)}function r(n){var i=t.swf+"?host="+t.isHost,a="easyXDM_swf_"+Math.floor(1e4*Math.random());N.Fn.set("flash_loaded"+n.replace(/[\-.]/g,"_"),function(){N.stack.FlashTransport[n].swf=c=u.firstChild;for(var t=N.stack.FlashTransport[n].queue,e=0;e<t.length;e++)t[e]();t.length=0}),t.swfContainer?u="string"==typeof t.swfContainer?e.getElementById(t.swfContainer):t.swfContainer:(u=e.createElement("div"),_(u.style,M&&t.swfNoThrottle?{height:"20px",width:"20px",position:"fixed",right:0,top:0}:{height:"1px",width:"1px",position:"absolute",overflow:"hidden",right:0,top:0}),e.body.appendChild(u));var r="callback=flash_loaded"+n.replace(/[\-.]/g,"_")+"&proto="+j.location.protocol+"&domain="+f(j.location.href)+"&port="+g(j.location.href)+"&ns="+q;u.innerHTML="<object height='20' width='20' type='application/x-shockwave-flash' id='"+a+"' data='"+i+"'><param name='allowScriptAccess' value='always'></param><param name='wmode' value='transparent'><param name='movie' value='"+i+"'></param><param name='flashvars' value='"+r+"'></param><embed type='application/x-shockwave-flash' FlashVars='"+r+"' allowScriptAccess='always' wmode='transparent' src='"+i+"' height='1' width='1'></embed></object>"}var s,o,l,c,u;return s={outgoing:function(e,n,i){c.postMessage(t.channel,e.toString()),i&&i()},destroy:function(){try{c.destroyChannel(t.channel)}catch(e){}c=null,o&&(o.parentNode.removeChild(o),o=null)},onDOMReady:function(){l=t.remote,N.Fn.set("flash_"+t.channel+"_init",function(){i(function(){s.up.callback(!0)})}),N.Fn.set("flash_"+t.channel+"_onMessage",a),t.swf=v(t.swf);var e=f(t.swf),u=function(){N.stack.FlashTransport[e].init=!0,c=N.stack.FlashTransport[e].swf,c.createChannel(t.channel,t.secret,m(t.remote),t.isHost),t.isHost&&(M&&t.swfNoThrottle&&_(t.props,{position:"fixed",right:0,top:0,height:"20px",width:"20px"}),_(t.props,{src:y(t.remote,{xdm_e:m(n.href),xdm_c:t.channel,xdm_p:6,xdm_s:t.secret}),name:R+t.channel+"_provider"}),o=k(t))};N.stack.FlashTransport[e]&&N.stack.FlashTransport[e].init?u():N.stack.FlashTransport[e]?N.stack.FlashTransport[e].queue.push(u):(N.stack.FlashTransport[e]={queue:[u]},r(e))},init:function(){d(s.onDOMReady,s)}}},N.stack.PostMessageTransport=function(e){function a(t){if(t.origin)return m(t.origin);if(t.uri)return m(t.uri);if(t.domain)return n.protocol+"//"+t.domain;throw"Unable to retrieve the origin of the event"}function r(t){var n=a(t);n==c&&t.data.substring(0,e.channel.length+1)==e.channel+" "&&s.up.incoming(t.data.substring(e.channel.length+1),n)}var s,o,l,c;return s={outgoing:function(t,n,i){l.postMessage(e.channel+" "+t,n||c),i&&i()},destroy:function(){E(t,"message",r),o&&(l=null,o.parentNode.removeChild(o),o=null)},onDOMReady:function(){if(c=m(e.remote),e.isHost){var a=function(n){n.data==e.channel+"-ready"&&(l="postMessage"in o.contentWindow?o.contentWindow:o.contentWindow.document,E(t,"message",a),I(t,"message",r),i(function(){s.up.callback(!0)},0))};I(t,"message",a),_(e.props,{src:y(e.remote,{xdm_e:m(n.href),xdm_c:e.channel,xdm_p:1}),name:R+e.channel+"_provider"}),o=k(e)}else I(t,"message",r),l="postMessage"in t.parent?t.parent:t.parent.document,l.postMessage(e.channel+"-ready",c),i(function(){s.up.callback(!0)},0)},init:function(){d(s.onDOMReady,s)}}},N.stack.FrameElementTransport=function(a){var r,s,o,l;return r={outgoing:function(t,e,n){o.call(this,t),n&&n()},destroy:function(){s&&(s.parentNode.removeChild(s),s=null)},onDOMReady:function(){l=m(a.remote),a.isHost?(_(a.props,{src:y(a.remote,{xdm_e:m(n.href),xdm_c:a.channel,xdm_p:5}),name:R+a.channel+"_provider"}),s=k(a),s.fn=function(t){return delete s.fn,o=t,i(function(){r.up.callback(!0)},0),function(t){r.up.incoming(t,l)}}):(e.referrer&&m(e.referrer)!=W.xdm_e&&(t.top.location=W.xdm_e),o=t.frameElement.fn(function(t){r.up.incoming(t,l)}),r.up.callback(!0))},init:function(){d(r.onDOMReady,r)}}},N.stack.NameTransport=function(t){function e(e){var n=t.remoteHelper+(o?"#_3":"#_2")+t.channel;l.contentWindow.sendMessage(e,n)}function n(){o?2!==++u&&o||s.up.callback(!0):(e("ready"),s.up.callback(!0))}function a(t){s.up.incoming(t,h)}function r(){p&&i(function(){p(!0)},0)}var s,o,l,c,u,p,h,f;return s={outgoing:function(t,n,i){p=i,e(t)},destroy:function(){l.parentNode.removeChild(l),l=null,o&&(c.parentNode.removeChild(c),c=null)},onDOMReady:function(){o=t.isHost,u=0,h=m(t.remote),t.local=v(t.local),o?(N.Fn.set(t.channel,function(e){o&&"ready"===e&&(N.Fn.set(t.channel,a),n())}),f=y(t.remote,{xdm_e:t.local,xdm_c:t.channel,xdm_p:2}),_(t.props,{src:f+"#"+t.channel,name:R+t.channel+"_provider"}),c=k(t)):(t.remoteHelper=t.remote,N.Fn.set(t.channel,a));var e=function(){var a=l||this;E(a,"load",e),N.Fn.set(t.channel+"_load",r),function s(){"function"==typeof a.contentWindow.sendMessage?n():i(s,50)}()};l=k({props:{src:t.local+"#_4"+t.channel},onLoad:e})},init:function(){d(s.onDOMReady,s)}}},N.stack.HashTransport=function(e){function n(t){if(g){var n=e.remote+"#"+h++ +"_"+t;(l||!v?g.contentWindow:g).location=n}}function a(t){p=t,o.up.incoming(p.substring(p.indexOf("_")+1),y)}function r(){if(f){var t=f.location.href,e="",n=t.indexOf("#");-1!=n&&(e=t.substring(n)),e&&e!=p&&a(e)}}function s(){c=setInterval(r,u)}var o,l,c,u,p,h,f,g,v,y;return o={outgoing:function(t,e){n(t)},destroy:function(){t.clearInterval(c),(l||!v)&&g.parentNode.removeChild(g),g=null},onDOMReady:function(){if(l=e.isHost,u=e.interval,p="#"+e.channel,h=0,v=e.useParent,y=m(e.remote),l){if(_(e.props,{src:e.remote,name:R+e.channel+"_provider"}),v)e.onLoad=function(){f=t,s(),o.up.callback(!0)};else{var n=0,a=e.delay/50;!function r(){if(++n>a)throw new Error("Unable to reference listenerwindow");try{f=g.contentWindow.frames[R+e.channel+"_consumer"]}catch(t){}f?(s(),o.up.callback(!0)):i(r,50)}()}g=k(e)}else f=t,s(),v?(g=parent,o.up.callback(!0)):(_(e,{props:{src:e.remote+"#"+e.channel+new Date,name:R+e.channel+"_consumer"},onLoad:function(){o.up.callback(!0)}}),g=k(e))},init:function(){d(o.onDOMReady,o)}}},N.stack.ReliableBehavior=function(t){var e,n,i=0,a=0,r="";return e={incoming:function(t,s){var o=t.indexOf("_"),l=t.substring(0,o).split(",");t=t.substring(o+1),l[0]==i&&(r="",n&&(n(!0),n=null)),t.length>0&&(e.down.outgoing(l[1]+","+i+"_"+r,s),a!=l[1]&&(a=l[1],e.up.incoming(t,s)))},outgoing:function(t,s,o){r=t,n=o,e.down.outgoing(a+","+ ++i+"_"+t,s)}}},N.stack.QueueBehavior=function(t){function e(){if(t.remove&&0===o.length)return void A(n);if(!l&&0!==o.length&&!s){l=!0;var a=o.shift();n.down.outgoing(a.data,a.origin,function(t){l=!1,a.callback&&i(function(){a.callback(t)},0),e()})}}var n,s,o=[],l=!0,c="",u=0,d=!1,p=!1;return n={init:function(){b(t)&&(t={}),t.maxLength&&(u=t.maxLength,p=!0),t.lazy?d=!0:n.down.init()},callback:function(t){l=!1;var i=n.up;e(),i.callback(t)},incoming:function(e,i){if(p){var r=e.indexOf("_"),s=parseInt(e.substring(0,r),10);c+=e.substring(r+1),0===s&&(t.encode&&(c=a(c)),n.up.incoming(c,i),c="")}else n.up.incoming(e,i)},outgoing:function(i,a,s){t.encode&&(i=r(i));var l,c=[];if(p){for(;0!==i.length;)l=i.substring(0,u),i=i.substring(l.length),c.push(l);for(;l=c.shift();)o.push({data:c.length+"_"+l,origin:a,callback:0===c.length?s:null})}else o.push({data:i,origin:a,callback:s});d?n.down.init():e()},destroy:function(){s=!0,n.down.destroy()}}},N.stack.VerifyBehavior=function(t){function e(){i=Math.random().toString(16).substring(2),n.down.outgoing(i)}var n,i,a;return n={incoming:function(r,s){var o=r.indexOf("_");-1===o?r===i?n.up.callback(!0):a||(a=r,t.initiate||e(),n.down.outgoing(r)):r.substring(0,o)===a&&n.up.incoming(r.substring(o+1),s)},outgoing:function(t,e,a){n.down.outgoing(i+"_"+t,e,a)},callback:function(n){t.initiate&&e()}}},N.stack.RpcBehavior=function(t,e){function n(t){t.jsonrpc="2.0",r.down.outgoing(s.stringify(t))}function i(t,e){var i=Array.prototype.slice;return function(){var a,r=arguments.length,s={method:e};r>0&&"function"==typeof arguments[r-1]?(r>1&&"function"==typeof arguments[r-2]?(a={success:arguments[r-2],error:arguments[r-1]},s.params=i.call(arguments,0,r-2)):(a={success:arguments[r-1]},s.params=i.call(arguments,0,r-1)),c[""+ ++o]=a,s.id=o):s.params=i.call(arguments,0),t.namedParams&&1===s.params.length&&(s.params=s.params[0]),n(s)}}function a(t,e,i,a){if(!i)return void(e&&n({id:e,error:{code:-32601,message:"Procedure not found."}}));var r,s;e?(r=function(t){r=O,n({id:e,result:t})},s=function(t,i){s=O;var a={id:e,error:{code:-32099,message:t}};i&&(a.error.data=i),n(a)}):r=s=O,l(a)||(a=[a]);try{var o=i.method.apply(i.scope,a.concat([r,s]));b(o)||r(o)}catch(c){s(c.message)}}var r,s=e.serializer||K(),o=0,c={};return r={incoming:function(t,i){var r=s.parse(t);if(r.method)e.handle?e.handle(r,n):a(r.method,r.id,e.local[r.method],r.params);else{var o=c[r.id];r.error?o.error&&o.error(r.error):o.success&&o.success(r.result),delete c[r.id]}},init:function(){if(e.remote)for(var n in e.remote)e.remote.hasOwnProperty(n)&&(t[n]=i(e.remote[n],n));r.down.init()},destroy:function(){for(var n in e.remote)e.remote.hasOwnProperty(n)&&t.hasOwnProperty(n)&&delete t[n];r.down.destroy()}}},j.easyXDM=N}(window,document,location,window.setTimeout,decodeURIComponent,encodeURIComponent)},{}],8:[function(t,e,n){(function(i){jQuery=i.jQuery=t("jquery"),__browserify_shim_require__=t,function(t,e,i){!function(t){"use strict";"function"==typeof e&&e.amd?e(["jquery"],t):t("object"==typeof n&&"function"==typeof i?__browserify_shim_require__("jquery"):jQuery)}(function(t){"use strict";function e(n,i){var a=t.noop,r=this,s={ajaxSettings:{},autoSelectFirst:!1,appendTo:document.body,serviceUrl:null,lookup:null,onSelect:null,width:"auto",minChars:1,maxHeight:300,deferRequestBy:0,params:{},formatResult:e.formatResult,delimiter:null,zIndex:9999,type:"GET",noCache:!1,onSearchStart:a,onSearchComplete:a,onSearchError:a,preserveInput:!1,containerClass:"autocomplete-suggestions",tabDisabled:!1,dataType:"text",currentRequest:null,triggerSelectOnValidInput:!0,preventBadQueries:!0,lookupFilter:function(t,e,n){return-1!==t.value.toLowerCase().indexOf(n)},paramName:"query",transformResult:function(e){return"string"==typeof e?t.parseJSON(e):e},showNoSuggestionNotice:!1,noSuggestionNotice:"No results",orientation:"bottom",forceFixPosition:!1};r.element=n,r.el=t(n),r.suggestions=[],r.badQueries=[],r.selectedIndex=-1,r.currentValue=r.element.value,r.intervalId=0,r.cachedResponse={},r.onChangeInterval=null,r.onChange=null,r.isLocal=!1,r.suggestionsContainer=null,r.noSuggestionsContainer=null,r.options=t.extend({},s,i),r.classes={selected:"autocomplete-selected",suggestion:"autocomplete-suggestion"},r.hint=null,r.hintValue="",r.selection=null,r.initialize(),r.setOptions(i)}var n=function(){return{escapeRegExChars:function(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")},createNode:function(t){var e=document.createElement("div");return e.className=t,e.style.position="absolute",e.style.display="none",e}}}(),i={ESC:27,TAB:9,RETURN:13,LEFT:37,UP:38,RIGHT:39,DOWN:40};e.utils=n,t.Autocomplete=e,e.formatResult=function(t,e){if(!e)return t.value;var i="("+n.escapeRegExChars(e)+")";return t.value.replace(new RegExp(i,"gi"),"<strong>$1</strong>").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/&lt;(\/?strong)&gt;/g,"<$1>")},e.prototype={killerFn:null,initialize:function(){var n,i=this,a="."+i.classes.suggestion,r=i.classes.selected,s=i.options;i.element.setAttribute("autocomplete","off"),i.killerFn=function(e){t(e.target).closest("."+i.options.containerClass).length||(i.killSuggestions(),i.disableKillerFn())},i.noSuggestionsContainer=t('<div class="autocomplete-no-suggestion"></div>').html(this.options.noSuggestionNotice).get(0),i.suggestionsContainer=e.utils.createNode(s.containerClass),n=t(i.suggestionsContainer),n.appendTo(s.appendTo),"auto"!==s.width&&n.css("width",s.width),n.on("mouseover.autocomplete",a,function(){i.activate(t(this).data("index"))}),n.on("mouseout.autocomplete",function(){i.selectedIndex=-1,n.children("."+r).removeClass(r)}),n.on("click.autocomplete",a,function(){return i.select(t(this).data("index")),!1}),i.fixPositionCapture=function(){i.visible&&i.fixPosition()},t(window).on("resize.autocomplete",i.fixPositionCapture),i.el.on("keydown.autocomplete",function(t){i.onKeyPress(t)}),i.el.on("keyup.autocomplete",function(t){i.onKeyUp(t)}),i.el.on("blur.autocomplete",function(){i.onBlur()}),i.el.on("focus.autocomplete",function(){i.onFocus()}),i.el.on("change.autocomplete",function(t){i.onKeyUp(t)}),i.el.on("input.autocomplete",function(t){i.onKeyUp(t)})},onFocus:function(){var t=this;t.fixPosition(),t.el.val().length>=t.options.minChars&&t.onValueChange()},onBlur:function(){this.enableKillerFn()},abortAjax:function(){var t=this;t.currentRequest&&(t.currentRequest.abort(),t.currentRequest=null)},setOptions:function(e){var n=this,i=n.options;t.extend(i,e),n.isLocal=t.isArray(i.lookup),n.isLocal&&(i.lookup=n.verifySuggestionsFormat(i.lookup)),i.orientation=n.validateOrientation(i.orientation,"bottom"),t(n.suggestionsContainer).css({"max-height":i.maxHeight+"px",width:i.width+"px","z-index":i.zIndex})},clearCache:function(){this.cachedResponse={},this.badQueries=[]},clear:function(){this.clearCache(),this.currentValue="",this.suggestions=[]},disable:function(){var t=this;t.disabled=!0,clearInterval(t.onChangeInterval),t.abortAjax()},enable:function(){this.disabled=!1},fixPosition:function(){var e=this,n=t(e.suggestionsContainer),i=n.parent().get(0);if(i===document.body||e.options.forceFixPosition){var a=e.options.orientation,r=n.outerHeight(),s=e.el.outerHeight(),o=e.el.offset(),l={top:o.top,left:o.left};if("auto"===a){var c=t(window).height(),u=t(window).scrollTop(),d=-u+o.top-r,p=u+c-(o.top+s+r);a=Math.max(d,p)===d?"top":"bottom"}if("top"===a?l.top+=-r:l.top+=s,i!==document.body){var h,f=n.css("opacity");e.visible||n.css("opacity",0).show(),h=n.offsetParent().offset(),l.top-=h.top,l.left-=h.left,e.visible||n.css("opacity",f).hide()}"auto"===e.options.width&&(l.width=e.el.outerWidth()+"px"),
n.css(l)}},enableKillerFn:function(){var e=this;t(document).on("click.autocomplete",e.killerFn)},disableKillerFn:function(){var e=this;t(document).off("click.autocomplete",e.killerFn)},killSuggestions:function(){var t=this;t.stopKillSuggestions(),t.intervalId=window.setInterval(function(){t.visible&&(t.options.preserveInput||t.el.val(t.currentValue),t.hide()),t.stopKillSuggestions()},50)},stopKillSuggestions:function(){window.clearInterval(this.intervalId)},isCursorAtEnd:function(){var t,e=this,n=e.el.val().length,i=e.element.selectionStart;return"number"==typeof i?i===n:document.selection?(t=document.selection.createRange(),t.moveStart("character",-n),n===t.text.length):!0},onKeyPress:function(t){var e=this;if(!e.disabled&&!e.visible&&t.which===i.DOWN&&e.currentValue)return void e.suggest();if(!e.disabled&&e.visible){switch(t.which){case i.ESC:e.el.val(e.currentValue),e.hide();break;case i.RIGHT:if(e.hint&&e.options.onHint&&e.isCursorAtEnd()){e.selectHint();break}return;case i.TAB:if(e.hint&&e.options.onHint)return void e.selectHint();if(-1===e.selectedIndex)return void e.hide();if(e.select(e.selectedIndex),e.options.tabDisabled===!1)return;break;case i.RETURN:if(-1===e.selectedIndex)return void e.hide();e.select(e.selectedIndex);break;case i.UP:e.moveUp();break;case i.DOWN:e.moveDown();break;default:return}t.stopImmediatePropagation(),t.preventDefault()}},onKeyUp:function(t){var e=this;if(!e.disabled){switch(t.which){case i.UP:case i.DOWN:return}clearInterval(e.onChangeInterval),e.currentValue!==e.el.val()&&(e.findBestHint(),e.options.deferRequestBy>0?e.onChangeInterval=setInterval(function(){e.onValueChange()},e.options.deferRequestBy):e.onValueChange())}},onValueChange:function(){var e=this,n=e.options,i=e.el.val(),a=e.getQuery(i);return e.selection&&e.currentValue!==a&&(e.selection=null,(n.onInvalidateSelection||t.noop).call(e.element)),clearInterval(e.onChangeInterval),e.currentValue=i,e.selectedIndex=-1,n.triggerSelectOnValidInput&&e.isExactMatch(a)?void e.select(0):void(a.length<n.minChars?e.hide():e.getSuggestions(a))},isExactMatch:function(t){var e=this.suggestions;return 1===e.length&&e[0].value.toLowerCase()===t.toLowerCase()},getQuery:function(e){var n,i=this.options.delimiter;return i?(n=e.split(i),t.trim(n[n.length-1])):e},getSuggestionsLocal:function(e){var n,i=this,a=i.options,r=e.toLowerCase(),s=a.lookupFilter,o=parseInt(a.lookupLimit,10);return n={suggestions:t.grep(a.lookup,function(t){return s(t,e,r)})},o&&n.suggestions.length>o&&(n.suggestions=n.suggestions.slice(0,o)),n},getSuggestions:function(e){var n,i,a,r,s=this,o=s.options,l=o.serviceUrl;if(o.params[o.paramName]=e,i=o.ignoreParams?null:o.params,o.onSearchStart.call(s.element,o.params)!==!1){if(t.isFunction(o.lookup))return void o.lookup(e,function(t){s.suggestions=t.suggestions,s.suggest(),o.onSearchComplete.call(s.element,e,t.suggestions)});s.isLocal?n=s.getSuggestionsLocal(e):(t.isFunction(l)&&(l=l.call(s.element,e)),a=l+"?"+t.param(i||{}),n=s.cachedResponse[a]),n&&t.isArray(n.suggestions)?(s.suggestions=n.suggestions,s.suggest(),o.onSearchComplete.call(s.element,e,n.suggestions)):s.isBadQuery(e)?o.onSearchComplete.call(s.element,e,[]):(s.abortAjax(),r={url:l,data:i,type:o.type,dataType:o.dataType},t.extend(r,o.ajaxSettings),s.currentRequest=t.ajax(r).done(function(t){var n;s.currentRequest=null,n=o.transformResult(t,e),s.processResponse(n,e,a),o.onSearchComplete.call(s.element,e,n.suggestions)}).fail(function(t,n,i){o.onSearchError.call(s.element,e,t,n,i)}))}},isBadQuery:function(t){if(!this.options.preventBadQueries)return!1;for(var e=this.badQueries,n=e.length;n--;)if(0===t.indexOf(e[n]))return!0;return!1},hide:function(){var e=this,n=t(e.suggestionsContainer);t.isFunction(e.options.onHide)&&e.visible&&e.options.onHide.call(e.element,n),e.visible=!1,e.selectedIndex=-1,clearInterval(e.onChangeInterval),t(e.suggestionsContainer).hide(),e.signalHint(null)},suggest:function(){if(!this.suggestions.length)return void(this.options.showNoSuggestionNotice?this.noSuggestions():this.hide());var e,n=this,i=n.options,a=i.groupBy,r=i.formatResult,s=n.getQuery(n.currentValue),o=n.classes.suggestion,l=n.classes.selected,c=t(n.suggestionsContainer),u=t(n.noSuggestionsContainer),d=i.beforeRender,p="",h=function(t,n){var i=t.data[a];return e===i?"":(e=i,'<div class="autocomplete-group"><strong>'+e+"</strong></div>")};return i.triggerSelectOnValidInput&&n.isExactMatch(s)?void n.select(0):(t.each(n.suggestions,function(t,e){a&&(p+=h(e,s,t)),p+='<div class="'+o+'" data-index="'+t+'">'+r(e,s,t)+"</div>"}),this.adjustContainerWidth(),u.detach(),c.html(p),t.isFunction(d)&&d.call(n.element,c,n.suggestions),n.fixPosition(),c.show(),i.autoSelectFirst&&(n.selectedIndex=0,c.scrollTop(0),c.children("."+o).first().addClass(l)),n.visible=!0,void n.findBestHint())},noSuggestions:function(){var e=this,n=t(e.suggestionsContainer),i=t(e.noSuggestionsContainer);this.adjustContainerWidth(),i.detach(),n.empty(),n.append(i),e.fixPosition(),n.show(),e.visible=!0},adjustContainerWidth:function(){var e,n=this,i=n.options,a=t(n.suggestionsContainer);"auto"===i.width&&(e=n.el.outerWidth(),a.css("width",e>0?e:300))},findBestHint:function(){var e=this,n=e.el.val().toLowerCase(),i=null;n&&(t.each(e.suggestions,function(t,e){var a=0===e.value.toLowerCase().indexOf(n);return a&&(i=e),!a}),e.signalHint(i))},signalHint:function(e){var n="",i=this;e&&(n=i.currentValue+e.value.substr(i.currentValue.length)),i.hintValue!==n&&(i.hintValue=n,i.hint=e,(this.options.onHint||t.noop)(n))},verifySuggestionsFormat:function(e){return e.length&&"string"==typeof e[0]?t.map(e,function(t){return{value:t,data:null}}):e},validateOrientation:function(e,n){return e=t.trim(e||"").toLowerCase(),-1===t.inArray(e,["auto","bottom","top"])&&(e=n),e},processResponse:function(t,e,n){var i=this,a=i.options;t.suggestions=i.verifySuggestionsFormat(t.suggestions),a.noCache||(i.cachedResponse[n]=t,a.preventBadQueries&&!t.suggestions.length&&i.badQueries.push(e)),e===i.getQuery(i.currentValue)&&(i.suggestions=t.suggestions,i.suggest())},activate:function(e){var n,i=this,a=i.classes.selected,r=t(i.suggestionsContainer),s=r.find("."+i.classes.suggestion);return r.find("."+a).removeClass(a),i.selectedIndex=e,-1!==i.selectedIndex&&s.length>i.selectedIndex?(n=s.get(i.selectedIndex),t(n).addClass(a),n):null},selectHint:function(){var e=this,n=t.inArray(e.hint,e.suggestions);e.select(n)},select:function(t){var e=this;e.hide(),e.onSelect(t)},moveUp:function(){var e=this;return-1!==e.selectedIndex?0===e.selectedIndex?(t(e.suggestionsContainer).children().first().removeClass(e.classes.selected),e.selectedIndex=-1,e.el.val(e.currentValue),void e.findBestHint()):void e.adjustScroll(e.selectedIndex-1):void 0},moveDown:function(){var t=this;t.selectedIndex!==t.suggestions.length-1&&t.adjustScroll(t.selectedIndex+1)},adjustScroll:function(e){var n=this,i=n.activate(e);if(i){var a,r,s,o=t(i).outerHeight();a=i.offsetTop,r=t(n.suggestionsContainer).scrollTop(),s=r+n.options.maxHeight-o,r>a?t(n.suggestionsContainer).scrollTop(a):a>s&&t(n.suggestionsContainer).scrollTop(a-n.options.maxHeight+o),n.options.preserveInput||n.el.val(n.getValue(n.suggestions[e].value)),n.signalHint(null)}},onSelect:function(e){var n=this,i=n.options.onSelect,a=n.suggestions[e];n.currentValue=n.getValue(a.value),n.currentValue===n.el.val()||n.options.preserveInput||n.el.val(n.currentValue),n.signalHint(null),n.suggestions=[],n.selection=a,t.isFunction(i)&&i.call(n.element,a)},getValue:function(t){var e,n,i=this,a=i.options.delimiter;return a?(e=i.currentValue,n=e.split(a),1===n.length?t:e.substr(0,e.length-n[n.length-1].length)+t):t},dispose:function(){var e=this;e.el.off(".autocomplete").removeData("autocomplete"),e.disableKillerFn(),t(window).off("resize.autocomplete",e.fixPositionCapture),t(e.suggestionsContainer).remove()}},t.fn.autocomplete=t.fn.devbridgeAutocomplete=function(n,i){var a="autocomplete";return arguments.length?this.each(function(){var r=t(this),s=r.data(a);"string"==typeof n?s&&"function"==typeof s[n]&&s[n](i):(s&&s.dispose&&s.dispose(),s=new e(this,n),r.data(a,s))}):this.first().data(a)}})}.call(i,e,void 0,void 0)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],9:[function(t,e,n){(function(i){jQuery=i.jQuery=t("jquery"),__browserify_shim_require__=t,function(t,e,i){!function(t){"function"==typeof e&&e.amd?e(["jquery"],t):t("object"==typeof n?__browserify_shim_require__("jquery"):jQuery)}(function(t){var e=function(){if(t&&t.fn&&t.fn.select2&&t.fn.select2.amd)var e=t.fn.select2.amd;var e;return function(){if(!e||!e.requirejs){e?n=e:e={};var t,n,i;!function(e){function a(t,e){return _.call(t,e)}function r(t,e){var n,i,a,r,s,o,l,c,u,d,p,h=e&&e.split("/"),f=y.map,g=f&&f["*"]||{};if(t&&"."===t.charAt(0))if(e){for(h=h.slice(0,h.length-1),t=t.split("/"),s=t.length-1,y.nodeIdCompat&&k.test(t[s])&&(t[s]=t[s].replace(k,"")),t=h.concat(t),u=0;u<t.length;u+=1)if(p=t[u],"."===p)t.splice(u,1),u-=1;else if(".."===p){if(1===u&&(".."===t[2]||".."===t[0]))break;u>0&&(t.splice(u-1,2),u-=2)}t=t.join("/")}else 0===t.indexOf("./")&&(t=t.substring(2));if((h||g)&&f){for(n=t.split("/"),u=n.length;u>0;u-=1){if(i=n.slice(0,u).join("/"),h)for(d=h.length;d>0;d-=1)if(a=f[h.slice(0,d).join("/")],a&&(a=a[i])){r=a,o=u;break}if(r)break;!l&&g&&g[i]&&(l=g[i],c=u)}!r&&l&&(r=l,o=c),r&&(n.splice(0,o,r),t=n.join("/"))}return t}function s(t,n){return function(){return h.apply(e,w.call(arguments,0).concat([t,n]))}}function o(t){return function(e){return r(e,t)}}function l(t){return function(e){m[t]=e}}function c(t){if(a(v,t)){var n=v[t];delete v[t],b[t]=!0,p.apply(e,n)}if(!a(m,t)&&!a(b,t))throw new Error("No "+t);return m[t]}function u(t){var e,n=t?t.indexOf("!"):-1;return n>-1&&(e=t.substring(0,n),t=t.substring(n+1,t.length)),[e,t]}function d(t){return function(){return y&&y.config&&y.config[t]||{}}}var p,h,f,g,m={},v={},y={},b={},_=Object.prototype.hasOwnProperty,w=[].slice,k=/\.js$/;f=function(t,e){var n,i=u(t),a=i[0];return t=i[1],a&&(a=r(a,e),n=c(a)),a?t=n&&n.normalize?n.normalize(t,o(e)):r(t,e):(t=r(t,e),i=u(t),a=i[0],t=i[1],a&&(n=c(a))),{f:a?a+"!"+t:t,n:t,pr:a,p:n}},g={require:function(t){return s(t)},exports:function(t){var e=m[t];return"undefined"!=typeof e?e:m[t]={}},module:function(t){return{id:t,uri:"",exports:m[t],config:d(t)}}},p=function(t,n,i,r){var o,u,d,p,h,y,_=[],w=typeof i;if(r=r||t,"undefined"===w||"function"===w){for(n=!n.length&&i.length?["require","exports","module"]:n,h=0;h<n.length;h+=1)if(p=f(n[h],r),u=p.f,"require"===u)_[h]=g.require(t);else if("exports"===u)_[h]=g.exports(t),y=!0;else if("module"===u)o=_[h]=g.module(t);else if(a(m,u)||a(v,u)||a(b,u))_[h]=c(u);else{if(!p.p)throw new Error(t+" missing "+u);p.p.load(p.n,s(r,!0),l(u),{}),_[h]=m[u]}d=i?i.apply(m[t],_):void 0,t&&(o&&o.exports!==e&&o.exports!==m[t]?m[t]=o.exports:d===e&&y||(m[t]=d))}else t&&(m[t]=i)},t=n=h=function(t,n,i,a,r){if("string"==typeof t)return g[t]?g[t](n):c(f(t,n).f);if(!t.splice){if(y=t,y.deps&&h(y.deps,y.callback),!n)return;n.splice?(t=n,n=i,i=null):t=e}return n=n||function(){},"function"==typeof i&&(i=a,a=r),a?p(e,t,n,i):setTimeout(function(){p(e,t,n,i)},4),h},h.config=function(t){return h(t)},t._defined=m,i=function(t,e,n){e.splice||(n=e,e=[]),a(m,t)||a(v,t)||(v[t]=[t,e,n])},i.amd={jQuery:!0}}(),e.requirejs=t,e.require=n,e.define=i}}(),e.define("almond",function(){}),e.define("jquery",[],function(){var e=t||$;return null==e&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),e}),e.define("select2/utils",["jquery"],function(t){function e(t){var e=t.prototype,n=[];for(var i in e){var a=e[i];"function"==typeof a&&"constructor"!==i&&n.push(i)}return n}var n={};n.Extend=function(t,e){function n(){this.constructor=t}var i={}.hasOwnProperty;for(var a in e)i.call(e,a)&&(t[a]=e[a]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},n.Decorate=function(t,n){function i(){var e=Array.prototype.unshift,i=n.prototype.constructor.length,a=t.prototype.constructor;i>0&&(e.call(arguments,t.prototype.constructor),a=n.prototype.constructor),a.apply(this,arguments)}function a(){this.constructor=i}var r=e(n),s=e(t);n.displayName=t.displayName,i.prototype=new a;for(var o=0;o<s.length;o++){var l=s[o];i.prototype[l]=t.prototype[l]}for(var c=(function(t){var e=function(){};t in i.prototype&&(e=i.prototype[t]);var a=n.prototype[t];return function(){var t=Array.prototype.unshift;return t.call(arguments,e),a.apply(this,arguments)}}),u=0;u<r.length;u++){var d=r[u];i.prototype[d]=c(d)}return i};var i=function(){this.listeners={}};return i.prototype.on=function(t,e){this.listeners=this.listeners||{},t in this.listeners?this.listeners[t].push(e):this.listeners[t]=[e]},i.prototype.trigger=function(t){var e=Array.prototype.slice;this.listeners=this.listeners||{},t in this.listeners&&this.invoke(this.listeners[t],e.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},i.prototype.invoke=function(t,e){for(var n=0,i=t.length;i>n;n++)t[n].apply(this,e)},n.Observable=i,n.generateChars=function(t){for(var e="",n=0;t>n;n++){var i=Math.floor(36*Math.random());e+=i.toString(36)}return e},n.bind=function(t,e){return function(){t.apply(e,arguments)}},n._convertData=function(t){for(var e in t){var n=e.split("-"),i=t;if(1!==n.length){for(var a=0;a<n.length;a++){var r=n[a];r=r.substring(0,1).toLowerCase()+r.substring(1),r in i||(i[r]={}),a==n.length-1&&(i[r]=t[e]),i=i[r]}delete t[e]}}return t},n.hasScroll=function(e,n){var i=t(n),a=n.style.overflowX,r=n.style.overflowY;return a!==r||"hidden"!==r&&"visible"!==r?"scroll"===a||"scroll"===r?!0:i.innerHeight()<n.scrollHeight||i.innerWidth()<n.scrollWidth:!1},n.escapeMarkup=function(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof t?t:String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t]})},n.appendMany=function(e,n){if("1.7"===t.fn.jquery.substr(0,3)){var i=t();t.map(n,function(t){i=i.add(t)}),n=i}e.append(n)},n}),e.define("select2/results",["jquery","./utils"],function(t,e){function n(t,e,i){this.$element=t,this.data=i,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var e=t('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&e.attr("aria-multiselectable","true"),this.$results=e,e},n.prototype.clear=function(){this.$results.empty()},n.prototype.displayMessage=function(e){var n=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var i=t('<li role="treeitem" class="select2-results__option"></li>'),a=this.options.get("translations").get(e.message);i.append(n(a(e.args))),this.$results.append(i)},n.prototype.append=function(t){this.hideLoading();var e=[];if(null==t.results||0===t.results.length)return void(0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"}));t.results=this.sort(t.results);for(var n=0;n<t.results.length;n++){var i=t.results[n],a=this.option(i);e.push(a)}this.$results.append(e)},n.prototype.position=function(t,e){var n=e.find(".select2-results");n.append(t)},n.prototype.sort=function(t){var e=this.options.get("sorter");return e(t)},n.prototype.setClasses=function(){var e=this;this.data.current(function(n){var i=t.map(n,function(t){return t.id.toString()}),a=e.$results.find(".select2-results__option[aria-selected]");a.each(function(){var e=t(this),n=t.data(this,"data"),a=""+n.id;null!=n.element&&n.element.selected||null==n.element&&t.inArray(a,i)>-1?e.attr("aria-selected","true"):e.attr("aria-selected","false")});var r=a.filter("[aria-selected=true]");r.length>0?r.first().trigger("mouseenter"):a.first().trigger("mouseenter")})},n.prototype.showLoading=function(t){this.hideLoading();var e=this.options.get("translations").get("searching"),n={disabled:!0,loading:!0,text:e(t)},i=this.option(n);i.className+=" loading-results",this.$results.prepend(i)},n.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},n.prototype.option=function(e){var n=document.createElement("li");n.className="select2-results__option";var i={role:"treeitem","aria-selected":"false"};e.disabled&&(delete i["aria-selected"],i["aria-disabled"]="true"),null==e.id&&delete i["aria-selected"],null!=e._resultId&&(n.id=e._resultId),e.title&&(n.title=e.title),e.children&&(i.role="group",i["aria-label"]=e.text,delete i["aria-selected"]);for(var a in i){var r=i[a];n.setAttribute(a,r)}if(e.children){var s=t(n),o=document.createElement("strong");o.className="select2-results__group",t(o),this.template(e,o);for(var l=[],c=0;c<e.children.length;c++){var u=e.children[c],d=this.option(u);l.push(d)}var p=t("<ul></ul>",{"class":"select2-results__options select2-results__options--nested"});p.append(l),s.append(o),s.append(p)}else this.template(e,n);return t.data(n,"data",e),n},n.prototype.bind=function(e){var n=this,i=e.id+"-results";this.$results.attr("id",i),e.on("results:all",function(t){n.clear(),n.append(t.data),e.isOpen()&&n.setClasses()}),e.on("results:append",function(t){n.append(t.data),e.isOpen()&&n.setClasses()}),e.on("query",function(t){n.showLoading(t)}),e.on("select",function(){e.isOpen()&&n.setClasses()}),e.on("unselect",function(){e.isOpen()&&n.setClasses()}),e.on("open",function(){n.$results.attr("aria-expanded","true"),n.$results.attr("aria-hidden","false"),n.setClasses(),n.ensureHighlightVisible()}),e.on("close",function(){n.$results.attr("aria-expanded","false"),n.$results.attr("aria-hidden","true"),n.$results.removeAttr("aria-activedescendant")}),e.on("results:toggle",function(){var t=n.getHighlightedResults();0!==t.length&&t.trigger("mouseup")}),e.on("results:select",function(){var t=n.getHighlightedResults();if(0!==t.length){var e=t.data("data");"true"==t.attr("aria-selected")?n.trigger("close"):n.trigger("select",{data:e})}}),e.on("results:previous",function(){var t=n.getHighlightedResults(),e=n.$results.find("[aria-selected]"),i=e.index(t);if(0!==i){var a=i-1;0===t.length&&(a=0);var r=e.eq(a);r.trigger("mouseenter");var s=n.$results.offset().top,o=r.offset().top,l=n.$results.scrollTop()+(o-s);0===a?n.$results.scrollTop(0):0>o-s&&n.$results.scrollTop(l)}}),e.on("results:next",function(){var t=n.getHighlightedResults(),e=n.$results.find("[aria-selected]"),i=e.index(t),a=i+1;if(!(a>=e.length)){var r=e.eq(a);r.trigger("mouseenter");var s=n.$results.offset().top+n.$results.outerHeight(!1),o=r.offset().top+r.outerHeight(!1),l=n.$results.scrollTop()+o-s;0===a?n.$results.scrollTop(0):o>s&&n.$results.scrollTop(l)}}),e.on("results:focus",function(t){t.element.addClass("select2-results__option--highlighted")}),e.on("results:message",function(t){n.displayMessage(t)}),t.fn.mousewheel&&this.$results.on("mousewheel",function(t){var e=n.$results.scrollTop(),i=n.$results.get(0).scrollHeight-n.$results.scrollTop()+t.deltaY,a=t.deltaY>0&&e-t.deltaY<=0,r=t.deltaY<0&&i<=n.$results.height();a?(n.$results.scrollTop(0),t.preventDefault(),t.stopPropagation()):r&&(n.$results.scrollTop(n.$results.get(0).scrollHeight-n.$results.height()),t.preventDefault(),t.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(e){var i=t(this),a=i.data("data");return"true"===i.attr("aria-selected")?void(n.options.get("multiple")?n.trigger("unselect",{originalEvent:e,data:a}):n.trigger("close")):void n.trigger("select",{originalEvent:e,data:a})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(){var e=t(this).data("data");n.getHighlightedResults().removeClass("select2-results__option--highlighted"),n.trigger("results:focus",{data:e,element:t(this)})})},n.prototype.getHighlightedResults=function(){var t=this.$results.find(".select2-results__option--highlighted");return t},n.prototype.destroy=function(){this.$results.remove()},n.prototype.ensureHighlightVisible=function(){var t=this.getHighlightedResults();if(0!==t.length){var e=this.$results.find("[aria-selected]"),n=e.index(t),i=this.$results.offset().top,a=t.offset().top,r=this.$results.scrollTop()+(a-i),s=a-i;r-=2*t.outerHeight(!1),2>=n?this.$results.scrollTop(0):(s>this.$results.outerHeight()||0>s)&&this.$results.scrollTop(r)}},n.prototype.template=function(e,n){var i=this.options.get("templateResult"),a=this.options.get("escapeMarkup"),r=i(e);null==r?n.style.display="none":"string"==typeof r?n.innerHTML=a(r):t(n).append(r)},n}),e.define("select2/keys",[],function(){var t={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46};return t}),e.define("select2/selection/base",["jquery","../utils","../keys"],function(t,e,n){function i(t,e){this.$element=t,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,e.Observable),i.prototype.render=function(){var e=t('<span class="select2-selection" role="combobox" aria-autocomplete="list" aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=this.$element.data("old-tabindex")?this._tabindex=this.$element.data("old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),e.attr("title",this.$element.attr("title")),e.attr("tabindex",this._tabindex),this.$selection=e,e},i.prototype.bind=function(t){var e=this,i=(t.id+"-container",t.id+"-results");this.container=t,this.$selection.on("focus",function(t){e.trigger("focus",t)}),this.$selection.on("blur",function(t){e.trigger("blur",t)}),this.$selection.on("keydown",function(t){e.trigger("keypress",t),t.which===n.SPACE&&t.preventDefault()}),t.on("results:focus",function(t){e.$selection.attr("aria-activedescendant",t.data._resultId)}),t.on("selection:update",function(t){e.update(t.data)}),t.on("open",function(){e.$selection.attr("aria-expanded","true"),e.$selection.attr("aria-owns",i),e._attachCloseHandler(t)}),t.on("close",function(){e.$selection.attr("aria-expanded","false"),e.$selection.removeAttr("aria-activedescendant"),e.$selection.removeAttr("aria-owns"),e.$selection.focus(),e._detachCloseHandler(t)}),t.on("enable",function(){e.$selection.attr("tabindex",e._tabindex)}),t.on("disable",function(){e.$selection.attr("tabindex","-1")})},i.prototype._attachCloseHandler=function(e){t(document.body).on("mousedown.select2."+e.id,function(e){var n=t(e.target),i=n.closest(".select2"),a=t(".select2.select2-container--open");a.each(function(){var e=t(this);if(this!=i[0]){var n=e.data("element");n.select2("close")}})})},i.prototype._detachCloseHandler=function(e){t(document.body).off("mousedown.select2."+e.id)},i.prototype.position=function(t,e){var n=e.find(".selection");n.append(t)},i.prototype.destroy=function(){this._detachCloseHandler(this.container)},i.prototype.update=function(){throw new Error("The `update` method must be defined in child classes.")},i}),e.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(t,e,n){function i(){i.__super__.constructor.apply(this,arguments)}return n.Extend(i,e),i.prototype.render=function(){var t=i.__super__.render.call(this);return t.addClass("select2-selection--single"),t.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),t},i.prototype.bind=function(t){var e=this;i.__super__.bind.apply(this,arguments);var n=t.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",n),this.$selection.attr("aria-labelledby",n),this.$selection.on("mousedown",function(t){1===t.which&&e.trigger("toggle",{originalEvent:t})}),this.$selection.on("focus",function(){}),this.$selection.on("blur",function(){}),t.on("selection:update",function(t){e.update(t.data)})},i.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},i.prototype.display=function(t){var e=this.options.get("templateSelection"),n=this.options.get("escapeMarkup");return n(e(t))},i.prototype.selectionContainer=function(){return t("<span></span>")},i.prototype.update=function(t){if(0===t.length)return void this.clear();var e=t[0],n=this.display(e),i=this.$selection.find(".select2-selection__rendered");i.empty().append(n),i.prop("title",e.title||e.text)},i}),e.define("select2/selection/multiple",["jquery","./base","../utils"],function(t,e,n){function i(){i.__super__.constructor.apply(this,arguments)}return n.Extend(i,e),i.prototype.render=function(){var t=i.__super__.render.call(this);return t.addClass("select2-selection--multiple"),t.html('<ul class="select2-selection__rendered"></ul>'),t},i.prototype.bind=function(){var e=this;i.__super__.bind.apply(this,arguments),this.$selection.on("click",function(t){e.trigger("toggle",{originalEvent:t})}),this.$selection.on("click",".select2-selection__choice__remove",function(n){var i=t(this),a=i.parent(),r=a.data("data");e.trigger("unselect",{originalEvent:n,data:r})})},i.prototype.clear=function(){this.$selection.find(".select2-selection__rendered").empty()},i.prototype.display=function(t){var e=this.options.get("templateSelection"),n=this.options.get("escapeMarkup");return n(e(t))},i.prototype.selectionContainer=function(){var e=t('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>');return e},i.prototype.update=function(t){if(this.clear(),0!==t.length){for(var e=[],i=0;i<t.length;i++){var a=t[i],r=this.display(a),s=this.selectionContainer();s.append(r),s.prop("title",a.title||a.text),s.data("data",a),e.push(s)}var o=this.$selection.find(".select2-selection__rendered");n.appendMany(o,e)}},i}),e.define("select2/selection/placeholder",["../utils"],function(){function t(t,e,n){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),t.call(this,e,n)}return t.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},t.prototype.createPlaceholder=function(t,e){var n=this.selectionContainer();return n.html(this.display(e)),n.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),n},t.prototype.update=function(t,e){var n=1==e.length&&e[0].id!=this.placeholder.id,i=e.length>1;if(i||n)return t.call(this,e);this.clear();var a=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(a)},t}),e.define("select2/selection/allowClear",["jquery","../keys"],function(t,e){function n(){}return n.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(t){i._handleClear(t)}),e.on("keypress",function(t){i._handleKeyboardClear(t,e)})},n.prototype._handleClear=function(t,e){if(!this.options.get("disabled")){var n=this.$selection.find(".select2-selection__clear");if(0!==n.length){e.stopPropagation();for(var i=n.data("data"),a=0;a<i.length;a++){var r={data:i[a]};if(this.trigger("unselect",r),r.prevented)return}this.$element.val(this.placeholder.id).trigger("change"),this.trigger("toggle")}}},n.prototype._handleKeyboardClear=function(t,n,i){i.isOpen()||(n.which==e.DELETE||n.which==e.BACKSPACE)&&this._handleClear(n)},n.prototype.update=function(e,n){if(e.call(this,n),!(this.$selection.find(".select2-selection__placeholder").length>0||0===n.length)){var i=t('<span class="select2-selection__clear">&times;</span>');i.data("data",n),this.$selection.find(".select2-selection__rendered").prepend(i)}},n}),e.define("select2/selection/search",["jquery","../utils","../keys"],function(t,e,n){function i(t,e,n){t.call(this,e,n)}return i.prototype.render=function(e){var n=t('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></li>');this.$searchContainer=n,this.$search=n.find("input");var i=e.call(this);return i},i.prototype.bind=function(t,e,i){var a=this;t.call(this,e,i),e.on("open",function(){a.$search.attr("tabindex",0),a.$search.focus()}),e.on("close",function(){a.$search.attr("tabindex",-1),a.$search.val(""),a.$search.focus()}),e.on("enable",function(){a.$search.prop("disabled",!1)}),e.on("disable",function(){a.$search.prop("disabled",!0)}),this.$selection.on("focusin",".select2-search--inline",function(t){a.trigger("focus",t)}),this.$selection.on("focusout",".select2-search--inline",function(t){a.trigger("blur",t)}),this.$selection.on("keydown",".select2-search--inline",function(t){t.stopPropagation(),a.trigger("keypress",t),a._keyUpPrevented=t.isDefaultPrevented();var e=t.which;if(e===n.BACKSPACE&&""===a.$search.val()){var i=a.$searchContainer.prev(".select2-selection__choice");if(i.length>0){var r=i.data("data");a.searchRemoveChoice(r),t.preventDefault()}}}),this.$selection.on("input",".select2-search--inline",function(){a.$selection.off("keyup.search")}),this.$selection.on("keyup.search input",".select2-search--inline",function(t){a.handleSearch(t)})},i.prototype.createPlaceholder=function(t,e){this.$search.attr("placeholder",e.text)},i.prototype.update=function(t,e){this.$search.attr("placeholder",""),t.call(this,e),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch()},i.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},i.prototype.searchRemoveChoice=function(t,e){this.trigger("unselect",{data:e}),this.trigger("open"),this.$search.val(e.text+" ")},i.prototype.resizeSearch=function(){this.$search.css("width","25px");var t="";if(""!==this.$search.attr("placeholder"))t=this.$selection.find(".select2-selection__rendered").innerWidth();else{var e=this.$search.val().length+1;t=.75*e+"em"}this.$search.css("width",t)},i}),e.define("select2/selection/eventRelay",["jquery"],function(t){function e(){}return e.prototype.bind=function(e,n,i){var a=this,r=["open","opening","close","closing","select","selecting","unselect","unselecting"],s=["opening","closing","selecting","unselecting"];e.call(this,n,i),n.on("*",function(e,n){if(-1!==t.inArray(e,r)){n=n||{};var i=t.Event("select2:"+e,{params:n});a.$element.trigger(i),-1!==t.inArray(e,s)&&(n.prevented=i.isDefaultPrevented())}})},e}),e.define("select2/translation",["jquery","require"],function(t,e){function n(t){this.dict=t||{}}return n.prototype.all=function(){return this.dict},n.prototype.get=function(t){return this.dict[t]},n.prototype.extend=function(e){this.dict=t.extend({},e.all(),this.dict)},n._cache={},n.loadPath=function(t){if(!(t in n._cache)){var i=e(t);n._cache[t]=i}return new n(n._cache[t])},n}),e.define("select2/diacritics",[],function(){var t={"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"F","":"F","":"F","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H",
"":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"J","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"Lj","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"Nj","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OI","":"OO","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"Q","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"m","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oi","":"ou","":"oo","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"q","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":""};return t}),e.define("select2/data/base",["../utils"],function(t){function e(){e.__super__.constructor.call(this)}return t.Extend(e,t.Observable),e.prototype.current=function(){throw new Error("The `current` method must be defined in child classes.")},e.prototype.query=function(){throw new Error("The `query` method must be defined in child classes.")},e.prototype.bind=function(){},e.prototype.destroy=function(){},e.prototype.generateResultId=function(e,n){var i=e.id+"-result-";return i+=t.generateChars(4),i+=null!=n.id?"-"+n.id.toString():"-"+t.generateChars(4)},e}),e.define("select2/data/select",["./base","../utils","jquery"],function(t,e,n){function i(t,e){this.$element=t,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,t),i.prototype.current=function(t){var e=[],i=this;this.$element.find(":selected").each(function(){var t=n(this),a=i.item(t);e.push(a)}),t(e)},i.prototype.select=function(t){var e=this;if(t.selected=!0,n(t.element).is("option"))return t.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(i){var a=[];t=[t],t.push.apply(t,i);for(var r=0;r<t.length;r++){var s=t[r].id;-1===n.inArray(s,a)&&a.push(s)}e.$element.val(a),e.$element.trigger("change")});else{var i=t.id;this.$element.val(i),this.$element.trigger("change")}},i.prototype.unselect=function(t){var e=this;return this.$element.prop("multiple")?(t.selected=!1,n(t.element).is("option")?(t.element.selected=!1,void this.$element.trigger("change")):void this.current(function(i){for(var a=[],r=0;r<i.length;r++){var s=i[r].id;s!==t.id&&-1===n.inArray(s,a)&&a.push(s)}e.$element.val(a),e.$element.trigger("change")})):void 0},i.prototype.bind=function(t){var e=this;this.container=t,t.on("select",function(t){e.select(t.data)}),t.on("unselect",function(t){e.unselect(t.data)})},i.prototype.destroy=function(){this.$element.find("*").each(function(){n.removeData(this,"data")})},i.prototype.query=function(t,e){var i=[],a=this,r=this.$element.children();r.each(function(){var e=n(this);if(e.is("option")||e.is("optgroup")){var r=a.item(e),s=a.matches(t,r);null!==s&&i.push(s)}}),e({results:i})},i.prototype.addOptions=function(t){e.appendMany(this.$element,t)},i.prototype.option=function(t){var e;t.children?(e=document.createElement("optgroup"),e.label=t.text):(e=document.createElement("option"),void 0!==e.textContent?e.textContent=t.text:e.innerText=t.text),t.id&&(e.value=t.id),t.disabled&&(e.disabled=!0),t.selected&&(e.selected=!0),t.title&&(e.title=t.title);var i=n(e),a=this._normalizeItem(t);return a.element=e,n.data(e,"data",a),i},i.prototype.item=function(t){var e={};if(e=n.data(t[0],"data"),null!=e)return e;if(t.is("option"))e={id:t.val(),text:t.text(),disabled:t.prop("disabled"),selected:t.prop("selected"),title:t.prop("title")};else if(t.is("optgroup")){e={text:t.prop("label"),children:[],title:t.prop("title")};for(var i=t.children("option"),a=[],r=0;r<i.length;r++){var s=n(i[r]),o=this.item(s);a.push(o)}e.children=a}return e=this._normalizeItem(e),e.element=t[0],n.data(t[0],"data",e),e},i.prototype._normalizeItem=function(t){n.isPlainObject(t)||(t={id:t,text:t}),t=n.extend({},{text:""},t);var e={selected:!1,disabled:!1};return null!=t.id&&(t.id=t.id.toString()),null!=t.text&&(t.text=t.text.toString()),null==t._resultId&&t.id&&null!=this.container&&(t._resultId=this.generateResultId(this.container,t)),n.extend({},e,t)},i.prototype.matches=function(t,e){var n=this.options.get("matcher");return n(t,e)},i}),e.define("select2/data/array",["./select","../utils","jquery"],function(t,e,n){function i(t,e){var n=e.get("data")||[];i.__super__.constructor.call(this,t,e),this.addOptions(this.convertToOptions(n))}return e.Extend(i,t),i.prototype.select=function(t){var e=this.$element.find("option").filter(function(e,n){return n.value==t.id.toString()});0===e.length&&(e=this.option(t),this.addOptions(e)),i.__super__.select.call(this,t)},i.prototype.convertToOptions=function(t){function i(t){return function(){return n(this).val()==t.id}}for(var a=this,r=this.$element.find("option"),s=r.map(function(){return a.item(n(this)).id}).get(),o=[],l=0;l<t.length;l++){var c=this._normalizeItem(t[l]);if(n.inArray(c.id,s)>=0){var u=r.filter(i(c)),d=this.item(u),p=(n.extend(!0,{},d,c),this.option(d));u.replaceWith(p)}else{var h=this.option(c);if(c.children){var f=this.convertToOptions(c.children);e.appendMany(h,f)}o.push(h)}}return o},i}),e.define("select2/data/ajax",["./array","../utils","jquery"],function(t,e,n){function i(e,n){this.ajaxOptions=this._applyDefaults(n.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),t.__super__.constructor.call(this,e,n)}return e.Extend(i,t),i.prototype._applyDefaults=function(t){var e={data:function(t){return{q:t.term}},transport:function(t,e,i){var a=n.ajax(t);return a.then(e),a.fail(i),a}};return n.extend({},e,t,!0)},i.prototype.processResults=function(t){return t},i.prototype.query=function(t,e){function i(){var i=r.transport(r,function(i){var r=a.processResults(i,t);a.options.get("debug")&&window.console&&console.error&&(r&&r.results&&n.isArray(r.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),e(r)},function(){});a._request=i}var a=this;null!=this._request&&(n.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var r=n.extend({type:"GET"},this.ajaxOptions);"function"==typeof r.url&&(r.url=r.url(t)),"function"==typeof r.data&&(r.data=r.data(t)),this.ajaxOptions.delay&&""!==t.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(i,this.ajaxOptions.delay)):i()},i}),e.define("select2/data/tags",["jquery"],function(t){function e(e,n,i){var a=i.get("tags"),r=i.get("createTag");if(void 0!==r&&(this.createTag=r),e.call(this,n,i),t.isArray(a))for(var s=0;s<a.length;s++){var o=a[s],l=this._normalizeItem(o),c=this.option(l);this.$element.append(c)}}return e.prototype.query=function(t,e,n){function i(t,r){for(var s=t.results,o=0;o<s.length;o++){var l=s[o],c=null!=l.children&&!i({results:l.children},!0),u=l.text===e.term;if(u||c)return r?!1:(t.data=s,void n(t))}if(r)return!0;var d=a.createTag(e);if(null!=d){var p=a.option(d);p.attr("data-select2-tag",!0),a.addOptions([p]),a.insertTag(s,d)}t.results=s,n(t)}var a=this;return this._removeOldTags(),null==e.term||null!=e.page?void t.call(this,e,n):void t.call(this,e,i)},e.prototype.createTag=function(e,n){var i=t.trim(n.term);return""===i?null:{id:i,text:i}},e.prototype.insertTag=function(t,e,n){e.unshift(n)},e.prototype._removeOldTags=function(){var e=(this._lastTag,this.$element.find("option[data-select2-tag]"));e.each(function(){this.selected||t(this).remove()})},e}),e.define("select2/data/tokenizer",["jquery"],function(t){function e(t,e,n){var i=n.get("tokenizer");void 0!==i&&(this.tokenizer=i),t.call(this,e,n)}return e.prototype.bind=function(t,e,n){t.call(this,e,n),this.$search=e.dropdown.$search||e.selection.$search||n.find(".select2-search__field")},e.prototype.query=function(t,e,n){function i(t){a.select(t)}var a=this;e.term=e.term||"";var r=this.tokenizer(e,this.options,i);r.term!==e.term&&(this.$search.length&&(this.$search.val(r.term),this.$search.focus()),e.term=r.term),t.call(this,e,n)},e.prototype.tokenizer=function(e,n,i,a){for(var r=i.get("tokenSeparators")||[],s=n.term,o=0,l=this.createTag||function(t){return{id:t.term,text:t.term}};o<s.length;){var c=s[o];if(-1!==t.inArray(c,r)){var u=s.substr(0,o),d=t.extend({},n,{term:u}),p=l(d);a(p),s=s.substr(o+1)||"",o=0}else o++}return{term:s}},e}),e.define("select2/data/minimumInputLength",[],function(){function t(t,e,n){this.minimumInputLength=n.get("minimumInputLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){return e.term=e.term||"",e.term.length<this.minimumInputLength?void this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:e.term,params:e}}):void t.call(this,e,n)},t}),e.define("select2/data/maximumInputLength",[],function(){function t(t,e,n){this.maximumInputLength=n.get("maximumInputLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){return e.term=e.term||"",this.maximumInputLength>0&&e.term.length>this.maximumInputLength?void this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:e.term,params:e}}):void t.call(this,e,n)},t}),e.define("select2/data/maximumSelectionLength",[],function(){function t(t,e,n){this.maximumSelectionLength=n.get("maximumSelectionLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){var i=this;this.current(function(a){var r=null!=a?a.length:0;return i.maximumSelectionLength>0&&r>=i.maximumSelectionLength?void i.trigger("results:message",{message:"maximumSelected",args:{maximum:i.maximumSelectionLength}}):void t.call(i,e,n)})},t}),e.define("select2/dropdown",["jquery","./utils"],function(t,e){function n(t,e){this.$element=t,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var e=t('<span class="select2-dropdown"><span class="select2-results"></span></span>');return e.attr("dir",this.options.get("dir")),this.$dropdown=e,e},n.prototype.position=function(){},n.prototype.destroy=function(){this.$dropdown.remove()},n}),e.define("select2/dropdown/search",["jquery","../utils"],function(t){function e(){}return e.prototype.render=function(e){var n=e.call(this),i=t('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=i,this.$search=i.find("input"),n.prepend(i),n},e.prototype.bind=function(e,n,i){var a=this;e.call(this,n,i),this.$search.on("keydown",function(t){a.trigger("keypress",t),a._keyUpPrevented=t.isDefaultPrevented()}),this.$search.on("input",function(){t(this).off("keyup")}),this.$search.on("keyup input",function(t){a.handleSearch(t)}),n.on("open",function(){a.$search.attr("tabindex",0),a.$search.focus(),window.setTimeout(function(){a.$search.focus()},0)}),n.on("close",function(){a.$search.attr("tabindex",-1),a.$search.val("")}),n.on("results:all",function(t){if(null==t.query.term||""===t.query.term){var e=a.showSearch(t);e?a.$searchContainer.removeClass("select2-search--hide"):a.$searchContainer.addClass("select2-search--hide")}})},e.prototype.handleSearch=function(){if(!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},e.prototype.showSearch=function(){return!0},e}),e.define("select2/dropdown/hidePlaceholder",[],function(){function t(t,e,n,i){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),t.call(this,e,n,i)}return t.prototype.append=function(t,e){e.results=this.removePlaceholder(e.results),t.call(this,e)},t.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},t.prototype.removePlaceholder=function(t,e){for(var n=e.slice(0),i=e.length-1;i>=0;i--){var a=e[i];this.placeholder.id===a.id&&n.splice(i,1)}return n},t}),e.define("select2/dropdown/infiniteScroll",["jquery"],function(t){function e(t,e,n,i){this.lastParams={},t.call(this,e,n,i),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return e.prototype.append=function(t,e){this.$loadingMore.remove(),this.loading=!1,t.call(this,e),this.showLoadingMore(e)&&this.$results.append(this.$loadingMore)},e.prototype.bind=function(e,n,i){var a=this;e.call(this,n,i),n.on("query",function(t){a.lastParams=t,a.loading=!0}),n.on("query:append",function(t){a.lastParams=t,a.loading=!0}),this.$results.on("scroll",function(){var e=t.contains(document.documentElement,a.$loadingMore[0]);if(!a.loading&&e){var n=a.$results.offset().top+a.$results.outerHeight(!1),i=a.$loadingMore.offset().top+a.$loadingMore.outerHeight(!1);n+50>=i&&a.loadMore()}})},e.prototype.loadMore=function(){this.loading=!0;var e=t.extend({},{page:1},this.lastParams);e.page++,this.trigger("query:append",e)},e.prototype.showLoadingMore=function(t,e){return e.pagination&&e.pagination.more},e.prototype.createLoadingMore=function(){var e=t('<li class="option load-more" role="treeitem"></li>'),n=this.options.get("translations").get("loadingMore");return e.html(n(this.lastParams)),e},e}),e.define("select2/dropdown/attachBody",["jquery","../utils"],function(t,e){function n(t,e,n){this.$dropdownParent=n.get("dropdownParent")||document.body,t.call(this,e,n)}return n.prototype.bind=function(t,e,n){var i=this,a=!1;t.call(this,e,n),e.on("open",function(){i._showDropdown(),i._attachPositioningHandler(e),a||(a=!0,e.on("results:all",function(){i._positionDropdown(),i._resizeDropdown()}),e.on("results:append",function(){i._positionDropdown(),i._resizeDropdown()}))}),e.on("close",function(){i._hideDropdown(),i._detachPositioningHandler(e)}),this.$dropdownContainer.on("mousedown",function(t){t.stopPropagation()})},n.prototype.position=function(t,e,n){e.attr("class",n.attr("class")),e.removeClass("select2"),e.addClass("select2-container--open"),e.css({position:"absolute",top:-999999}),this.$container=n},n.prototype.render=function(e){var n=t("<span></span>"),i=e.call(this);return n.append(i),this.$dropdownContainer=n,n},n.prototype._hideDropdown=function(){this.$dropdownContainer.detach()},n.prototype._attachPositioningHandler=function(n){var i=this,a="scroll.select2."+n.id,r="resize.select2."+n.id,s="orientationchange.select2."+n.id,o=this.$container.parents().filter(e.hasScroll);o.each(function(){t(this).data("select2-scroll-position",{x:t(this).scrollLeft(),y:t(this).scrollTop()})}),o.on(a,function(){var e=t(this).data("select2-scroll-position");t(this).scrollTop(e.y)}),t(window).on(a+" "+r+" "+s,function(){i._positionDropdown(),i._resizeDropdown()})},n.prototype._detachPositioningHandler=function(n){var i="scroll.select2."+n.id,a="resize.select2."+n.id,r="orientationchange.select2."+n.id,s=this.$container.parents().filter(e.hasScroll);s.off(i),t(window).off(i+" "+a+" "+r)},n.prototype._positionDropdown=function(){var e=t(window),n=this.$dropdown.hasClass("select2-dropdown--above"),i=this.$dropdown.hasClass("select2-dropdown--below"),a=null,r=(this.$container.position(),this.$container.offset());r.bottom=r.top+this.$container.outerHeight(!1);var s={height:this.$container.outerHeight(!1)};s.top=r.top,s.bottom=r.top+s.height;var o={height:this.$dropdown.outerHeight(!1)},l={top:e.scrollTop(),bottom:e.scrollTop()+e.height()},c=l.top<r.top-o.height,u=l.bottom>r.bottom+o.height,d={left:r.left,top:s.bottom};n||i||(a="below"),u||!c||n?!c&&u&&n&&(a="below"):a="above",("above"==a||n&&"below"!==a)&&(d.top=s.top-o.height),null!=a&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+a),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+a)),this.$dropdownContainer.css(d)},n.prototype._resizeDropdown=function(){this.$dropdownContainer.width();var t={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(t.minWidth=t.width,t.width="auto"),this.$dropdown.css(t)},n.prototype._showDropdown=function(){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},n}),e.define("select2/dropdown/minimumResultsForSearch",[],function(){function t(e){for(var n=0,i=0;i<e.length;i++){var a=e[i];a.children?n+=t(a.children):n++}return n}function e(t,e,n,i){this.minimumResultsForSearch=n.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),t.call(this,e,n,i)}return e.prototype.showSearch=function(e,n){return t(n.data.results)<this.minimumResultsForSearch?!1:e.call(this,n)},e}),e.define("select2/dropdown/selectOnClose",[],function(){function t(){}return t.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("close",function(){i._handleSelectOnClose()})},t.prototype._handleSelectOnClose=function(){var t=this.getHighlightedResults();t.length<1||this.trigger("select",{data:t.data("data")})},t}),e.define("select2/dropdown/closeOnSelect",[],function(){function t(){}return t.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("select",function(t){i._selectTriggered(t)}),e.on("unselect",function(t){i._selectTriggered(t)})},t.prototype._selectTriggered=function(t,e){var n=e.originalEvent;n&&n.ctrlKey||this.trigger("close")},t}),e.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(t){var e=t.input.length-t.maximum,n="Please delete "+e+" character";return 1!=e&&(n+="s"),n},inputTooShort:function(t){var e=t.minimum-t.input.length,n="Please enter "+e+" or more characters";return n},loadingMore:function(){return"Loading more results"},maximumSelected:function(t){var e="You can only select "+t.maximum+" item";return 1!=t.maximum&&(e+="s"),e},noResults:function(){return"No results found"},searching:function(){return"Searching"}}}),e.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(t,e,n,i,a,r,s,o,l,c,u,d,p,h,f,g,m,v,y,b,_,w,k,x,C,D,A,S,T){function M(){this.reset()}M.prototype.apply=function(d){if(d=t.extend({},this.defaults,d),null==d.dataAdapter){if(d.dataAdapter=null!=d.ajax?f:null!=d.data?h:p,d.minimumInputLength>0&&(d.dataAdapter=c.Decorate(d.dataAdapter,v)),d.maximumInputLength>0&&(d.dataAdapter=c.Decorate(d.dataAdapter,y)),d.maximumSelectionLength>0&&(d.dataAdapter=c.Decorate(d.dataAdapter,b)),d.tags&&(d.dataAdapter=c.Decorate(d.dataAdapter,g)),(null!=d.tokenSeparators||null!=d.tokenizer)&&(d.dataAdapter=c.Decorate(d.dataAdapter,m)),null!=d.query){var T=e(d.amdBase+"compat/query");d.dataAdapter=c.Decorate(d.dataAdapter,T)}if(null!=d.initSelection){var M=e(d.amdBase+"compat/initSelection");d.dataAdapter=c.Decorate(d.dataAdapter,M)}}if(null==d.resultsAdapter&&(d.resultsAdapter=n,null!=d.ajax&&(d.resultsAdapter=c.Decorate(d.resultsAdapter,x)),null!=d.placeholder&&(d.resultsAdapter=c.Decorate(d.resultsAdapter,k)),d.selectOnClose&&(d.resultsAdapter=c.Decorate(d.resultsAdapter,A))),null==d.dropdownAdapter){if(d.multiple)d.dropdownAdapter=_;else{var I=c.Decorate(_,w);d.dropdownAdapter=I}if(0!==d.minimumResultsForSearch&&(d.dropdownAdapter=c.Decorate(d.dropdownAdapter,D)),d.closeOnSelect&&(d.dropdownAdapter=c.Decorate(d.dropdownAdapter,S)),null!=d.dropdownCssClass||null!=d.dropdownCss||null!=d.adaptDropdownCssClass){var E=e(d.amdBase+"compat/dropdownCss");d.dropdownAdapter=c.Decorate(d.dropdownAdapter,E)}d.dropdownAdapter=c.Decorate(d.dropdownAdapter,C)}if(null==d.selectionAdapter){if(d.selectionAdapter=d.multiple?a:i,null!=d.placeholder&&(d.selectionAdapter=c.Decorate(d.selectionAdapter,r)),d.allowClear&&(d.selectionAdapter=c.Decorate(d.selectionAdapter,s)),d.multiple&&(d.selectionAdapter=c.Decorate(d.selectionAdapter,o)),null!=d.containerCssClass||null!=d.containerCss||null!=d.adaptContainerCssClass){var j=e(d.amdBase+"compat/containerCss");d.selectionAdapter=c.Decorate(d.selectionAdapter,j)}d.selectionAdapter=c.Decorate(d.selectionAdapter,l)}if("string"==typeof d.language)if(d.language.indexOf("-")>0){var P=d.language.split("-"),O=P[0];d.language=[d.language,O]}else d.language=[d.language];if(t.isArray(d.language)){var F=new u;d.language.push("en");for(var L=d.language,$=0;$<L.length;$++){var q=L[$],N={};try{N=u.loadPath(q)}catch(B){try{q=this.defaults.amdLanguageBase+q,N=u.loadPath(q)}catch(R){d.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+q+'" could not be automatically loaded. A fallback will be used instead.');continue}}F.extend(N)}d.translations=F}else{var Y=u.loadPath(this.defaults.amdLanguageBase+"en"),U=new u(d.language);U.extend(Y),d.translations=U}return d},M.prototype.reset=function(){function e(t){function e(t){return d[t]||t}return t.replace(/[^\u0000-\u007E]/g,e)}function n(i,a){if(""===t.trim(i.term))return a;if(a.children&&a.children.length>0){for(var r=t.extend(!0,{},a),s=a.children.length-1;s>=0;s--){var o=a.children[s],l=n(i,o);null==l&&r.children.splice(s,1)}return r.children.length>0?r:n(i,r)}var c=e(a.text).toUpperCase(),u=e(i.term).toUpperCase();return c.indexOf(u)>-1?a:null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:c.escapeMarkup,language:T,matcher:n,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,sorter:function(t){return t},templateResult:function(t){return t.text},templateSelection:function(t){return t.text},theme:"default",width:"resolve"}},M.prototype.set=function(e,n){var i=t.camelCase(e),a={};a[i]=n;var r=c._convertData(a);t.extend(this.defaults,r)};var I=new M;return I}),e.define("select2/options",["require","jquery","./defaults","./utils"],function(t,e,n,i){function a(e,a){if(this.options=e,null!=a&&this.fromElement(a),this.options=n.apply(this.options),a&&a.is("input")){var r=t(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=i.Decorate(this.options.dataAdapter,r)}}return a.prototype.fromElement=function(t){var n=["select2"];null==this.options.multiple&&(this.options.multiple=t.prop("multiple")),null==this.options.disabled&&(this.options.disabled=t.prop("disabled")),null==this.options.language&&(t.prop("lang")?this.options.language=t.prop("lang").toLowerCase():t.closest("[lang]").prop("lang")&&(this.options.language=t.closest("[lang]").prop("lang"))),null==this.options.dir&&(this.options.dir=t.prop("dir")?t.prop("dir"):t.closest("[dir]").prop("dir")?t.closest("[dir]").prop("dir"):"ltr"),t.prop("disabled",this.options.disabled),t.prop("multiple",this.options.multiple),t.data("select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),t.data("data",t.data("select2Tags")),t.data("tags",!0)),t.data("ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),t.attr("ajax--url",t.data("ajaxUrl")),t.data("ajax--url",t.data("ajaxUrl")));var a={};a=e.fn.jquery&&"1."==e.fn.jquery.substr(0,2)&&t[0].dataset?e.extend(!0,{},t[0].dataset,t.data()):t.data();var r=e.extend(!0,{},a);r=i._convertData(r);for(var s in r)e.inArray(s,n)>-1||(e.isPlainObject(this.options[s])?e.extend(this.options[s],r[s]):this.options[s]=r[s]);return this},a.prototype.get=function(t){return this.options[t]},a.prototype.set=function(t,e){this.options[t]=e},a}),e.define("select2/core",["jquery","./options","./utils","./keys"],function(t,e,n,i){var a=function(t,n){null!=t.data("select2")&&t.data("select2").destroy(),this.$element=t,this.id=this._generateId(t),n=n||{},this.options=new e(n,t),a.__super__.constructor.call(this);var i=t.attr("tabindex")||0;t.data("old-tabindex",i),t.attr("tabindex","-1");var r=this.options.get("dataAdapter");this.dataAdapter=new r(t,this.options);var s=this.render();this._placeContainer(s);var o=this.options.get("selectionAdapter");this.selection=new o(t,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,s);var l=this.options.get("dropdownAdapter");this.dropdown=new l(t,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,s);var c=this.options.get("resultsAdapter");this.results=new c(t,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var u=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(t){u.trigger("selection:update",{data:t})}),t.addClass("select2-hidden-accessible"),t.attr("aria-hidden","true"),this._syncAttributes(),t.data("select2",this)};return n.Extend(a,n.Observable),a.prototype._generateId=function(t){var e="";return e=null!=t.attr("id")?t.attr("id"):null!=t.attr("name")?t.attr("name")+"-"+n.generateChars(2):n.generateChars(4),e="select2-"+e},a.prototype._placeContainer=function(t){t.insertAfter(this.$element);var e=this._resolveWidth(this.$element,this.options.get("width"));null!=e&&t.css("width",e)},a.prototype._resolveWidth=function(t,e){var n=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==e){var i=this._resolveWidth(t,"style");return null!=i?i:this._resolveWidth(t,"element")}if("element"==e){var a=t.outerWidth(!1);return 0>=a?"auto":a+"px"}if("style"==e){var r=t.attr("style");if("string"!=typeof r)return null;for(var s=r.split(";"),o=0,l=s.length;l>o;o+=1){var c=s[o].replace(/\s/g,""),u=c.match(n);if(null!==u&&u.length>=1)return u[1]}return null}return e},a.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},a.prototype._registerDomEvents=function(){var e=this;this.$element.on("change.select2",function(){e.dataAdapter.current(function(t){e.trigger("selection:update",{data:t})})}),this._sync=n.bind(this._syncAttributes,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._sync);var i=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=i?(this._observer=new i(function(n){t.each(n,e._sync)}),this._observer.observe(this.$element[0],{
attributes:!0,subtree:!1})):this.$element[0].addEventListener&&this.$element[0].addEventListener("DOMAttrModified",e._sync,!1)},a.prototype._registerDataEvents=function(){var t=this;this.dataAdapter.on("*",function(e,n){t.trigger(e,n)})},a.prototype._registerSelectionEvents=function(){var e=this,n=["toggle"];this.selection.on("toggle",function(){e.toggleDropdown()}),this.selection.on("*",function(i,a){-1===t.inArray(i,n)&&e.trigger(i,a)})},a.prototype._registerDropdownEvents=function(){var t=this;this.dropdown.on("*",function(e,n){t.trigger(e,n)})},a.prototype._registerResultsEvents=function(){var t=this;this.results.on("*",function(e,n){t.trigger(e,n)})},a.prototype._registerEvents=function(){var t=this;this.on("open",function(){t.$container.addClass("select2-container--open")}),this.on("close",function(){t.$container.removeClass("select2-container--open")}),this.on("enable",function(){t.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){t.$container.addClass("select2-container--disabled")}),this.on("focus",function(){t.$container.addClass("select2-container--focus")}),this.on("blur",function(){t.$container.removeClass("select2-container--focus")}),this.on("query",function(e){t.isOpen()||t.trigger("open"),this.dataAdapter.query(e,function(n){t.trigger("results:all",{data:n,query:e})})}),this.on("query:append",function(e){this.dataAdapter.query(e,function(n){t.trigger("results:append",{data:n,query:e})})}),this.on("keypress",function(e){var n=e.which;t.isOpen()?n===i.ENTER?(t.trigger("results:select"),e.preventDefault()):n===i.SPACE&&e.ctrlKey?(t.trigger("results:toggle"),e.preventDefault()):n===i.UP?(t.trigger("results:previous"),e.preventDefault()):n===i.DOWN?(t.trigger("results:next"),e.preventDefault()):(n===i.ESC||n===i.TAB)&&(t.close(),e.preventDefault()):(n===i.ENTER||n===i.SPACE||(n===i.DOWN||n===i.UP)&&e.altKey)&&(t.open(),e.preventDefault())})},a.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable")):this.trigger("enable")},a.prototype.trigger=function(t,e){var n=a.__super__.trigger,i={open:"opening",close:"closing",select:"selecting",unselect:"unselecting"};if(t in i){var r=i[t],s={prevented:!1,name:t,args:e};if(n.call(this,r,s),s.prevented)return void(e.prevented=!0)}n.call(this,t,e)},a.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},a.prototype.open=function(){this.isOpen()||(this.trigger("query",{}),this.trigger("open"))},a.prototype.close=function(){this.isOpen()&&this.trigger("close")},a.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},a.prototype.enable=function(t){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),(null==t||0===t.length)&&(t=[!0]);var e=!t[0];this.$element.prop("disabled",e)},a.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var t=[];return this.dataAdapter.current(function(e){t=e}),t},a.prototype.val=function(e){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==e||0===e.length)return this.$element.val();var n=e[0];t.isArray(n)&&(n=t.map(n,function(t){return t.toString()})),this.$element.val(n).trigger("change")},a.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._sync),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&this.$element[0].removeEventListener("DOMAttrModified",this._sync,!1),this._sync=null,this.$element.off(".select2"),this.$element.attr("tabindex",this.$element.data("old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},a.prototype.render=function(){var e=t('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return e.attr("dir",this.options.get("dir")),this.$container=e,this.$container.addClass("select2-container--"+this.options.get("theme")),e.data("element",this.$element),e},a}),e.define("jquery.select2",["jquery","require","./select2/core","./select2/defaults"],function(t,e,n,i){if(e("jquery.mousewheel"),null==t.fn.select2){var a=["open","close","destroy"];t.fn.select2=function(e){if(e=e||{},"object"==typeof e)return this.each(function(){var i=t.extend({},e,!0);new n(t(this),i)}),this;if("string"==typeof e){var i=this.data("select2");null==i&&window.console&&console.error&&console.error("The select2('"+e+"') method was called on an element that is not using Select2.");var r=Array.prototype.slice.call(arguments,1),s=i[e](r);return t.inArray(e,a)>-1?this:s}throw new Error("Invalid arguments for Select2: "+e)}}return null==t.fn.select2.defaults&&(t.fn.select2.defaults=i),n}),e.define("jquery.mousewheel",["jquery"],function(t){return t}),{define:e.define,require:e.require}}(),n=e.require("jquery.select2");return t.fn.select2.amd=e,n})}.call(i,e,void 0,void 0)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],10:[function(t,e,n){"use strict";function i(){this.bindEvents()}var a=t("jquery");i.prototype.bindEvents=function(){a("[data-onclick]").on("click",function(){var t=a(this).find("a").attr("href");t&&(window.location.href=t)})},e.exports=new i},{}],11:[function(t,e,n){var i=t("jquery"),a=t("../../scripts/features/xtor"),r=function(){"use strict";function t(){return e?e:void(e=this)}var e,n;return t.getInstance=function(){return e||new t},t.changeTitleTag=function(){n=i(".panel-calculator .breadcrumb").data("page-title"),document.title=n,a.destroy(),a.init()},t}();e.exports=r},{"../../scripts/features/xtor":95}],12:[function(t,e,n){"use strict";var i=t("jquery");t("jquery-ui/datepicker");t("../../scripts/plugins/bpinfoscontroller.js"),t("../../scripts/ui/bpinfosdisplay.js");t("moment/locale/fr.js");var a=t("moment"),r=App.i18n.datepicker.nextText?App.i18n.datepicker.nextText:"Mois suivant",s=App.i18n.datepicker.prevText?App.i18n.datepicker.prevText:"Mois prcdent",o=App.i18n.datepicker.formatTitle?App.i18n.datepicker.formatTitle:"dd MM yyyy",l=App.datepicker.months?App.datepicker.months:["Janvier","Fvrier","Mars","Avril","Mai","Juin","Juillet","Aot","Septembre","Octobre","Novembre","Decembre"],c=function(t,e,n){var o=this;this.selectedBPStatus,this.lastUIElementSelected=null,e&&(this.bpinfos=e),t&&(this.bpinfosdisplay=t),this.jquidatepicker=i(".calendar").datepicker({maxDate:"+3m",monthNames:l,dayNamesMin:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],firstDay:1,showOtherMonths:!1,selectOtherMonths:!1,hideIfNoPrevNext:!1,nextText:r,prevText:s,dateFormat:"DD-MM-YYYY",onChangeMonthYear:function(){i.proxy(o.accessibility(o.selectedBPStatus),o)},onSelect:i.proxy(o.selectedDate,o),beforeShowDay:function(t){var e=t.getDay(),i=[0!==e,!0];return n&&(i=[!0]),i}}),this.accessibility(),this.bpinfos&&this.selectedDate(a().format("DD-MM-YYYY"),i("[data-selected-day] [data-bp-substitute-delivery]"),i("[data-selected-day] [data-bp-substitute-bank]"),i("[data-selected-day-hours]"),i("[data-bp-hours-limit]")),i(document).on("click",".ui-datepicker-next, .ui-datepicker-prev",function(){i(this).hasClass("ui-datepicker-next")?o.lastUIElementSelected="next":o.lastUIElementSelected="prev"})};c.prototype.accessibility=function(t){var e=this;this.selectedBPStatus=t,setTimeout(function(){i(".ui-datepicker-next, .ui-datepicker-prev").attr("href","javascript:void(0)"),e.lastUIElementSelected&&("next"===e.lastUIElementSelected?i(".ui-datepicker-next").focus():i(".ui-datepicker-prev").focus());var n,a,r,s;i(".calendar td").each(function(){a=i(this).data("month"),r=i(this).data("year"),n=i(this).children("a").html(),s=i.datepicker.formatDate(o,new Date(r,a,n),{monthNames:l}),i(this).find("a").attr("title",s)});var c=i.datepicker.formatDate(o,e.jquidatepicker.datepicker("getDate"),{monthNames:l}),u=c+App.i18n.datepicker.currentTitle,d=i(".calendar").find(".ui-datepicker-current-day");d.removeClass("open closed"),d.find("a").focus(),d.find("a").attr("title",u),"open"===t?d.addClass("open"):d.addClass("closed");var p=i(".calendar").find(".ui-datepicker-calendar");p.length&&App.i18n.datepicker.caption?0===p.find("caption").length&&p.prepend('<caption class="sr-only">'+App.i18n.datepicker.caption+"</caption>"):window.console.log("Error - Table inside calendar not found or no text configured for caption")},100)},c.prototype.selectedDate=function(t){this.currentDate=t;var e=t.split("-");e.length<2&&(e=t.split("/"));var n=e[2]+"-"+e[1]+"-"+e[0];"NaN-NaN-NaN"!==t&&(this.bpinfos.hasSubstituteBP(n)?this.accessibility("ferm"):0===this.bpinfos.openHours(n).length?this.accessibility("ferm"):this.accessibility("open"),this.bpinfosdisplay.displayBPInfos(n,i("[data-selected-day] [data-bp-substitute-delivery]"),i("[data-selected-day] [data-bp-substitute-bank]"),i("[data-selected-day-hours]"),i("[data-bp-hours-limit]")))},e.exports=c},{"../../scripts/plugins/bpinfoscontroller.js":98,"../../scripts/ui/bpinfosdisplay.js":127,"jquery-ui/datepicker":163,moment:168,"moment/locale/fr.js":167}],13:[function(t,e,n){"use strict";function i(t){this.$el=a(t),this.$select=this.generateSelectBox(),this.$select.change(this.handleSelectChange.bind(this));var e=this.$el.find("> .nav");e.length>1&&e.find("> li").click(this.handleMultiNavClick.bind(this))}var a=t("jquery"),r="[data-collapsable-nav]";i.prototype.handleMultiNavClick=function(t){a(t.currentTarget).hasClass("active")||this.$el.find("li.active").removeClass("active")},i.prototype.handleSelectChange=function(t){var e=a(t.currentTarget).find("option:selected");void 0!==e.data("target")?e.tab("show"):window.location=e.val()},i.prototype.generateSelectBox=function(){var t=this,e=this.$el.find("> label").attr("for");e||(e=Math.floor(1e4*Math.random()+1));var n=a('<select name="'+e+'" id="'+e+'" />');return this.$el.find("> ul").each(function(e,i){n.append(t._ulToSelect(i))}),n.appendTo(this.$el),n.wrap('<div class="select border-all--gray"><div class="select-wp"></div></div>'),n},i.prototype._ulToSelect=function(t){var e="";a(t).children().each(function(t,n){var i=a('a[class*="list-group-arrow-"]',n),r={value:i.attr("href"),text:i.text()};a(this).hasClass("active")&&(r.selected="selected");var s=i.eq(0).data("target");void 0!==s&&(r["data-target"]=s),e+=a("<option />",r).get(0).outerHTML});var n=a(t).prev(":not(ul)");return a(t).prev(":not(ul)").length?(a('<optgroup label="'+n.text()+'"/>'),['<optgroup label="'+n.text()+'"/>',e,"</optgroup>"]):e},a.fn.collapsableNav=function(t){return this.each(function(){new i(this)})},a(r).collapsableNav(),e.exports=i},{}],14:[function(t,e,n){"use strict";function i(t){this.init()}var a=t("jquery"),r="[data-collapsable-table]",s="[data-collapsable-table-target]";i.prototype.init=function(t){var e=[];a(r).find('th[scope="col"]').each(function(t){e.push(a(this).text())}),this.createOptions(e)},i.prototype.createOptions=function(t){var e="";for(var n in t)e+='<option value="'+t[n]+'", data-position="'+[n]+'">'+t[n]+"</option>";a("[data-collapsable-table-target").append(e),this.bindEvents()},i.prototype.bindEvents=function(){var t="",e=this;a(document).on("change",s,function(){t=a(this).find("option:selected").attr("data-position"),e.tableView(t)})},i.prototype.tableView=function(t){a(r).find("tr").each(function(){a(this).find("td").addClass("hidden-xs sr-only"),a(this).find("td:eq("+t+")").removeClass("hidden-xs sr-only")})},a.fn.collapsableTable=function(t){return this.each(function(){new i(this)})},a(r).collapsableTable(),e.exports=i},{}],15:[function(t,e,n){"use strict";function i(){this.bindEvents()}var a=t("jquery");i.prototype.bindEvents=function(){var t=this;a("body").on("change","[data-select-option-link]",function(e){t.manageOptionLink(e)})},i.prototype.manageOptionLink=function(t){var e=(a(t.currentTarget),a(t.currentTarget).find(":selected").data("page-link"));window.document.location=e},e.exports=i},{}],16:[function(t,e,n){"use strict";function i(){this.oldIeHacks()}var a=t("jquery");i.prototype.oldIeHacks=function(){var t=a(".old-ie .dataviz_2col p");t.each(function(t,e){var n=a(e),i=n.text(),r=i.indexOf(" ",i.length/1.9);n.text(i.substr(0,r)),a("<p>").text(i.substr(r+1)).insertAfter(n)})},e.exports=new i},{}],17:[function(t,e,n){"use strict";function i(){this.init()}var a=t("jquery"),r=(t("lodash"),"[data-valid-dicotimbre]"),s={};i.prototype.init=function(){this.bindEvents(),this.initInput()},i.prototype.initInput=function(){var t=a("input#concat-values").val();if(t){var e=JSON.parse(t);e&&(s=e)}},i.prototype.bindEvents=function(){var t=this;a(r).find("form input, form select").on("change",function(){if(a(this).is(":checked")||"checkbox"!==a(this).attr("type")&&""!==a(this).val())s[a(this).attr("name")]?s[a(this).attr("name")].push(a(this).val()):s[a(this).attr("name")]=[a(this).val()];else if(a(this).is(":checked")||"checkbox"!==a(this).attr("type"))""===a(this).val()&&delete s[a(this).attr("name")];else if(s[a(this).attr("name")].length>1){var e=a(this).attr("value"),n=s[a(this).attr("name")];n.splice(a.inArray(e,n),1)}else delete s[a(this).attr("name")];t.checkValues(s)}),a(r).on("submit",function(e){return t.checkValues(s),a.isEmptyObject(s)?!1:void 0})},i.prototype.checkValues=function(t){t.theme1&&"undefined"!=typeof t.theme1.length&&t.theme1.length>1&&t.theme1.shift();var e=JSON.stringify(t);a("input#concat-values").val(e),a.isEmptyObject(t)?a(r).find('button[type="submit"]').addClass("disabled"):a(r).find('button[type="submit"]').removeClass("disabled")},a.fn.dicotimbre=function(t){return this.each(function(){new i(this)})},a(r).dicotimbre(),e.exports=i},{lodash:166}],18:[function(t,e,n){"use strict";function i(){this.bindEvents()}var a=t("jquery");i.prototype.bindEvents=function(){a(".counter").on("click",".actions > div",function(){var t=a(this).parents(".counter").find("input"),e=t.val();a(this).hasClass("add")?e++:e>0&&e--,t.val(e)}),a(".farandole-product").on("click","img",function(){var t=a(this).parents(".farandole-product").find(".link-to").attr("href");t&&(window.location.href=t)})},e.exports=new i},{}],19:[function(t,e,n){"use strict";function i(){this.bindEvents()}var a=t("jquery");i.prototype.bindEvents=function(){a(document).on("change",".file-upload input:file",this.fileChanged)},i.prototype.fileChanged=function(){var t="fileselect",e=a(this),n=e.get(0).files&&1===e.get(0).files.length,i=e.parents(".file-upload");if(i.find(".error").remove(),i.closest(".has-error").removeClass("has-error"),n){var r=e.get(0).files[0],s=r.name.replace(/\\/g,"/").replace(/.*\//,""),o=r.size,l=s.slice(s.lastIndexOf(".")).toLowerCase();e.trigger(t,[{file:!0,label:s,size:o,ext:l,context:i}]),i.find("input[readonly]").val(s)}else e.trigger(t,[{file:!1}]),i.find("input[readonly]").val(App.i18n.forms.file)},e.exports=new i},{}],20:[function(t,e,n){"use strict";function i(){this.bindEvents()}var a=t("jquery");i.prototype.bindEvents=function(){a("[data-onclick]").on("click",function(){var t=a(this).find("a").attr("href");t&&(window.location.href=t)})},e.exports=new i},{}],21:[function(t,e,n){"use strict";function i(){this.bindEvents()}var a=t("jquery");i.prototype.bindEvents=function(){var t=this;a("body").on("submit","form",t.formSubmittedManager),t.bodyReadyManager()},i.prototype.bodyReadyManager=function(){a("body form").find("[data-input-storage]").each(function(t,e){var n=a(e),i=n.data("input-storage"),r=window.sessionStorage.getItem(i);r&&n.val(r)})},i.prototype.formSubmittedManager=function(t){var e=a(t.currentTarget);e.find("[data-input-storage]").each(function(t,e){var n=a(e).data("input-storage");window.sessionStorage.removeItem(n)})},e.exports=i},{}],22:[function(t,e,n){function i(){return a(document).width()<768}var a=t("jquery");a(function(){var t=a("#lp-nav");return t.length?(a(".lpn-item > a, .lpn-item > button, .lpn-item > p",t).on("click",function(t){"P"!=this.tagName&&t.preventDefault(),i()&&(a(".lpn-item > a, .lpn-item > button, .lpn-item > p").not(this).parent().removeClass("is-open"),a(this).parent().toggleClass("is-open"))}),a(".lpn-item",t).on("mouseenter focusin",function(){a(this).addClass("on")}).on("mouseleave focusout",function(){a(this).removeClass("on")}),a(".lpn-title",t).on("click",function(){i()&&(a(this).is(".pro")?a(this).toggleClass("is-open").parent(".lpn-col").find(".lpn-list").toggle():a(this).toggleClass("is-open").next(".lpn-list").toggle())}),a(".lpn-mobile-menu-btn button").on("click",function(e){e.preventDefault(),t.slideToggle(200),a(this).parent().toggleClass("is-open")}),void a(window).on("resize",function(){a(document).width()>753&&(a(".lpn-layer, .lpn-list").add(t).attr("style",""),a(".lpn-mobile-menu-btn.is-open, .lpn-item.is-open, .lpn-title.is-open").removeClass("is-open"))})):!1})},{}],23:[function(t,e,n){"use strict";function i(t){this.$element=a(t),this.init()}var a=t("jquery"),r=t("lodash");t("velocity-animate");t("velocity-animate/velocity.ui"),i.prototype.init=function(){this.$element.find(".js-nav-toggle").on("click.mainNavigation mouseenter.mainNavigation touchstart.mainNavigation focusin.mainNavigation",this.handleButtonToggleCollapse.bind(this)),this.$element.find(".js-header-toggler").on("mouseenter.mainNavigation",this.handleTogglerClick.bind(this)),this.$element.find(".js-header-toggler").on("focusin.mainNavigation",this.handleTogglerClick.bind(this)),this.$element.find("nav a").on("keydown.mainNavigation",function(t){27===t.which&&i.prototype.unsetActiveEntry(a(t.currentTarget).parents(".active"))}),this.$element.find(".js-header-toggler").parent().on("focusin.mainNavigation mouseenter.mainNavigation",this.handleMouseenter.bind(this)),this.$element.find(".js-header-toggler").parent().on("focusout.mainNavigation mouseleave.mainNavigation",this.handleMouseleave.bind(this)),this.preventCloseFlag=!0,a(window).on("resize",function(){a(window).width()<945?a("#searchProduct").attr("placeholder","Rechercher"):a("#searchProduct").attr("placeholder","Rechercher un produit, un service, un outil"),a(window).width()<753?a("#ipt-track-number").attr("placeholder","Numro d'envoi ou d'avis de passage"):a("#ipt-track-number").attr("placeholder","Numro d'envoi ou d'avis de passage de 11  15 caractres")})},i.prototype.handleButtonToggleCollapse=function(t){this.preventCloseFlag=!0,a(t.currentTarget).hasClass("active")?(this.reset(),a(t.currentTarget).removeClass("active")):(this.$element.find("li.active").parent().removeClass("in"),this.$element.find("li.active").removeClass("active"),a(t.currentTarget).addClass("active"),this.listenDocumentForClick()),t.preventDefault()},i.prototype.handleTogglerClick=function(t){this.preventCloseFlag=!0;var e=a(t.currentTarget).parent("li");e.hasClass("active")||(a(t.currentTarget).parents(".header--actions").length&&this.$element.find(".js-nav-toggle").removeClass("active"),this.listenDocumentForClick(),this.unsetActiveEntry(),this.setActiveEntry(a(t.currentTarget).parent())),t.stopPropagation()},i.prototype.setActiveEntry=function(t){this.activeEntryEl=t,this.activeEntryEl.addClass("active"),this.activeEntryEl.parent().addClass("in"),this.activeEntryEl.find(".header--popover, .mega-layer").velocity("transition.slideDownIn",200)},i.prototype.unsetActiveEntry=function(t){if("undefined"!=typeof t)this.activeEntryEl=t,this.activeEntryEl.next().find(".js-header-toggler").focus(),this.activeEntryEl.parent().removeClass("in"),this.activeEntryEl.removeClass("active"),delete this.activeEntryEl;else{if("undefined"==typeof this.activeEntryEl)return;this.activeEntryEl.parent().removeClass("in"),this.activeEntryEl.removeClass("active"),delete this.activeEntryEl}},i.prototype.listenDocumentForClick=function(){a(document).on("click",this.documentClickHandler.bind(this))},i.prototype.unlistenDocumentForClick=function(){a(document).off("click",this.documentClickHandler.bind(this))},i.prototype.checkFocus=function(t){setTimeout(a.proxy(function(){var t=document.activeElement;if(null!==t&&0===a("#header-nav").has(t).length)this.reset();else if(a(t).parents(".header--sections")||a(t).parents(".header--actions")){var e=a(t).parents(".header--sections > ul > li, .header--actions > ul > li").first();e.length&&!e.hasClass(".active")&&(this.unsetActiveEntry(),this.setActiveEntry(e))}},this),1)},i.prototype.documentClickHandler=function(t){0===a(t.target).parents("#header-nav").length&&this.reset()},i.prototype.handleMouseenter=function(t){this.preventCloseFlag=!0},i.prototype.handleMouseleave=function(t){void 0!==this.timeout&&clearTimeout(this.timeout),this.preventCloseFlag=!1,this.timeout=r.delay(this.reset.bind(this),1e3)},i.prototype.reset=function(){this.preventCloseFlag||(this.$element.find(".js-nav-toggle").removeClass("active"),this.$element.find("li.active").parent().removeClass("in"),this.$element.find("li.active").removeClass("active"),this.unlistenDocumentForClick())},e.exports=new i(a("header"))},{lodash:166,"velocity-animate":173,"velocity-animate/velocity.ui":174}],24:[function(t,e,n){n.header=t("./header/scripts"),n.collapsableNav=t("./collapsable_nav/scripts"),n.collapsableTable=t("./collapsable_table/scripts"),n.dicotimbre=t("./dicotimbre/scripts"),n.mozaic=t("./mozaic/scripts"),n.slider=t("./slider/scripts"),n.select=t("./select/scripts"),n.tile=t("./tile/scripts"),n.twitter=t("./twitter/scripts"),n.banner=t("./banner/scripts"),n.dataviz=t("./dataviz/scripts"),n.farandoleProducts=t("./farandole-products/scripts"),n.globalOffers=t("./global-offers/scripts"),n.metanav=t("./metanav/scripts"),n.BPCalendar=t("./calendar/scripts"),n.PeriodColissimo=t("./period-colissimo/scripts"),n.Searchbar=t("./search-bar/scripts"),n.EWPSuiviManager=t("./suivi_ewp/scripts"),n.CustomSelect=t("./custom_select/scripts"),n.Calculator=t("./calculator/scripts"),n.FileUpload=t("./file-upload/scripts"),n.InputStorageManager=t("./input_storage_manager/scripts"),n.GlobalManager=t("./global_manager/scripts"),n.tools=t("./tools/scripts"),n.nav=t("./header/nav-recast"),n.offersBloc=t("./offers_bloc/scripts")},{"./banner/scripts":10,"./calculator/scripts":11,"./calendar/scripts":12,"./collapsable_nav/scripts":13,"./collapsable_table/scripts":14,"./custom_select/scripts":15,"./dataviz/scripts":16,"./dicotimbre/scripts":17,"./farandole-products/scripts":18,"./file-upload/scripts":19,"./global-offers/scripts":20,"./global_manager/scripts":21,"./header/nav-recast":22,"./header/scripts":23,"./input_storage_manager/scripts":25,"./metanav/scripts":26,"./mozaic/scripts":27,"./offers_bloc/scripts":28,"./period-colissimo/scripts":29,"./search-bar/scripts":30,"./select/scripts":31,"./slider/scripts":32,"./suivi_ewp/scripts":33,"./tile/scripts":34,"./tools/scripts":35,"./twitter/scripts":36}],25:[function(t,e,n){"use strict";function i(){this.bindEvents()}var a=t("jquery");i.prototype.bindEvents=function(){var t=this;a("body").on("blur","input[data-input-storage]",function(e){t.storeInputValue(e)})},i.prototype.storeInputValue=function(t){var e=a(t.currentTarget),n=a(t.currentTarget).val(),i=e.data("input-storage");n&&window.sessionStorage.setItem(i,n)},e.exports=i},{}],26:[function(t,e,n){"use strict";function i(){App.i18n.accessText={ongletOpen:" - onglet ouvert",ongletClosed:" - onglet ferm"},this.init(),this.bindEvents()}var a=t("jquery");i.prototype.init=function(){this.wrapper=a("#lp-metanav"),this.menu=this.wrapper.find(".menu"),this.more=this.wrapper.find(".more"),this.ve=this.wrapper.find(".lpmn-ve"),this.level1=this.wrapper.find(".menu__level1__element"),this.menu.each(function(){a(this).find("button.menu__header").append('<span class="access-text">'+App.i18n.accessText.ongletClosed+"</span>")}),this.level1.each(function(){a(this).find("button.menu__level1__title").append('<span class="access-text">'+App.i18n.accessText.ongletClosed+"</span>")}),this.more.each(function(){a(this).find("button.more__title").append('<span class="access-text">'+App.i18n.accessText.ongletClosed+"</span>")}),this.ve.each(function(){a(this).find("button.ve__title").append('<span class="access-text">'+App.i18n.accessText.ongletClosed+"</span>"),a(".connected-name").length&&a(".connected-name").text().toLowerCase();var t=a(".recast #lp-metanav .ve__title .disconnected-name, .recast #lp-metanav .ve__title .connected-name"),e=t.text(),n=e.substring(0,24)+"...";e.length>24&&t.html(n)})},i.prototype.toggleAllClass=function(){return this.more.removeClass("more--active"),this.ve.removeClass("ve--active"),this.more.find(".access-text").text(App.i18n.accessText.ongletClosed).addClass("closed").removeClass("open"),this.ve.find(".access-text").text(App.i18n.accessText.ongletClosed).addClass("closed").removeClass("open"),this.level1.find(".access-text").text(App.i18n.accessText.ongletClosed).addClass("closed").removeClass("open"),this.level1.removeClass("menu__level1__element--active")},i.prototype.bindEvents=function(){var t=this;a("html").click(function(){a(".menu__level1__element").removeClass("menu__level1__element--active"),t.more.removeClass("more--active"),t.ve.removeClass("ve--active"),a(".menu__level1__element").find(".access-text").text(App.i18n.accessText.ongletClosed).addClass("closed").removeClass("open"),t.more.find(".access-text").text(App.i18n.accessText.ongletClosed).addClass("closed").removeClass("open"),t.ve.find(".access-text").text(App.i18n.accessText.ongletClosed).addClass("closed").removeClass("open")}),this.wrapper.on("click",".menu__level1__title",function(e){e.stopPropagation();var n,i=a(this).parent(".menu__level1__element"),r=i.children(".menu__level2");return r.length?(e.preventDefault(),n=!i.hasClass("menu__level1__element--active"),t.toggleAllClass(),n?i.find(".access-text").text(App.i18n.accessText.ongletOpen).addClass("open").removeClass("closed"):i.find(".access-text").text(App.i18n.accessText.ongletClosed).addClass("closed").removeClass("open"),i.toggleClass("menu__level1__element--active",n)):void 0}),this.wrapper.on("click",".more__title",function(e){var n;return e.preventDefault(),e.stopPropagation(),n=!t.more.hasClass("more--active"),t.toggleAllClass(),t.menu.find(".access-text").text(App.i18n.accessText.ongletClosed).addClass("closed").removeClass("open"),n?t.more.find(".access-text").text(App.i18n.accessText.ongletOpen).addClass("open").removeClass("closed"):t.more.find(".access-text").text(App.i18n.accessText.ongletClosed).addClass("closed").removeClass("open"),t.menu.removeClass("menu--active"),t.more.toggleClass("more--active",n)}),this.wrapper.on("click",".ve__title",function(e){var n;return e.preventDefault(),e.stopPropagation(),n=!t.ve.hasClass("ve--active"),t.toggleAllClass(),t.menu.find(".access-text").text(App.i18n.accessText.ongletClosed).addClass("closed").removeClass("open"),n?t.ve.find(".access-text").text(App.i18n.accessText.ongletOpen).addClass("open").removeClass("closed"):t.ve.find(".access-text").text(App.i18n.accessText.ongletClosed).addClass("closed").removeClass("open"),t.menu.removeClass("menu--active"),t.ve.toggleClass("ve--active",n)}),this.wrapper.on("click",".menu__header",function(e){var n;return e.preventDefault(),n=!t.menu.hasClass("menu--active"),t.toggleAllClass(),n?t.menu.find(".access-text").text(App.i18n.accessText.ongletOpen).addClass("open").removeClass("closed"):t.menu.find(".access-text").text(App.i18n.accessText.ongletClosed).addClass("closed").removeClass("open"),t.menu.toggleClass("menu--active",n)}),a(document).on("keyup.getFocusMetaNav",function(e){return 9!==e.keyCode||(a(e.target).closest(".menu__level1__element").hasClass("menu__level1__element--active")||t.level1.removeClass("menu__level1__element--active"),a(e.target).closest(".more").hasClass("more--active")||t.more.removeClass("more--active"),a(e.target).closest(".lpmn-ve").hasClass("ve--active")||t.ve.removeClass("ve--active"),a(e.target).closest(".menu").hasClass("menu--active"))?void 0:t.menu.removeClass("menu--active")})},e.exports=new i},{}],27:[function(t,e,n){"use strict";function i(t){this.$el=a(t),this.$el.on("mouseenter","[data-img]",this.handleMouseenter.bind(this))}var a=t("jquery"),r=".mozaic";i.prototype.handleMouseenter=function(t){var e=a(t.currentTarget).data("img");this.$el.find(".mozaic__bg-img").find("img").removeClass("current").filter("[data-img-target="+e+"]").addClass("current")},a(r).each(function(){new i(this)}),e.exports=i},{}],28:[function(t,e,n){var i=t("jquery");t("lodash");e.exports=function(){i(function(){})}()},{lodash:166}],29:[function(t,e,n){"use strict";var i=t("jquery");t("moment/locale/fr.js");var a=t("moment"),r=function(t){t.find("select").length>1&&console.warn("it looks like there is an issue with the structure - one or more extra select"),t.find("table").length>1&&console.warn("it looks like there is an issue with the structure - one or more extra table"),this.$select=t.find("select").eq(0),this.$table=t.find("[data-table-days-opening-hours-container]").eq(0).find("table"),this.$listUL=t.find("[data-list-days-opening-hours-container]").eq(0).find("ul"),i("[data-cityissimo-detail]").show(),this.bindEvents(),this.$select.trigger("change"),this.displayExceptionalClosureForIndex(this.$select.find(":selected").attr("data-fermetureExcep-periode"))};r.prototype.displayExceptionalClosureForIndex=function(t){var e="";"undefined"==typeof t||t.toLowerCase()==="data-fermetureExcep-periode".toLowerCase()?console.warn("data attr fermetureExcep-periode missing"):(t=JSON.parse(t),i.each(t,function(t,n){e+=String(n.debut)===String(n.fin)?"<li>Fermeture exceptionnelle le "+a(n.debut,"YYYY-MM-DD").format("dddd D MMMM")+"</li>":"<li>Fermeture exceptionnelle du "+a(n.debut,"YYYY-MM-DD").format("dddd D MMMM")+" au "+a(n.fin,"YYYY-MM-DD").format("dddd D MMMM")+"</li>"})),i("[data-cityissimo-detail]").html(e)},r.prototype.bindEvents=function(){var t=this;this.$select.on("change",function(){t.tableTpl(i(this).find(":selected").attr("data-heure-periode"))})},r.prototype.tableTpl=function(t){t=JSON.parse(t),this.$table.find("tbody").empty();var e=this;i.each(t,function(t,n){var i=t,a='<tr><td class="h5"><b>'+i.capitalizeFirstLetter()+"</b></td>";if(n.length>0)for(var r=0;3>=r;r++)a+="undefined"!=typeof n[r]?'<td class="h5">'+n[r]+"</td>":'<td class="h5">-</td></td>';else a+='<td class="h5"> Ferm </td>';a+="</tr>",e.$table.find("tbody").append(a)}),this.$listUL.empty(),i.each(t,function(t,n){e.$listUL.append(e.listTpl(t,n))})},r.prototype.listTpl=function(t,e){var n="";n+='<li class="col-xs-12"><span><b>'+t+"</b></span></li>";for(var i=0;i<e.length;i++)n+='<li class="col-xs-12"><span class="h5">'+e[i]+"</span></li>";return n},e.exports=r},{moment:168,"moment/locale/fr.js":167}],30:[function(t,e,n){"use strict";function i(){a.bindAll(this,"initialize","render","bindEvents","unbindEvents","destroy"),this.initialize(),$(this.render)}var a=t("lodash"),r=(t("jquery"),t("typeahead.js-browserify")),s=r.Bloodhound;r.loadjQueryPlugin();var o="typeahead-search",l="."+o,c={name:o},u={remote:{}},d=App.WS.search,p="%QUERY",h={dev:["../data/search-test.json?q=",p],prod:[App.urls.searchPrefix,"::",p,"::",d.limit,"::",d.subtree,"::",d.classes,"?ContentType=",d.contentType]},f={selected:"typeahead:select"};i.prototype.initialize=function(){u.remote.url=h[App.environment].join(""),u.remote.wildcard=p,u.queryTokenizer=s.tokenizers.whitespace,
u.datumTokenizer=function(t){return s.tokenizers.whitespace(t)},u.remote.transform=function(t){return t.content},c.display=function(t){return t[0]},c.source=new s(u),c.limit=d.limit},i.prototype.render=function(){this.$el=$(l),this.bindEvents(),this.$el.typeahead(null,c)},i.prototype.bindEvents=function(){this.$el.on(f.selected,function(){$(this).closest("form").submit()})},i.prototype.unbindEvents=function(){this.$el.off(f.selected)},i.prototype.destroy=function(){this.unbindEvents(),this.$el.typeahead("destroy")},e.exports=new i},{lodash:166,"typeahead.js-browserify":170}],31:[function(t,e,n){"use strict";var i=t("jquery");i("body").on("change","[data-selector]",function(){var t=i(this),e=t.data("selector");i('[data-selector-target="'+e+'"]').removeClass("in"),i('[data-selector-target="'+e+'"][data-selector-show="'+t.val()+'"]').addClass("in")})},{}],32:[function(t,e,n){"use strict";var i=t("jquery");t("owl.carousel");var a=function(t){var e=t.find(".owl-item").first(),n=t.find(".owl-item").last();"multi-item"===t.data("lp-slider")&&(e.hasClass("active")?t.parent().find(".slide-go-prev").hide():t.parent().find(".slide-go-prev").show(),n.hasClass("active")?t.parent().find(".slide-go-next").hide():t.parent().find(".slide-go-next").show()),"multi-item-counted"===t.data("lp-slider")&&(e.hasClass("active")?t.parent().find(".slide-go-prev").addClass("disabled"):t.parent().find(".slide-go-prev").removeClass("disabled"),n.hasClass("active")?t.parent().find(".slide-go-next").addClass("disabled"):t.parent().find(".slide-go-next").removeClass("disabled"))},r=function(t,e,n){if(n=n||0,n>3)return!1;if("function"==typeof tc_events_1&&"undefined"!=typeof i(t.$owlItems[t.currentItem]).children("div[data-slide]").data("tagging")){var a=i(t.$owlItems[t.currentItem]).children("div[data-slide]").data("tagging"),s="DISPLAY",o=i(t.$owlItems[t.currentItem]).find("a").attr("href");a.cible_boutique="false","undefined"!=typeof o&&-1!==o.indexOf("boutique.laposte.fr")&&(a.cible_boutique="true"),tc_events_1(i(t.$owlItems[t.currentItem]).children("div[data-slide]"),s,a)}else"function"!=typeof tc_events_1&&setTimeout(function(){r(t,e,n+1)},100)},s=function(t){if("full-width"===t.data("lp-slider")){var e=i('<div class="owl-pagination" />'),n=i('<ul class="owl-pagination-wrapper list-unstyled" />'),s=i('<div class="owl-controls clickable" />').append(e),o=t.next(".btn-group-control"),l=t.find(".owl-item");o.length&&e.append(o),e.append(n),t.find(".owl-wrapper-outer").after(s);for(var c=0;c<l.length;c+=1){var u=c+1;n.append(i('<li class="owl-page"><a title="'+App.i18n.slider.paginate.replace("{n}",u)+'" href="#"/>').append(i('<span class="owl-numbers"/>').append(App.i18n.slider.paginate.replace("{n}",u))))}t.find(".owl-pagination .owl-page").eq(0).addClass("active").find("a").attr("title",App.i18n.slider.currentPage.replace("{n}",1))}if("multi-item-counted"===t.data("lp-slider")){var d=1,p=parseInt(t.find(".owl-item.active").length,10)-1,h=parseInt(t.find(".owl-item").length,10),f=App.i18n.slider.product+d+App.i18n.slider.to+(d+p)+App.i18n.slider.of+h;t.parent().find(".page-count").html(f)}a(t);var g=this;setTimeout(function(){r(g,!0)},500)},o=function(t){var e=t.find(".owl-item.active").index();if(t.find(".owl-pagination .owl-page").each(function(){i(this).find("a").attr("title",App.i18n.slider.paginate.replace("{n}",i(this).index()+1)),i(this).removeClass("active")}).eq(e).addClass("active").find("a").attr("title",App.i18n.slider.currentPage.replace("{n}",e+1)),"multi-item-counted"===t.data("lp-slider")){var n=parseInt(e,10)+1,s=parseInt(t.find(".owl-item.active").length,10)-1,o=parseInt(t.find(".owl-item").length,10),l=App.i18n.slider.product+n+App.i18n.slider.to+(n+s)+App.i18n.slider.of+o;t.parent().find(".page-count").html(l)}a(t),r(this,!1)},l=function(t){var e,n=t.data("slide-id");return e=n?i("#"+n):t.closest(".btn-group-control").prev()},c="[data-lp-slider]",u=i(c),d=(i(".btn-group-control.anim-ctrl"),{singleItem:!0,addClassActive:!0,navigationText:!1,slideSpeed:300,paginationSpeed:400,afterInit:s,afterMove:o});i(function(){u.each(function(){var t,e=i(this),n=i(this).attr("data-lp-slider-opts"),a="undefined"!=typeof n?n:d;if("string"==typeof a&&(a=i.extend({},d,i.parseJSON(a))),e.owlCarousel(a),t=e.data("owlCarousel"),e.on("click",".owl-page",function(n){"multi-item-lpn"!==e.attr("data-lp-slider")?(n.preventDefault(),t.goTo(i(this).index())):(i(this).closest(".owl-page").removeClass("active"),i(this).addClass("active"))}),e.hasClass("controlled")){var r=e.find(".slide-play"),s=e.find(".slide-stop");r.hide(),r.bind("click",function(t){t.preventDefault(),e.trigger("owl.play",5e3),r.hide(),s.show()}),s.bind("click",function(t){t.preventDefault(),e.trigger("owl.stop"),s.hide(),r.show()})}}),i(".slide-go-next .btn-slide").bind("click",function(t){t.preventDefault();var e=l(i(this));e.trigger("owl.next");var n=i(this).closest(".slider-container").find(".owl-container");"multi-item"===n.data("lp-slider")}),i(".slide-go-prev .btn-slide").bind("click",function(t){t.preventDefault();var e=l(i(this));e.trigger("owl.prev")})})},{}],33:[function(t,e,n){"use strict";function i(){a(".ewp").length<1||this.bindEvents()}var a=t("jquery"),r=".ewp",s=t("../../scripts/utils/helpers");t("../../scripts/utils/strings-operations");i.prototype.bindEvents=function(){var t=this;a(r).on("click","[data-toggle]",function(e){t.expand(e)}),a(r).on("click","[data-details-tracking]",t.trackDetails),a(r).on("click","[data-saveddetails-tracking]",t.trackSavedDetails),a(r).on("click","[data-faq-tracking]",t.trackFAQ),a(r).on("click","[data-nouvellelivraison-tracking]",t.trackNewDelivery),a(r).on("click","[data-enregistrersuivi-tracking]",t.savePackage),a("body").on("show.bs.modal","#modal-delete-ewp",t.deletePackage),a(r).on("shown.bs.collapse","#ewp-messages-importants",function(){a(".soufflet").find("[data-toggle]").removeClass("icon-arrow-down").addClass("icon-arrow-up")}).on("hidden.bs.collapse","#ewp-messages-importants",function(){a(".soufflet").find("[data-toggle]").removeClass("icon-arrow-up").addClass("icon-arrow-down")})},i.prototype.expand=function(t){var e=a(t.currentTarget);!Boolean(e.attr("aria-expanded"))},i.prototype.deletePackage=function(t){var e=a(t.relatedTarget).data("delete-btn-href"),n=a(this);n.find("[data-ewp-url-delete]").attr("href",e)},i.prototype.trackDetails=function(t){var e=a(t.target),n={label:"outils::suivre::resultats_suivi::details",xtclick_event:"C",xtclick_s2:tc_vars.xiti_xtn2,xtclick_type:"N"};s.tracking(e,"CLICK",n)},i.prototype.trackFAQ=function(t){var e=a(t.target),n={label:"outils::suivre::faq::suivre_un_envoi",xtclick_event:"C",xtclick_s2:tc_vars.xiti_xtn2,xtclick_type:"N"};s.tracking(e,"CLICK",n)},i.prototype.trackLanguage=function(t){var e=a(t.target),n=a(t.currentTarget).data("lang-tracking")||a(t.currentTarget).find(":selected").data("lang-tracking"),i={label:"outils::suivre::resultats_suivi::"+n,xtclick_event:"C",xtclick_s2:tc_vars.xiti_xtn2,xtclick_type:"N"};s.tracking(e,"CLICK",i)},i.prototype.trackNewDelivery=function(t){var e=a(t.target),n={label:"outils::suivre::resultats_suivi::demander_une_nouvelle_livraison",xtclick_event:"C",xtclick_s2:tc_vars.xiti_xtn2,xtclick_type:"N"};s.tracking(e,"CLICK",n)},i.prototype.savePackage=function(t){var e=a(t.target),n={label:"outils::suivre::resultats_suivi::enregistrer_ce_suivi",xtclick_event:"C",xtclick_s2:tc_vars.xiti_xtn2,xtclick_type:"N"};s.tracking(e,"CLICK",n)},i.prototype.trackSavedDetails=function(t){var e=a(t.target),n={label:"outils::suivre::suivis_enregistres::details",xtclick_event:"C",xtclick_s2:tc_vars.xiti_xtn2,xtclick_type:"N"};s.tracking(e,"CLICK",n)},e.exports=i},{"../../scripts/utils/helpers":133,"../../scripts/utils/strings-operations":140}],34:[function(t,e,n){"use strict";t("velocity-animate");t("velocity-animate/velocity.ui");var i=t("jquery");i(".tile").length&&i(document).on("show.bs.tab","[data-toggle=tab]",function(){i(".tab-pane .tile, .tab-pane .banner").velocity("stop",!0)}).on("shown.bs.tab","[data-toggle=tab]",function(){i(".tab-pane.active .tile, .tab-pane.active .banner").css("opacity",0).velocity("fadeIn",{stagger:150,duration:300})})},{"velocity-animate":173,"velocity-animate/velocity.ui":174}],35:[function(t,e,n){"use strict";var i=t("jquery");t("lodash");e.exports=function(){if(i("#tools").length){var t=function(){i("#hiddenanchor").is(":hidden")?i("#tools").attr("style",""):i("#hiddenanchor").length>0&&i("#tools").css({position:"absolute",left:i("#hiddenanchor").offset().left-i("#tools").outerWidth(),top:0})},e=function(){i(".tool-layer").hide(),i("#tools li.active").removeClass("active")},n=function(){for(var t=i(".tool-layer").find("form"),e=0;e<t.length;e++)t[e].reset(),i(".has-error").removeClass("has-error"),i(".form-control-feedback").fadeOut()},a=function(t){var n=i('.tool-layer[data-id="'+i(this).attr("data-tool-id")+'"]');n.length?(t.preventDefault(),n.is(":visible")?(i(this).closest("li").removeClass("active"),n.hide()):(e(),i(this).closest("li").addClass("active"),n.show())):e()},r=function(){if(i.cookie(App.cookies.login)&&i.cookie("suiviewp")){var t=i('[data-id="suivre_colissimo_chronopost_lettres"').find(".panel > p"),e=(i.cookie(App.cookies.login),i.cookie("suiviewp")),n=Number(JSON.parse(e).nb_suivi),a="";n&&(1===n?a=n+" suivi en cours enregistr":n>=2&&(a=n+" suivis en cours enregistrs"),t.find("a").removeClass("hidden").html(a))}};i(function(){i(window).resize(t).resize(),i(document).on("keydown.access.focusHandler.data-api",t),i("#top-alert, #cookies").on("shown.bs.collapse hidden.bs.collapse",t),window.setTimeout(function(){i("#tools").fadeIn(250)},500),i("[data-tool-id]").on("click",n),i("[data-tool-id]").on("click",a),i(".tool-layer[data-id] button.close").on("click",n),i(".tool-layer[data-id] .close").on("click",e),r()})}}()},{lodash:166}],36:[function(t,e,n){"use strict";function i(){this.createTwitter(),this.addFeed()}t("jquery");i.prototype.createTwitter=function(){window.twttr=function(t,e,n){var i,a,r=t.getElementsByTagName(e)[0];if(!t.getElementById(n))return a=t.createElement(e),a.id=n,a.src="https://platform.twitter.com/widgets.js",r.parentNode.insertBefore(a,r),window.twttr||(i={_e:[],ready:function(t){i._e.push(t)}})}(document,"script","twitter-wjs")},i.prototype.addFeed=function(){var t=window.twttr,e=document.getElementById("twitter-feed");e&&t.ready(function(t){t.widgets.createTimeline(App.twitterConfig.timelineId,e,{height:App.twitterConfig.height,listOwnerScreenName:App.twitterConfig.owner,listSlug:App.twitterConfig.listSlug}).then(function(t){})})},e.exports=new i},{}],37:[function(t,e,n){"use strict";t("./utils/polyfills");var i=t("jquery");t("./plugins");var a=t("./utils/bootstrap-overrides");a.fixAjaxModals(),a.updateCollapseTitle(),a.makeCollapseAriaCompliant(),a.updateTabsTitles(),a.updateTabsHeight(),a.updateTabsH1();var r=t("../components"),s=(new r.GlobalManager,t("./ui/share")),s=new s;t("./features/link"),t("./features/modal"),t("./features/iframe"),t("./features/link"),t("./features/ajax-send-load"),t("./features/collapse-btn"),t("./features/cookies-alert"),t("./features/dashboard-rb"),t("./features/ajax-pagination"),t("./features/ccu-check-connection"),t("./features/social"),t("./features/webmail"),t("./features/find-foreign-post"),t("./features/dropdown-checkboxes"),t("./features/map-search-trigger"),t("./features/link-modifier"),t("./features/layer-load"),t("./features/dicotimbre-visit-counter"),t("./features/calendar"),t("./features/accessibility"),t("./features/calendar-choix-date"),t("./features/hub-notifications"),t("./utils/tracking"),t("./features/selects"),t("./features/animate-scroll"),t("./features/dropdown-autocomplete"),t("./features/custom-error-messages"),t("./features/set-defaults"),t("./features/ccu-upload"),t("./features/resilier-procuration"),t("./features/form-rules"),t("./features/upload"),t("./features/lower-than-warning"),t("./features/checkboxes"),t("./features/calendar-vsmp"),t("./features/equalto-popin"),t("./features/phone-filter"),t("./features/validation-disabler"),t("./features/vsmp-accordion"),t("./features/special-options"),t("./features/toggle-phone-controls"),t("./features/toggle-cedex-controls"),t("./features/toggle-popin-controls"),t("./features/toggle-inputs-controls"),t("./features/select-helper"),t("./features/dynamic-select"),t("./features/bal"),t("./features/datepicker"),t("./features/display-extra-information"),t("./features/find-zip-code"),t("./features/check-address"),t("./features/checkaddress-zip-code"),t("./features/find-post-office"),t("./features/find-colissimo-office"),t("./features/find-cityssimo-office"),t("./features/rocs-find-post-office"),t("./features/popin-delete");var o=t("./plugins/colissimoinfoscontroller"),l=(new r.EWPSuiviManager,new r.CustomSelect,new r.InputStorageManager,t("./plugins/select-filter"));if(i("[data-select-filter]").length){new l('[data-select-filter="master"]','[data-select-filter="slave"]')}if(t("./plugins/input-relation-manager"),i(".colissimo-fermetures-exp").length){new o}window.tc_vars=window.tc_vars||{},t("./features/xtor")},{"../components":24,"./features/accessibility":38,"./features/ajax-pagination":39,"./features/ajax-send-load":40,"./features/animate-scroll":41,"./features/bal":42,"./features/calendar":45,"./features/calendar-choix-date":43,"./features/calendar-vsmp":44,"./features/ccu-check-connection":46,"./features/ccu-upload":47,"./features/check-address":48,"./features/checkaddress-zip-code":49,"./features/checkboxes":50,"./features/collapse-btn":51,"./features/cookies-alert":52,"./features/custom-error-messages":53,"./features/dashboard-rb":54,"./features/datepicker":55,"./features/dicotimbre-visit-counter":56,"./features/display-extra-information":57,"./features/dropdown-autocomplete":58,"./features/dropdown-checkboxes":59,"./features/dynamic-select":60,"./features/equalto-popin":61,"./features/find-cityssimo-office":63,"./features/find-colissimo-office":64,"./features/find-foreign-post":65,"./features/find-post-office":66,"./features/find-zip-code":67,"./features/form-rules":68,"./features/hub-notifications":69,"./features/iframe":70,"./features/layer-load":71,"./features/link":73,"./features/link-modifier":72,"./features/lower-than-warning":75,"./features/map-search-trigger":76,"./features/modal":77,"./features/phone-filter":78,"./features/popin-delete":79,"./features/resilier-procuration":80,"./features/rocs-find-post-office":81,"./features/select-helper":82,"./features/selects":83,"./features/set-defaults":84,"./features/social":85,"./features/special-options":86,"./features/toggle-cedex-controls":87,"./features/toggle-inputs-controls":88,"./features/toggle-phone-controls":89,"./features/toggle-popin-controls":90,"./features/upload":91,"./features/validation-disabler":92,"./features/vsmp-accordion":93,"./features/webmail":94,"./features/xtor":95,"./plugins":103,"./plugins/colissimoinfoscontroller":99,"./plugins/input-relation-manager":105,"./plugins/select-filter":106,"./ui/share":131,"./utils/bootstrap-overrides":132,"./utils/polyfills":138,"./utils/tracking":142}],38:[function(t,e,n){"use strict";var i=t("jquery"),a="[data-accessibility-target]",r="[data-accessibility-trigger]",s="",o=function(){this.targetHandler(),this.init()};o.prototype.init=function(){i(r).trigger("change")},o.prototype.targetHandler=function(){var t=this;i(r).on("change",function(){s="",t.changeTitleValue(i(this).find("option:selected").text())})},o.prototype.changeTitleValue=function(t){s=i(a).data("accessibility-target"),s=s+" "+t.toLowerCase(),i(a).attr("title",s)},e.exports=o,new o},{}],39:[function(t,e,n){"use strict";function i(t){a=t,r=t.find(".pagination"),s=o(t.data("container")?t.data("container"):".ajax-container"),this.handleClickPagination()}var a,r,s,o=t("jquery"),l=t("../ui/loader"),c=o(".ajax-pagination");i.prototype.updatePagination=function(t){var e=r.find("li:nth-last-child(2) a").data("page");r.find(".active").removeClass("active").children("a").addClass("pag-link"),r.find('[data-page="'+t+'"]').parent("li").addClass("active").children("a").removeClass("pag-link"),1===t?r.find(".first").addClass("disabled"):r.find(".first").removeClass("disabled"),t===e?r.find(".last").addClass("disabled"):r.find(".last").removeClass("disabled"),a.find(".pagination-feedback").html("Page "+t+" sur "+e),o(r).find("li").each(function(){var t=o(this).find("a"),e=t.attr("data-page");t.attr("title","Aller  la page "+e).find("span").text("Aller  la page "+e)}),r.find(".active").find("a").attr("title","page "+t+" en cours de consultation").find("span").text("Page "+t+" en cours de consultation")},i.prototype.appendComments=function(t,e){l.hideLoader(),s.append(t),s.toggle(300,function(){})},i.prototype.beforeComments=function(t){return o("body, html").animate({scrollTop:s.offset().top-100},"slow",function(){t&&(t=!1,s.toggle(300,function(){s.empty(),l.showLoader()}))}),!1},i.prototype.ajaxCall=function(t,e){var n=this;t&&e&&o.ajax({url:t}).success(function(t){n.updatePagination(e),n.appendComments(t.comments)}).fail(function(){l.hideLoader()})},i.prototype.handlePagination=function(t,e,n){var i=this;return t&&e&&n&&o("body, html").animate({scrollTop:s.offset().top-100},"slow",function(){n&&(n=!1,s.toggle(300,function(){s.empty(),l.showLoader(),i.ajaxCall(t,e)}))}),!1},i.prototype.handleClickPagination=function(){var t=this;r.on("click",".pag-link",function(e){e.preventDefault();var n=o(this).attr("href"),i=o(this).data("page");a=o(this).parents(".ajax-pagination"),r=a.find(".pagination"),s=o(a.data("container")?a.data("container"):".ajax-container"),t.handlePagination(n,i,!0)}),r.on("click",".active a",function(t){t.preventDefault()}),r.on("click",".first, .last",function(e){e.preventDefault(),a=o(this).parents(".ajax-pagination"),r=a.find(".pagination"),s=o(a.data("container")?a.data("container"):".ajax-container");var n=r.find(".active").children("a").data("page");o(this).hasClass("first")&&n>1?n--:o(this).hasClass("last")&&n<r.find("li:nth-last-child(2) a").data("page")&&n++,t.handlePagination(r.find('[data-page="'+n+'"]').attr("href"),n,!0)})},c.each(function(){new i(o(this))})},{"../ui/loader":129}],40:[function(t,e,n){"use strict";function i(){a=this,this.bindEvents()}var a,r=t("jquery"),s=t("../ui/loader"),o=t("../plugins/validator"),l=".form-send-load";i.prototype.appendError=function(t){if(window.console.log("AjaxSendLoad - Not sent"),t){t.parent().addClass("has-error");var e=t.parent().find(r(".error"));e.length||t.parent().append('<p class="error form-control-feedback">'+App.i18n.errors.codeDemandeError+"</p>")}},i.prototype.bindEvents=function(){r(document).on("submit",l,function(t){t.preventDefault(),s.showLoader();var e=r(this).attr("action"),n=r(this).serialize(),i=r(this).data("container"),l=r(this).data("parent"),c=r(this).find('button[type="submit"]');e?r.ajax({url:e,data:n,type:"post"}).success(function(t){if(s.hideLoader(),t.sent){if(l?r(l).fadeTo("fast",0).hide():window.console.log("AjaxSendLoad - Not parent container defined"),i?(r(i).removeClass("hidden"),new o(r(i))):window.console.log("AjaxSendLoad - Not result container defined"),c){c.parent().removeClass("has-error");var e=c.parent().find(".error");e&&e.remove()}}else c&&a.appendError(c)}).fail(function(){window.console.log("AjaxSendLoad - Ajax fail"),s.hideLoader(),c&&a.appendError(c)}):(window.console.log("AjaxSendLoad - Error - Not url in the form action"),s.hideLoader())})},e.exports=i,new i},{"../plugins/validator":109,"../ui/loader":129}],41:[function(t,e,n){"use strict";var i=t("jquery"),a="[data-animate-scroll]",r=function(){this.init()};r.prototype.init=function(){i(a).on("click",function(t){t.preventDefault();var e=i(this).attr("href"),n=i(e).offset().top;i("html, body").animate({scrollTop:n},600)})},e.exports=r,new r},{}],42:[function(t,e,n){"use strict";function i(){this.$trigger=a(r),this.$address=a(s),this.$city=a(o).find("select"),this.$pc=a(l),this.$date=a(c).find("select"),this.$packageNumber=a(u),this.$form=this.$trigger.closest("form"),this.$formValidate=this.$form.validate(),this.packageNumberValue="",this.dateParams={},this.isFillingFields=!1,this.isScrollable=!0,this.init()}var a=t("jquery");t("jquery.autocomplete");var r="[data-autocomplete]",s="[data-autocomplete-address]",o="[data-autocomplete-city]",l="[data-autocomplete-pc]",c="[data-select-helper]",u="[data-package-number]";i.prototype.init=function(){this.$address.autocomplete({dataType:"json",serviceUrl:App.WS.rbal.autocompletionAdresses,minChars:4,onSelect:this.fillFields.bind(this)}),this.$pc.on("input",this.isPostalCodeEmpty.bind(this)),this.$address.on("blur",this.checkFields.bind(this)),this.$pc.on("blur",this.checkFields.bind(this)),this.$city.on("change change.ajax",this.checkFields.bind(this)),this.$packageNumber.on("input blur",this.checkPackageNumber.bind(this))},i.prototype.fillFields=function(t){this.isFillingFields=!0,this.$address.val(t.data.adresse),this.$pc.val(t.data.cp),this.$city.append('<option selected value="'+t.data.ville+'">'+t.data.ville+"</option>"),a("[data-dynamic-city-trigger]").trigger("input")},i.prototype.callDateWS=function(t){this.checkDateParams(t)||this.isFillingFields||(this.dateParams=t,a.ajax({url:App.WS.rbal.recupererDatesDisponibles+t.adresse+"/"+t.ville+"/"+t.cp,dataType:"json",success:this.updateDateSelect.bind(this)}))},i.prototype.checkDateParams=function(t){return t.adresse===this.dateParams.adresse&&t.cp===this.dateParams.cp&&t.ville===this.dateParams.ville},i.prototype.checkPackageNumber=function(t){var e=a(t.currentTarget).val();"input"===t.type&&13!==e.length||this.packageNumberValue===e||(this.packageNumberValue=e,this.dateParams={},this.$formValidate.element("#"+this.$packageNumber.attr("id"))&&this.callPackageWS(e))},i.prototype.callPackageWS=function(t){a.ajax({url:App.WS.rbal.recupererInfos+t,dataType:"json",success:this.prefillForm.bind(this),error:function(){this.isUserEnteredAFalsePkgNb=!0}.bind(this)})},i.prototype.prefillForm=function(t){return"undefined"!=typeof t.error&&""!==t.error?this.applyWSError(t.error):void 0},i.prototype.clearForm=function(){this.$form.find("[type=radio]").attr("checked",!1),this.$form.find("[type=text]").not(this.$packageNumber).val(""),this.$form.find("select").empty(),this.hideSelectHelper()},i.prototype.applyWSError=function(t){var e={};e[this.$packageNumber.attr("name")]=t.text,this.$formValidate.showErrors(e)},i.prototype.updateDateSelect=function(t){if(this.$date.empty(),this.hideSelectHelper(),t.dates){this.$formValidate.element("#"+this.$packageNumber.attr("id"));for(var e=0;e<t.dates.length;e++)this.$date.append('<option value="'+t.dates[e].dateiso+'">'+t.dates[e].datestring+"</option>"),this.$date.data("max-hour",t.maxHour);this.$date.trigger("change")}else{var n=a(c).attr("data-select-helper"),i=a(n).attr("data-select-helper-nodates-tpl")||App.i18n.errors.undeliverableArea,r={};r[this.$packageNumber.attr("name")]=i,this.$formValidate.showErrors(r)}this.isScrollable?a("html, body").animate({scrollTop:this.$date.closest(".panel").offset().top},600):this.isScrollable=!0},i.prototype.hideSelectHelper=function(){a(this.$date.closest(".form-group").attr("data-select-helper")).hide()},i.prototype.checkFields=function(t){var e=!0;this.$trigger.each(function(t,n){var i=a(n);a(n).is(":not(input)")&&(i=a(n).find("select")),(""===i.val()||null===i.val())&&(e=!1)}),e&&("change"===t.type&&"ajax"===t.namespace&&(this.isFillingFields===!1&&a(t.currentTarget).children().length>1&&(this.isScrollable=!1),this.isFillingFields=!1),setTimeout(function(){this.callDateWS({adresse:this.$address.val(),ville:this.$city.val(),cp:this.$pc.val()})}.bind(this),500))},i.prototype.isPostalCodeEmpty=function(t){0===a(t.currentTarget).val().length&&this.$city.empty().trigger("change")},e.exports=new i},{"jquery.autocomplete":8}],43:[function(t,e,n){"use strict";function i(t,e,n){a=this,this.minDate=null,this.daysFromToday=null,this.currentDate=null,this.disabledDays=null,this.infoDisplay=e,this.infoController=n,t?(this.calendarWrapper=t,this.btnSubmit=this.calendarWrapper.find('button[type="submit"]'),this.textDate=this.calendarWrapper.find(".text-date"),this.iniInput(),this.iniDisabledDays(),this.updateDate(),this.iniCalendar(this.currentDate)):window.console.log("ChoixDateCalendar - Error - calendarWrapper doesn't exist")}var a,r=t("jquery"),s=t("../../components"),o=r(".calendar-input-wrapper"),l=App.datepicker.dateFormatSimpleDatapicker?App.datepicker.dateFormatSimpleDatapicker:"dd/mm/yy",c=App.datepicker.dateTextFormatSimpleDatapicker?App.datepicker.dateTextFormatSimpleDatapicker:"DD dd MM yy",u=App.datepicker.weekdays?App.datepicker.weekdays:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],d=App.datepicker.months?App.datepicker.months:["Janvier","Fvrier","Mars","Avril","Mai","Juin","Juillet","Aot","Septembre","Octobre","Novembre","Decembre"],p=App.i18n.datepicker.nextText?App.i18n.datepicker.nextText:"Mois suivant",h=App.i18n.datepicker.prevText?App.i18n.datepicker.prevText:"Mois prcdent";i.prototype.updateDate=function(){if(this.input){var t=this.input.data("date-min");t&&(this.minDate=r.datepicker.parseDate(l,t));var e=this.input.data("date-max");e&&(this.maxDate=r.datepicker.parseDate(l,e))}else window.console.log("ChoixDateCalendar - Error - Not input inside .calendar-input-wrapper")},i.prototype.iniInput=function(){this.input=null,this.input=this.calendarWrapper.find(".date-input"),this.input&&(this.currentDate=this.input.val())},i.prototype.iniDisabledDays=function(){var t;a.disabledDays=this.input.data("date-disabled"),a.disableSundays=this.input.data("date-disable-sundays"),void 0===a.disableSundays&&(a.disableSundays=!0),a.disabledDays=r.map(a.disabledDays,function(e,n){return t=r.datepicker.parseDate(l,e),t?t.getTime():void 0})},i.prototype.noDisableSpecifiedDays=function(t){return this.disabledDays&&r.inArray(t.getTime(),this.disabledDays)>-1?[!1]:[!0]},i.prototype.noWeekends=function(t){var e=t.getDay();return[0!==e,""]},i.prototype.noWeekendsAndSpecifiedDays=function(t){var e=a.noWeekends(t);return a.disableSundays?e[0]?a.noDisableSpecifiedDays(t):e:a.noDisableSpecifiedDays(t)},i.prototype.iniCalendar=function(t){var e=r(".calendar-wrapper-default");this.infoDisplay||this.infoController||e.length?this.calendar=new s.BPCalendar(this.infoDisplay,this.infoController,!1):(s.BPCalendar.prototype.selectedDate=function(t){a.selectDay(t)},this.calendar=new s.BPCalendar(null,null,!1)),this.calendar?(this.calendar.jquidatepicker.datepicker("option","beforeShowDay",this.noWeekendsAndSpecifiedDays),this.calendar.jquidatepicker.datepicker("option","dateFormat",l),this.calendar.jquidatepicker.datepicker("option","nextText",p),this.calendar.jquidatepicker.datepicker("option","prevText",h),this.calendar.jquidatepicker.datepicker("option","dayNames",u),t&&(this.calendar.jquidatepicker.datepicker("setDate",t),a.selectDay(t)),this.minDate&&this.calendar.jquidatepicker.datepicker("option","minDate",this.minDate),this.maxDate&&this.calendar.jquidatepicker.datepicker("option","maxDate",this.maxDate)):window.console.log("ChoixDateCalendar - Error - Calendar does'n exist")},i.prototype.selectDay=function(t){var e=r.datepicker.parseDate(l,t);this.minDate&&e?e>=this.minDate&&e<=this.maxDate?(this.input.val(t),this.btnSubmit&&this.btnSubmit.prop("disabled",!1),this.textDate?(this.textDate.parent().removeClass("has-error"),this.textDate.removeClass("error form-control-feedback").html(r.datepicker.formatDate(c,e,{dayNames:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],monthNames:d}))):window.console.log("ChoixDateCalendar - Error - Not textDate wrapper found")):(window.console.log("ChoixDateCalendar - Error - Current date is not available"),this.textDate.parent().addClass("has-error"),this.textDate.addClass("error form-control-feedback").html(App.datepicker.errorNotAllowed),this.input.val(""),this.btnSubmit&&this.btnSubmit.prop("disabled",!0)):window.console.log("ChoixDateCalendar - Error - currentDate or this.minDate doesn't exist")},e.exports=i,o.each(function(){new i(r(this),null,null)})},{"../../components":24}],44:[function(t,e,n){"use strict";function i(t){return this.$calendar=a(t.calendar),this.$wrapper=a(t.wrapper),this.$infolayer=a(t.layer),this.$infolayerContent=a(t.layerContent),this.$infolayerImage=a(t.layerImage),this.$calendar.length&&this.$wrapper.length?(r.bindAll(this,"initialize","render","setupCalendar","fixCalendarAccessibility","bindEvents","handleBeforeShowDay","handleOnSelect","handleOnChangeMonthYear","showLegend","openInfoLayer","closeInfoLayer","getRemoteData","storeRemoteData","parseEntryObject","getCalendarCellByText","parseDateString"),this.initialize(),void this.getRemoteData().done(this.render)):!1}var a=t("jquery"),r=t("lodash"),s=t("../ui/loader"),o=window.App.i18n.datepicker,l=new Date;i.prototype.initialize=function(){l="01-"+(l.getMonth()+1)+"-"+l.getFullYear(),this.database={},this.lastCalendarCellTextInFocus="",this.maximumDate=this.$calendar.data("date-max")||null,this.minimumDate=this.$calendar.data("date-min")||l,this.activeMonth=this.$calendar.data("active-month")||null,this.dates={available:this.$calendar.data("dates-available")||[],suspended:this.$calendar.data("dates-suspended")||[],uninsured:this.$calendar.data("dates-uninsured")||[]}},i.prototype.render=function(){this.setupCalendar(),this.bindEvents()},i.prototype.setupCalendar=function(){this.$calendar.datepicker({firstDay:1,defaultDate:this.activeMonth,minDate:l,maxDate:this.maximumDate,monthNames:o.months,dayNamesMin:o.days,dayNames:o.days,nextText:o.nextText,prevText:o.prevText,showOtherMonths:!1,selectOtherMonths:!1,hideIfNoPrevNext:!0,dateFormat:"dd-mm-yy",beforeShowDay:this.handleBeforeShowDay,onSelect:this.handleOnSelect,onChangeMonthYear:this.handleOnChangeMonthYear}),this.$calendar.datepicker("setDate",null),this.fixCalendarAccessibility()},i.prototype.bindEvents=function(){this.$infolayer.find(".close").on("click",this.closeInfoLayer)},i.prototype.openInfoLayer=function(t,e,n){var i=function(){this.$infolayer.find(".close").focus()};this.lastCalendarCellTextInFocus=e,this.$infolayerContent.html(t),this.$infolayerImage.html(n),this.$infolayer.fadeIn(200,r.bind(i,this))},i.prototype.closeInfoLayer=function(){this.$infolayer.hide(),this.getCalendarCellByText(this.lastCalendarCellTextInFocus).focus(),this.fixCalendarAccessibility()},i.prototype.handleBeforeShowDay=function(t){var e=[],n=this.parseDateString(t);for(var i in this.dates)a.inArray(n,this.dates[i])>=0&&e.push(i);return[!0,e.join(" ")]},i.prototype.handleOnSelect=function(t,e){var n=this.database[t]||{id:null};null!==n.id&&this.openInfoLayer(this.parseEntryObject(n),t,this.parseImageObject(n))},i.prototype.handleOnChangeMonthYear=function(t,e,n){this.getRemoteData(e,t).then(r.bind(this.fixCalendarAccessibility,this))},i.prototype.getRemoteData=function(t,e){s.showLoader(this.$wrapper,!0);var n=this.activeMonth.split("-");return a.ajax({url:App.WS.vsmpCalendarData,data:{month:"undefined"!=typeof t?t:n[1],year:"undefined"!=typeof e?e:n[2]}}).then(this.storeRemoteData)},i.prototype.storeRemoteData=function(t){this.database=r.extend(this.database,t),s.hideLoader(this.showLegend)},i.prototype.showLegend=function(){this.$wrapper.addClass("loaded")},i.prototype.fixCalendarAccessibility=function(){this.$calendar.find("td:not(.available) a").removeAttr("href"),this.$calendar.find("a.ui-datepicker-prev, a.ui-datepicker-next").attr("href","javascript:void(0);")},i.prototype.getCalendarCellByText=function(t){var e=t.split("-"),n=parseInt(e[0],10),i=parseInt(e[1],10)-1,r=e[2];return a("td.available",this.$calendar).filter(function(){return a(this).attr("data-month")===i.toString()}).filter(function(){return a(this).attr("data-year")===r.toString()}).filter(function(){return a(this).find("a").text()===n.toString()}).find("a")},i.prototype.parseEntryObject=function(t){var e=[];return e.push('<h3 class="h3 space-mbl">'+t.title+"</h3>"),e.push('<p class="space-mbm">'),e.push("<strong>"+t.time.label+"</strong> "),
e.push(t.time.text),e.push("</p>"),e.push('<p class="space-mbm">'),e.push("<strong>"+t.status.label+"</strong> "),e.push(t.status.text),e.push("</p>"),e.push('<p class="space-mbm">'),e.push("<strong>"+t.info.label+"</strong> "),e.push(t.info.text),e.push("</p>"),e.join("")},i.prototype.parseImageObject=function(t){return'<img src="'+t.icon+'" />'},i.prototype.parseDateString=function(t){var e=new Date(t),n=[e.getDate(),e.getMonth()+1,e.getFullYear()];return[(n[0]<10?"0":"")+n[0],(n[1]<10?"0":"")+n[1],n[2]].join("-")},a(function(){window.vsmp=new i({calendar:".vsmp-calendar",wrapper:".vsmp-calendar--wrapper",layer:".vsmp-calendar--infolayer",layerContent:".vsmp-calendar--infolayer-content",layerImage:".vsmp-calendar--infolayer-image"})})},{"../ui/loader":129,lodash:166}],45:[function(t,e,n){"use strict";function i(){var t;a=this,s&&s.each(function(){t=a.formatInformation(r(this).data("event-information")),a.getLinks(r(this),t)})}var a,r=t("jquery"),s=r(".calendar-event");i.prototype.formatDate=function(t){return t.toISOString().replace(/-|:|\.\d+/g,"")},i.prototype.formatInformation=function(t){return t.start=this.formatDate(new Date(t.start)),t.end=this.formatDate(new Date(t.end)),t},i.prototype.getLinks=function(t,e){var n;t.children("a").each(function(){e&&(r(this).hasClass("gcalendar-link")&&(n=a.googleCalendarLink(e)),r(this).hasClass("ics-link")&&(n=a.icsLink(e)),r(this).attr("href",n))})},i.prototype.icsLink=function(t){var e=encodeURI("data:text/calendar;charset=utf8,"+["BEGIN:VCALENDAR","VERSION:2.0","BEGIN:VEVENT","URL:"+document.URL,"DTSTART:"+(t.start||""),"DTEND:"+(t.end||""),"SUMMARY:"+(t.title||""),"DESCRIPTION:"+(t.description||""),"LOCATION:"+(t.address||""),"END:VEVENT","END:VCALENDAR"].join("\n"));return e},i.prototype.googleCalendarLink=function(t){var e=encodeURI(["https://www.google.com/calendar/render","?action=TEMPLATE","&text="+(t.title||""),"&dates="+(t.start||""),"/"+(t.end||""),"&details="+(t.description||""),"&location="+(t.address||"")].join(""));return e},e.exports=i,new i},{}],46:[function(t,e,n){"use strict";function i(t){a=this,this.favcheck="undefined"!=typeof t?t:!0,this.favManager=new s("disconnected",this.favcheck,this),this.showDisconnect();try{this.hasToCheck()&&this.init()}catch(e){this.showDisconnect()}this.checkCCUcookie()}var a,r=t("jquery"),s=(t("lodash"),t("../features/favourites")),o=t("../features/login-countdown");i.prototype.checkCCUcookie=function(){var t=r.cookie(App.cookies.login);"professionnel"===App.config.currentSpace&&(t=r.cookie(App.cookies.loginPro)),t&&("string"==typeof t&&(t=JSON.parse(t)),t.ccu_id&&window.tc_vars&&(window.tc_vars.ccu_id=t.ccu_id))},i.prototype.hasToCheck=function(){return"undefined"!=typeof App.config.isCheckConnexionActivated&&App.config.isCheckConnexionActivated},i.prototype.init=function(){if("undefined"!=typeof App.cookies){var t=r.cookie(App.cookies.login);if("professionnel"===App.config.currentSpace&&(t=r.cookie(App.cookies.loginPro)),t){var e=r.parseJSON(t);this.jsonCheckConnexionCallback(e)}else this.wsCheck()}},i.prototype.wsCheck=function(){var t=this;t.jsonCheckConnexionCallback(),r.ajax({url:App.WS.urlCheckConnection,dataType:"jsonp",crossOrigin:!0,crossDomain:!0,success:function(e){e.redirect_url?window.location.href=e.redirect_url:t.jsonCheckConnexionCallback(e)}})},i.prototype.showNavElements=function(){},i.prototype.showTemplateMetaNav=function(t,e){r("#check-connection ul").empty(),r("#check-connection ul").append(t),r("#check-connection").addClass(e)},i.prototype.showTemplateTools=function(t,e){r(".tools-ve").empty(),r(".tools-ve").append(t),r(".tools-ve").addClass(e)},i.prototype.showConnect=function(t){var e="";"undefined"!=typeof t.name&&(e+=t.name),"undefined"!=typeof t.lastname&&(e+=" "+t.lastname),r(".connected-name").html(e),r(".connected-name").attr("data-original-text",e),this.updateTemplate("#check-connection",".connected-name",".disconnected-name"),this.templateConnected(),r("#check-connection").addClass("connected"),r(".recast-pro.connected").length&&this.updateTemplate(".recast-pro.connected",".tool-connected",".tool-disconnected"),r(".recast-part.connected").length&&this.updateTemplate(".recast-part.connected",".tool-connected",".tool-disconnected"),this.favManager.updateStatus("connected"),new o,this.updateNotifications(),r("#footer .user-navigation").show()},i.prototype.updateTemplate=function(t,e,n){r(t).find(e).show(),r(t).find(n).hide()},i.prototype.showDisconnect=function(){this.updateTemplate("#check-connection",".disconnected-name",".connected-name"),r(".recast-pro").length&&this.updateTemplate(".recast-pro",".tool-disconnected",".tool-connected"),r(".recast-part").length&&this.updateTemplate(".recast-part",".tool-disconnected",".tool-connected"),this.templateDisconnected(),r("#check-connection").hasClass("connected")&&r("#check-connection").removeClass("connected"),this.favManager.updateStatus("disconnected"),r("#footer .user-navigation").hide()},i.prototype.templateConnected=function(t){this.showNavElements(),r(".fav-start").addClass("disabled"),r("body").addClass("connected"),r(".btn-header__action__votrecompte").removeClass("disconnected")},i.prototype.templateDisconnected=function(){this.showNavElements(),r(".fav-start").removeClass("disabled"),r("body").removeClass("connected"),r(".btn-header__action__votrecompte").removeClass("connected")},i.prototype.updateNotifications=function(){var t=0;"undefined"!=typeof App.cookies.notificationNumber&&r.cookie(App.cookies.notificationNumber)?t=r.cookie(App.cookies.notificationNumber):window.console.log("notification cookie error");var e='<span id="notificationNumber" data-notification class="badge-notifications badge badge-primary badge--small"><p>'+t+"</p></span>";t>0?(r(".btn-header__action__votrecompte").append(e),r("[data-notification]").show()):r("[data-notification]").hide(),r("[data-notification]").each(function(e,n){r(this).html(t)})},i.prototype.jsonCheckConnexionCallback=function(t){var e=!1,n=null;t&&(t.connected&&(e=t.connected),t.name&&(n=t.name)),e="boolean"==typeof e?e:!1,"undefined"!=typeof n&&n||(n=null,e=!1),e?this.showConnect(t):this.showDisconnect(),this.checkCCUcookie()},e.exports=i,App.referencedObjects=App.referencedObjects||{},App.referencedObjects.checkConnection=new i},{"../features/favourites":62,"../features/login-countdown":74,lodash:166}],47:[function(t,e,n){"use strict";var i=t("jquery");i(document).on("click","#upload-confirmation [data-submit]",function(){i(".validate-ccu-upload").closest("form").submit()}),i(document).on("click",".validate-ccu-upload",function(t){var e=i("input[type=file]"),n=e.filter('[data-file="1"]')[0],a=e.filter('[data-file="2"]')[0];return!(n&&n.files&&n.files.length&&a)||a.files&&a.files.length?void 0:(i("#upload-confirmation").modal(),!1)})},{}],48:[function(t,e,n){"use strict";var i=t("jquery"),a=t("lodash"),r=(t("velocity-animate"),t("../ui/loader")),s=t("../templates/form-feedback.jade"),o=function(t){a.bindAll(this,"_handleServerError","_handleSuccess","_handleSubmit"),this.$form=t,this.$form.on("submit",this._handleSubmit),this.$form.target=i("[data-checkaddress]"),this.setValidation};if(o.prototype._handleSubmit=function(t){"undefined"!=typeof this.setValidation&&this.setValidation||(t.preventDefault(),this._handleChange())},o.prototype._handleChange=function(){var t;this.$form.target.each(function(){"undefined"==typeof t&&(t=""!==i(this).val()?!0:!1),t=""!==i(this).val()?t&&!0:t&&!1}),t?this.fetch():(t=!1,this.$form.find(".warning .error").hide(),this.$form.find(".warning .has-error").removeClass("has-error"))},o.prototype.fetch=function(){var t=App.WS.checkaddress,e={};i("input, select",this.$form).each(function(){console.log(i(this).attr("id")),e[i(this).attr("id")]=i(this).val()?i(this).val().toUpperCase():i(this).val()}),r.showLoader(),i.ajax({data:e,type:"POST",url:t}).fail(this._handleServerError).done(this._handleSuccess)},o.prototype._handleSuccess=function(t){this.setValidation=t.valid,r.hideLoader(),t.valid?this.$form.submit():this.renderFormContent(t)},o.prototype._handleServerError=function(t){r.hideLoader(),window.console.error(App.i18n.errors.tryLater)},o.prototype.renderError=function(t){if(t.error_orange)for(var e=0;e<t.error_orange.length;e++)i("#"+t.error_orange[e]).parents(".form-group").addClass("has-error");if(t.error_rouge)for(var n=0;n<t.error_rouge.length;n++)i("#"+t.error_rouge[n]).parents(".form-group").addClass("has-error");this.writeErrorMessage(t)},o.prototype.writeErrorMessage=function(t){var e,n,r,o=!navigator.userAgent.match(/Version\/[\d\.]+.*Safari/);for(var l in t.panelError)r=i("#"+l),e=t.panelError[l],n=a.template(s(),{fieldMessage:e,fieldId:l}),"SELECT"===r[0].nodeName?r.parents(".select").next().hasClass("form-control-feedback")?(r.parents(".select").next(".form-control-feedback").text(e).show(),o&&r.parents(".select").velocity("callout.shake")):r.parents(".select").after(n):r.next().hasClass("form-control-feedback")?(r.next(".form-control-feedback").text(e).show(),o&&r.velocity("callout.shake")):(r.after(n),o&&r.velocity("callout.shake"))},o.prototype.renderFormContent=function(t){for(var e in t.data)i(e).removeAttr("disabled"),i("#"+e).val(t.data[e]);(t.error_orange||t.error_rouge)&&this.renderError(t)},i("#js-form-checkaddress").length){new o(i("#js-form-checkaddress"))}e.exports=o},{"../templates/form-feedback.jade":126,"../ui/loader":129,lodash:166,"velocity-animate":173}],49:[function(t,e,n){"use strict";function i(t){this.$element=a(t),this.setValues(this.$element),this.$form=this.$element.parents("form"),this.currentPostCode;var e=this;this.$element.on("blur",function(t){e.handleChange(this)})}var a=t("jquery"),r=t("lodash"),s=(t("velocity-animate"),t("../ui/loader"));t("velocity-animate/velocity.ui");var o=t("../templates/checkaddress-city.jade"),l="[data-zipcode]",c="[data-zipcode-target]",u=!navigator.userAgent.match(/Version\/[\d\.]+.*Safari/);i.prototype={constructor:i,handleChange:function(t){var e=this;e.setValues(t)}},i.prototype.setButton=function(t){var e=this.$form.find('button[type="submit"]')[0];t?a(e).attr("disabled","disabled"):a(e).removeAttr("disabled")},i.prototype.setValues=function(t){var e=a(t).val();""!==e?(a(c).val("").attr("disabled","disabled").find("option").remove(),this.performQuery(e)):a(c).val("").attr("disabled","disabled").find("option").remove()},i.prototype.performQuery=function(t){var e=App.WS.zipcode+"/"+t,n="ajax_request = 1";s.showLoader(),setTimeout(function(){s.hideLoader()},App.timeout.connectionLoader),a.ajax({type:"POST",data:n,url:e}).done(this._handleSuccess).fail(this._handleServerError)},i.prototype.handleError=function(t){var e=a(c).parents(".form-group");e.hasClass("has-error")||0!==e.find(".form-control-feedback").length?e.find("form-control-feedback").show():(e.addClass("has-error"),u&&a(c).parents(".select").after('<label class="form-control-feedback error">'+t.message+"</label>").velocity("callout.shake"))},i.prototype._handleSuccess=function(t){if(t.valid){for(var e="",n=0;n<t.villes.length;n++)e+=r.template(o(),{ville:t.villes[n],value:t.villes[n]});a(c).html(e).removeAttr("disabled").parents(".form-group").removeClass("has-error").parents(".select").find("form-control-feedback").remove()}else{var i=a(c).parents(".form-group");i.hasClass("has-error")||0!==i.find(".form-control-feedback").length?i.find("form-control-feedback").show():(i.addClass("has-error"),u&&a(c).parents(".select").after('<label class="form-control-feedback error">'+t.message+"</label>").velocity("callout.shake"))}s.hideLoader()},i.prototype._handleServerError=function(){s.hideLoader(),window.console.error(App.i18n.errors.tryLater)},a.fn.addressZipCodeChecker=function(t){return this.each(function(){new i(this)})},a(l).addressZipCodeChecker(),e.exports=i},{"../templates/checkaddress-city.jade":112,"../ui/loader":129,lodash:166,"velocity-animate":173,"velocity-animate/velocity.ui":174}],50:[function(t,e,n){"use strict";function i(t,e){e>t?(s(o).find('input[type="checkbox"]').removeAttr("disabled"),d.find(u).attr("disabled","disabled")):t===e&&(s(o).find('input[type="checkbox"]').not(":checked").attr("disabled","disabled"),d.find(u).removeAttr("disabled"))}function a(){p=[],s('input[type="checkbox"]:checked').each(function(){p.push(s(this).siblings("label").text())})}function r(t){s(".modal").find("[data-dayslist]").html("");for(var e=0;e<t.length;e++)s(".modal").find("[data-dayslist]").append("<li>"+t[e]+"</li>")}var s=t("jquery"),o="[data-validate-n-checkboxes]",l=s(o).data("validate-n-checkboxes"),c=0,u="[data-submit]",d=s(o).parents("form"),p=[];s(function(){s(o).each(function(){c=s(this).find('input[type="checkbox"]:checked').length,i(c,l)}),s(o).find('input[type="checkbox"]').on("click",function(){c=s(this).parents(o).find('input[type="checkbox"]:checked').length,i(c,l)}),s(u).on("click",function(){a(),r(p)})})},{}],51:[function(t,e,n){"use strict";function i(){this.bindEvents()}var a=t("jquery"),r=".collapse-btn",s=".toggle-btn";i.prototype.toggleBtn=function(t,e,n){var i=t.siblings(s),r=i.find('[data-toggle="collapse"] > span'),o=i.find(".notifications");a(r).toggleClass("icon-arrow-up icon-arrow-down").html(e),a(o).toggleClass("hide")},i.prototype.bindEvents=function(){var t=this;a(r).on("show.bs.collapse",function(){t.toggleBtn(a(this),a(this).data("hide-collapse")?a(this).data("hide-collapse"):App.i18n.buttons.hideCollapsed)}),a(r).on("hide.bs.collapse",function(){t.toggleBtn(a(this),a(this).data("show-collapse")?a(this).data("show-collapse"):App.i18n.buttons.showCollapsed)})},new i},{}],52:[function(t,e,n){"use strict";function i(){this.cookieName="cookiesAlert",this.updateDate(),this.getOptions(),this.readLocalValue()}var a,r,s=t("jquery"),o=["adverline","MGC"];i.prototype.updateDate=function(){a=new Date;var t=new Date;r=new Date(t.setMonth(t.getMonth()+13)),r.setDate(Math.min(a.getDate(),r.getDate()))},i.prototype.writeLocalValue=function(){this.updateDate();var t={laPoste:r.getTime(),MGC:"on",adverline:"on"},e=JSON.stringify(t);try{localStorage.setItem(this.cookieName,e)}catch(n){}},i.prototype.focusoutCookiepop=function(){var t=Modernizr.touch,e=t?"touchend":"click focusout";s("#app").on(e,function(t){t=t||window.event;var e=t.target||t.srcElement;s(e).is("#cookies a")||s("#cookies").toggle("slow").remove()})},i.prototype.readLocalValue=function(){var t,e=localStorage.getItem(this.cookieName),n=JSON.parse(e);n?a.getTime()>n.laPoste&&(localStorage.clear(),s("#cookies").addClass("in"),this.writeLocalValue()):(this.writeLocalValue(),s("#cookies").addClass("in"),this.focusoutCookiepop()),s("[data-cookies-options]").each(function(){for(var e in n)t=e+"-"+n[e],s("#"+t).prop("checked",!0)})},i.prototype.getOptions=function(){var t=this;s("[data-cookies-options]").on("click",function(e){var n=s(this).val(),i=s(this).attr("name");t.setOptions({parterner:i,option:n})})},i.prototype.setOptions=function(t){this.clearLocalStorage(),this.doPixel(t),this.updateLocalStorage(t)},i.prototype.appendImage=function(t,e){var n=document.createElement("img");n.setAttribute("style","display:none; width: 0px; height: 0px;"),n.setAttribute("src",t),n.setAttribute("class",e),s("."+e).remove(),document.body.appendChild(n)},i.prototype.doPixel=function(t){var e=this;s.each(o,function(n,i){e.appendImage(App.WS[i+t.option],i+"-img")})},i.prototype.updateLocalStorage=function(t){var e=JSON.parse(localStorage.getItem(this.cookieName));for(var n in e)n===t.parterner&&(e[n]=t.option);var i=JSON.stringify(e);try{localStorage.setItem(this.cookieName,i),this.showSuccessMessage(t.parterner),this.readLocalValue()}catch(a){}},i.prototype.showSuccessMessage=function(t){this.showUpdateMessage(App.WS.cookiesMessage,"alert-success",t)},i.prototype.showErrorMessage=function(t){this.showUpdateMessage(App.WS.cookiesMessageFail,"alert-warning",t)},i.prototype.showUpdateMessage=function(t,e,n){var i='<div class="alert '+e+'"><p>'+t+"</p></div>",a=s("[name="+n+"]").parents(".checkbox-group");a.find(".alert").length&&!a.find(".alert."+e).length&&(a.children(".alert."+e).fadeTo("fast",0),a.children(".alert").remove()),a.find(".alert."+e).length||(a.append(i),a.children(".alert."+e).hide().fadeTo("fast",1))},i.prototype.clearLocalStorage=function(){this.writeLocalValue()},new i},{}],53:[function(t,e,n){"use strict";function i(){}var a=t("jquery"),r=(t("../ui/loader"),"[data-custom-errmsg]"),s=a(r).find(".custom-errmsg-elm input");i.prototype.bindEvents=function(){a(r).find('button[type="submit"]').on("click",function(t){s.is(":checked")||(a(r).addClass("has-error"),t.preventDefault())}),s.on("click",function(){a(r).removeClass("has-error")})},e.exports=i},{"../ui/loader":129}],54:[function(t,e,n){"use strict";var i=t("jquery"),a=t("lodash"),r=t("../templates/ccu-dashboard-rb-success.jade"),s="#questions-dashboard",o=function(){this.bindEvents()};if(o.prototype.bindEvents=function(){var t,e;i(s).on("click",'input[type="radio"]',function(){t=i('input[type="radio"][name="labanquepostale"]:checked'),e=i('input[type="radio"][name="lapostemobile"]:checked'),t.length>0&&e.length>0&&i.ajax({url:App.WS.urlDashRB,type:"POST",data:{q1:t.val(),q2:e.val()}}).success(function(){var t=a.template(r()),e=i(s).data("crm-answered-close-timeout");i(s).children(".row").remove(),i(s).append(t),setTimeout(function(){i(s).collapse("hide")},e)}).fail(function(){})})},i(s).length){new o}e.exports=o},{"../templates/ccu-dashboard-rb-success.jade":111,lodash:166}],55:[function(t,e,n){"use strict";function i(t){var e;switch(a.fn.bootstrapDP.dates.fr={days:App.i18n.datepicker.days,daysShort:App.i18n.datepicker.daysShort,daysMin:App.i18n.datepicker.daysMin,months:App.i18n.datepicker.months,monthsShort:App.i18n.datepicker.monthsShort,today:App.i18n.datepicker.today,clear:App.i18n.datepicker.clear,format:App.i18n.datepicker.format,weekStart:App.i18n.datepicker.weekStart},e={language:"fr",format:"dd/mm/yyyy",todayBtn:"linked",calendarWeeks:!0,autoclose:!0,todayHighlight:!0},!0){case a(t).hasClass("simple-date"):case a(t).hasClass("end-range-date"):a.extend(e,{endDate:"0d"});break;case a(t).hasClass("start-range-date"):a.extend(e,{endDate:"-1d"})}a(t).bootstrapDP(e).on("changeDate",function(e){var n=new Date(e.date);a(t).hasClass("start-range-date")?(n.setDate(n.getDate()+1),a(t).closest("fieldset").find(".end-range-date").bootstrapDP("setStartDate",n)):a(t).hasClass("end-range-date")&&(n.setDate(n.getDate()-1),a(t).closest("fieldset").find(".start-range-date").bootstrapDP("setEndDate",n))})}var a=t("jquery");t("bootstrap.datepicker");var r="[data-datepicker]",s=a.fn.datepicker.noConflict();a.fn.bootstrapDP=s,a(r).each(function(t,e){new i(e)}),e.exports=i},{"bootstrap.datepicker":1}],56:[function(t,e,n){"use strict";function i(){this.readyHandler()}var a=t("jquery"),r="[data-link-counter]";i.prototype.readyHandler=function(){a(r).each(function(){var t=a(this).attr("data-link-counter");a.ajax(t)})},new i,e.exports=i},{}],57:[function(t,e,n){"use strict";var i=t("jquery"),a="[data-xtra-info]",r=function(t){var e=i(t.currentTarget),n=e.closest(e.attr("data-xtra-info"));n.length||(n=e.closest("fieldset").find(e.attr("data-xtra-info"))),n.toggleClass("hidden")};i(function(){i(a).on("change",r)})},{}],58:[function(t,e,n){"use strict";function i(){var t=this;t.init(),t.fetchCountriesData().done(t.handleFetchCountriesDataSuccess.bind(t)),t.bindEvents()}var a=t("jquery"),r=t("jquery"),s=(t("../ui/loader"),t("lodash"),t("velocity-animate")),o="[data-select-autocomplete]",l="[data-select-direct]",c="[data-select-destination]",u=a("form[data-search-country]").find('button[type="submit"]').attr("title"),d="[data-backtop]";t("velocity-animate/velocity.ui"),t("jquery.select2");var p="",h="",f="",g=App.i18n.forms.selectCountry||"";i.prototype.init=function(){this.autocompleteInit()};var m=r.fn.select2.amd.require("select2/dropdown/search");m.prototype.render=function(t){var e=t.call(this),n=a('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="off" placeholder="'+g+'" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=n,this.$search=n.find("input"),e.prepend(n),e};var v=r.fn.select2.amd.require("select2/dropdown/attachBody");v.prototype._resizeDropdown=function(){this.$dropdownContainer.width();var t=this.$container.outerWidth(!1),e=g.width(getComputedStyle(this.$container[0]).font)+25,n={};n=g.length>0&&e>t?{width:e+"px",marginLeft:-1*(e-t)/2}:{width:t+"px"},this.options.get("dropdownAutoWidth")&&(n.minWidth=n.width,n.width="auto"),this.$dropdown.css(n)},i.prototype.autocompleteInit=function(){a(o).select2({placeholder:g,language:{noResults:function(){return App.i18n.errors.calculatorNoResult}}})},i.prototype.fetchCountriesData=function(){if(a(c).length){a(c).data("json-url")}if(a(o).length){a(o).data("json-url")}return a.getJSON(App.urls.listCountries).promise()},i.prototype.handleFetchCountriesDataSuccess=function(t){this.countries=t,this.bindEvents()},i.prototype.bindEvents=function(){var t=this;a(".collapse").on("shown.bs.collapse",function(){t.autocompleteInit()}),a(document).ajaxComplete(function(){t.autocompleteInit()});var e=a(o);a(o).on("change",function(){var t=a(this).parents("form[data-search-country]"),e=this;a(e).find(":selected").text()!==a(e).find("option:eq(0)").text()?(t.find('button[type="submit"]').attr("title",u+" "+a(e).find(":selected").text()),t.removeClass("has-error")):t.find('button[type="submit"]').attr("title",u),t.find("p.error").remove()}),a(".select-wp select").on("change",function(){var t=a(this).parents("form[data-search-country]"),e=this;""!==a(e).find(":selected").text()?(a(e).attr("selected"),t.find('button[type="submit"]').attr("title",u+" "+a(e).find(":selected").text()),t.find(".select-wp").parents(".form-group").removeClass("has-error")):t.find('button[type="submit"]').attr("title",u),t.find("p.error").remove()}),e.on("select2:select",function(e){var n=a(this).parents("form[data-search-country]");n.find("[data-lower-than-value]").attr("class");h=e.params.data.id,f=n.attr("data-nature"),p=parseInt(t.countries[h][f],10),n.find("[data-lower-than-value]").attr("data-lower-than-value",p+1).attr("class","form-control space-mln validate-isEmpty validate-isInteger validate-lower-than-"+p)}),a(l).on("change",function(){var t=a(this).val();a("html, body").animate({scrollTop:a(t).offset().top},600)}),a(d).on("click",function(t){t.preventDefault();var e=a(this).attr("href");a("html, body").animate({scrollTop:a(e).offset().top},600)}),a("form[data-search-country]").each(function(){this.reset()}),a(document).ajaxComplete(function(){a("form[data-search-country]").find('button[type="submit"]').on("click",function(t){var e=a(this).parents("form[data-search-country]"),n=e.find("select").data("errmsg");return""===e.find(":selected").val()?(""!==e.find(".select2-selection__placeholder").text()?0===e.find(".select2").siblings("p.error").length?(e.find(".select2").after('<p class="error form-control-feedback">'+n+"</p>"),e.find(".select2").parents(".form-group").addClass("has-error"),s.animate([e.find(".has-error .form-control-feedback"),e.find(".has-error .form-control-feedback").siblings("span.select2")],"callout.shake")):s.animate([e.find(".has-error .form-control-feedback"),e.find(".has-error .form-control-feedback").siblings("span.select2")],"callout.shake"):0===e.find(".select-wp").siblings("p.error").length?(e.find(".select-wp").after('<p class="error form-control-feedback">'+n+"</p>"),e.find(".select-wp").parents(".form-group").addClass("has-error"),s.animate([e.find(".has-error .form-control-feedback"),e.find(".has-error .form-control-feedback").siblings("span.select")],"callout.shake")):(e.find(".select-wp").parents(".form-group").addClass("has-error"),e.find(".select").siblings("p.error").fadeIn(),s.animate([e.find(".has-error .form-control-feedback"),e.find(".has-error .form-control-feedback").siblings("span.select")],"callout.shake")),!1):void 0})})},e.exports=i,new i},{"../ui/loader":129,"jquery.select2":9,lodash:166,"velocity-animate":173,"velocity-animate/velocity.ui":174}],59:[function(t,e,n){"use strict";var i=t("jquery"),a=(t("lodash"),t("velocity-animate"),function(t){this.$form=t;var e=t.find('[data-pc-type="data-pc-type"]'),n=t.find("[data-toggle]").attr("href");n&&i(e).on("change",function(){"office"===i(this).val()?t.find("[data-toggle]").attr("data-toggle","collapse").attr("href",n).parent().removeClass("disabled"):(t.find(".collapse").is(".in")?(t.find("[data-toggle]").trigger("click"),t.find("[data-toggle]").attr("data-toggle","disabled").removeAttr("href").parent().addClass("disabled")):t.find("[data-toggle]").attr("data-toggle","disabled").removeAttr("href").parent().addClass("disabled"),t.find("input:checkbox").each(function(){i(this).filter(":checkbox").is(":checked")&&i(this).siblings("label").trigger("click")}),t.find("[data-toggle]").attr("data-toggle","disabled").removeAttr("href").parent().addClass("disabled"))})});if(i("#js-form-find-bp-header").length)var a=new a(i("#js-form-find-bp-header"));e.exports=a},{lodash:166,"velocity-animate":173}],60:[function(t,e,n){"use strict";function i(){r.bindAll(this,"init","handle"),this.$trigger=a(s),this.$target=a(o),this.init()}var a=t("jquery"),r=t("lodash"),s="input[data-dynamic-city-trigger]",o="[data-dynamic-city-target]";i.prototype.init=function(){if(this.$target.length&&this.$trigger.length){var t="input",e=r.throttle(this.handle,300);this.$trigger.on(t,e).trigger(t)}},i.prototype.handle=function(t){var e=this.$trigger.val();new RegExp(this.$trigger.attr("pattern")).test(e)&&(this.$trigger.closest(".has-error").length||(a("p.ws-error").text("").hide(),a.ajax({url:App.WS.rbal.recupererVilles+e,dataType:"json",success:this.updateCitySelect.bind(this)})))},i.prototype.updateCitySelect=function(t){var e=this.$target.find("select"),n=e.val();e.empty();for(var i=0;i<t.length;i++)e.append("<option "+(t[i]===n?"selected":"")+' value="'+t[i]+'">'+t[i]+"</option>");e.trigger("change.ajax")},e.exports=new i},{lodash:166}],61:[function(t,e,n){var i=t("jquery");i(function(){var t=i("input[data-compare-input]"),e=t.closest("form"),n=i(".modal[data-check-popin]"),a=n.find("[data-submit]");t.length&&(a.on("click",function(){e.submit()}),e.find('button[type="submit"]').on("click",function(r){e.valid()&&t.each(function(){i(this).attr("data-compare-input")!==i(this).val()&&(r.preventDefault(),n.modal(),a.focus())})}))})},{}],62:[function(t,e,n){"use strict";function i(e,n,i){this.init(),this.ConnectionManager=i?i:null;t("../utils/strings-operations");this.updateStatus(e),n&&this.bindEvents()}var a=t("jquery"),r=(t("lodash"),t("../plugins/cookies-manager")),s=t("../utils/helpers"),o=t("../utils/strings-operations"),l="a.header-fav, .toggle-fav";t("../templates/fav-tile.jade"),t("../templates/fav-tile-layer.jade");i.prototype.updateStatus=function(t){this.status=t,"connected"===t?this.handleFetchFavouritesDataSuccess(this):this.iniStars()},i.prototype.init=function(){this.cookieManager={},this.cookies={},this.cookieManager[App.cookies.favFindBp]=new r(App.cookies.favFindBp),this.cookies[App.cookies.favFindBp]=this.cookieManager[App.cookies.favFindBp].stack||[],this.cookieManager[App.cookies.favGeneral]=new r(App.cookies.favGeneral),this.cookies[App.cookies.favGeneral]=this.cookieManager[App.cookies.favGeneral].stack||[],this.updateFavsContainers()},i.prototype.updateFavContainer=function(t){t.find(".toggle-fav").length||t.find(".nofavoris-message").length||t.children(".container-fluid").append('<p class="text-emphasis nofavoris-message">'+App.text.nofavourites+"</p>")},i.prototype.updateStatus=function(t){this.status=t,"connected"===t?this.handleFetchFavouritesDataSuccess(this):this.iniStars()},i.prototype.updateFavsContainers=function(){var t=this;a("body").find(".favoris").length&&a(".fav-container").each(function(){t.updateFavContainer(a(this))})},i.prototype.handleFetchFavouritesDataSuccess=function(t){this.favourites=t,this.updateStars()},i.prototype.bindEvents=function(){var t=this;a(document.body).on("click",l,function(e){e.preventDefault(),"connected"===t.status?t.starClickHandler(e):t.startLogin(a(e.target))})},i.prototype.startLogin=function(t){a("#modal-connection").modal()},i.prototype.startSessionExpiredLogin=function(){a("#modal-expire-session").modal()},i.prototype.updateCookies=function(){this.cookies[App.cookies.favGeneral]=this.cookieManager[App.cookies.favGeneral].get(),this.cookies[App.cookies.favFindBp]=this.cookieManager[App.cookies.favFindBp].get()},i.prototype.getType=function(t){t=t.toString(),this.updateCookies();var e=JSON.parse(this.cookies[App.cookies.favFindBp]),n=JSON.parse(this.cookies[App.cookies.favGeneral]),i=!1,r=!1;return e&&(i=-1!==a.inArray(t,e)),i?App.cookies.favFindBp:(n&&(r=-1!==a.inArray(t,n)),r?App.cookies.favGeneral:!1)},i.prototype.cookieType=function(t){return t.parents(".findBP").length?App.cookies.favFindBp:a("body").find(".favoris").length&&!t.parents(".page-tools").length?this.getType(t.data("favouriteid")):App.cookies.favGeneral},i.prototype.starClickHandler=function(t){t.preventDefault();var e=this,n=a(t.currentTarget),i=n.data("favouriteid"),r=n.data("favouriteurl")?n.data("favouriteurl"):n.attr("href"),l=this.cookieType(n);this.sendTagLabel(n),a.ajax({type:"GET",url:r,dataType:"json",xhrFields:{withCredentials:!0},crossDomain:!0,success:function(){e.updateFavs(i,l);var t={};if(n.closest(".gmaps-popin").length>0&&(t={LABEL:"mon_compte::choisir_vos_preferences_de_livraison::choix_bureau_de_poste::ajouter_aux_favoris",XTCLICK_EVENT:"C",XTCLICK_S2:"15",XTCLICK_TYPE:"A"},s.tracking(n,"CLICK",t)),n.closest(".modal.modal-opened").length>0&&a(".lp-section").hasClass("rocs")&&(t={LABEL:"mon_compte::choisir_vos_preferences_de_livraison::detail_bureau_de_poste::ajouter_aux_favoris",XTCLICK_EVENT:"C",XTCLICK_S2:"15",XTCLICK_TYPE:"A"},s.tracking(n,"CLICK",t)),n.data("tracking-name")&&n.data("tracking-name").toLowerCase()==="ACORES".toLowerCase()){var c="",u=r.substr(r.length-1),d=a(this).data("is-bp");(d&&d.toLowerCase()==="Y".toLowerCase()||u)&&(c="A"===u?"fiches_bureaux":"autres_fiches"),t=n.hasClass("is-favourite")?{label:"outils::"+c+"::ajouter_favoris::"+o.cleanTextForTracking(n.data("office-name")),xtclick_event:"C",xtclick_s2:String(App.config.locator.env),xtclick_type:"A"}:{label:"outils::"+c+"::supprimer_favoris::"+o.cleanTextForTracking(n.data("office-name")),xtclick_event:"C",xtclick_s2:String(App.config.locator.env),xtclick_type:"A"},s.tracking(n,"CLICK",t)}},error:function(t){window.console.log(t.responseText)}})},i.prototype.sendTagLabel=function(t){!t.data("tag-label")||t.data("tracking-name")&&t.data("tracking-name").toLowerCase()==="ACORES".toLowerCase()||s.tracking(t,"CLICK",{label:t.data("tag-label").toLowerCase().replace(/\s+/g,"_").split(".")[0]+(t.hasClass("is-favourite")?"_supprimer":"_ajouter"),xtclick_event:"C",xtclick_s2:String(App.config.locator.env),xtclick_type:"A"})},i.prototype.updateFavs=function(t,e){var n,i=!1;this.updateCookies(),n=JSON.parse(this.cookies[e]),t=t.toString(),n&&(i=-1!==a.inArray(t.toString(),n),this.toggleFav(t,i),!i&&a("body").find(".favoris").length&&(this.removeFromFavoris(t),this.updateFavsContainers()))},i.prototype.removeFromFavoris=function(t){var e=a('[data-favouriteid="'+t+'"]').not(".header-fav").closest(".tile").parent("[class*=col-]");e.remove()},i.prototype.toggleFav=function(t,e){var n,i=a('[data-favouriteid="'+t+'"]'),r="";i.each(function(t){a(this).toggleClass("is-favourite",e),n=a(this).hasClass("is-favourite"),r=n?App.text.favouritesRemove:App.text.favouritesAdd;var i=r;a(this).data("office-name")&&(i=r+" - Bureau de poste "+a(this).data("office-name")),a(this).attr("title",i),a(this).parents(".tile").length||a(this).hasClass("fav-no-text")||a(this).text(r)})},i.prototype.updateStars=function(){var t,e,n,i,r=a("[data-favouriteid]"),s=this;a.each(r,function(r,o){e=a(this).data("favouriteid").toString(),n=s.cookieType(a(this)),n&&(s.updateCookies(),
i=JSON.parse(s.cookies[n]),i&&(t=-1!==a.inArray(e,i),s.toggleFav(e,t)))})},i.prototype.iniStars=function(){var t=this;a.each(a("[data-favouriteid]"),function(e,n){t.toggleFav(a(this).data("favouriteid"),!1)})},e.exports=i},{"../plugins/cookies-manager":100,"../templates/fav-tile-layer.jade":113,"../templates/fav-tile.jade":114,"../utils/helpers":133,"../utils/strings-operations":140,lodash:166}],63:[function(t,e,n){"use strict";var i=t("jquery"),a=t("lodash"),r=(t("velocity-animate"),t("../features/ccu-check-connection")),s=t("../webservices/find-post-office-query"),o=t("../webservices/companies-find-post-office-query"),l=t("../webservices/find-cityssimo-query"),c=t("../webservices/find-merchants-query"),u=t("../ui/map"),d=t("../utils/strings-operations"),p=t("../utils/helpers"),h=t("../templates/find-cityssimo-details.jade"),f=t("../templates/find-post-office-details-list.jade"),g=t("../templates/find-cityssimo-details-pin.jade"),m=t("../templates/find-cityssimo-details-row.jade"),v=function(t){a.bindAll(this,"_activateButton","_handleError","_handleSuccess","_handleSubmit","renderMap","handlePagination","handleTagging"),this.$form=t,t.hasClass("po-form-outside")||this.$form.on("submit",this._handleSubmit),"object"==typeof window.tc_vars&&"function"==typeof window.tc_events_1&&this.$form.find('button[type="submit"]').click(this.handleTagging);var e=t.find('[data-pc-type="data-pc-type"]'),n=t.find("[data-toggle]").attr("href");n&&i(e).on("change",function(){"office"===i(this).val()?t.find("[data-toggle]").attr("data-toggle","collapse").attr("href",n).parent().removeClass("disabled"):(t.find(".collapse").is(".in")?t.find("[data-toggle]").trigger("click").attr("data-toggle","disabled").removeAttr("href").parent().addClass("disabled"):t.find("[data-toggle]").attr("data-toggle","disabled").removeAttr("href").parent().addClass("disabled"),t.find("input:checkbox").each(function(){i(this).filter(":checkbox").is(":checked")&&i(this).siblings("label").trigger("click")}))})};if(v.prototype.NbDisplayedListItems=10,v.prototype.NbPagerItems=7,v.prototype._handleSubmit=function(t){if(t.preventDefault(),!this.$form.find(".has-error").length){i(t.currentTarget).find("[type=submit]").attr("disabled","disabled");var e=[],n=this.$form.find(".collapse-checkboxList input:checkbox");n.each(function(){i(this).is(":checked")&&e.push(i(this).val())});var a=i(t.currentTarget).find("#ipbt-address").val();if(a.length){a.match(/^\d{5}$/)?(this.reset(),this.searchKey="zipcode",this.searchValue=a):a.match(/[\w -]+/)&&(this.reset(),this.searchKey="city",this.searchValue=a);var r,u=i(t.currentTarget).find("#ipbt-type").val(),d=[],p=null;"cityssimo"===u?(r=l,p="espace_cityssimo"):"office"===u?(d={"services[]":e},p="bureau_de_poste",r=s):"companies"===u?r=o:"merchants"===u&&(r=c),new r(this.searchKey,this.searchValue,d).always(this._activateButton).fail(this._handleError).done(this._handleSuccess)}}},v.prototype.handleServices=function(t){var e=[],n=this.$form.find(".collapse-checkboxList input:checkbox");n.each(function(){i(this).is(":checked")&&e.push(i(this).val())}),t=e},v.prototype._activateButton=function(){this.$form.find("[type=submit]").removeAttr("disabled")},v.prototype._handleSuccess=function(t){this.dealers=t,this.render(t)},v.prototype._handleError=function(t){"WSErrorNotFound"===t.name?(this.dealers=t,this.render(t)):window.alert(App.i18n.errors.tryLater)},v.prototype.handleTagging=function(t){var e=i("#ipbt-address").val(),n=i("#ipbt-type").val();switch(n){case"office":n="bureau_de_poste";break;case"cityssimo":n="espace_cityssimo";break;case"companies":n="espaces_entreprises"}var a={label:i(t.currentTarget).data("pagename"),xtclick_event:"F",localisation_ou:d.cleanTextForTracking(e),xtclick_s2:String(App.config.locator.env),xtclick_type:"N",localisation_type_point:n};p.tracking(i("#ipbt-address")[0],"ACORE",a)},v.prototype.reset=function(){this.gmap&&(this.gmap.clearMarkers(),this.gmap.destroy(),this.gmap=void 0),i("#tab-list").find("[data-page]").off("click",this.handlePagination),i("#dealers-search-results").velocity("slideUp",{duration:400})},v.prototype.render=function(t,e){this.dealers.length?(i("#dealers-search-results").html(a.template(h(),{nbResults:this.dealers.length,dealers:this.dealers})).velocity("slideDown",{duration:300}),this.renderList(),this.gmap?(this.gmap.clearMarkers(),this.renderMap()):(this.gmap=new u(i("#maps-post-dealers").get(0)),this.gmap.apiPromise.done(this.renderMap)),i("#tab-list").find("[data-page]").on("click",this.handlePagination)):i("#dealers-search-results").html("<p><strong> 0 Rsultat pour votre recherche </strong></p>").velocity("slideDown",{duration:300})},v.prototype.renderList=function(t){void 0===t&&(t=0);var e=this.NbDisplayedListItems*t,n=this.dealers.slice(e,e+this.NbDisplayedListItems);i("#tab-list").html(a.template(f(),{currentPageIndex:t+1,nbPages:Math.ceil(this.dealers.length/this.NbDisplayedListItems),nbPager:this.NbPagerItems,dealers:n}));var s=a.reduce(n,function(t,e){var n="";void 0!==e.labelStringify&&(n="dev"===App.environment?"ajax/consumers_findColissimo.html":e.labelStringify);var i=e;i.pictoOffice="office-badge-map.png";var r=['<li class="list-group-arrow-left">',a.template(m(),{item:i,url:App.urls.findBP,space:App.config.currentSpace}),"</li>"].join("");return t+=r},"");i("#js-dealers-list").html(s),new r(!1),this.handlePopin()},v.prototype.handlePopin=function(t){i("#modalId").on("shown.bs.modal",function(t){new r(!1)})},v.prototype.renderMap=function(){this.gmap.placeMarkers(a.map(this.dealers,function(t){var e=t;e.pictoOffice="office-badge-map.png";var n=a.template(g(),{item:e,url:App.urls.findBP,space:App.config.currentSpace});return{coordinates:t.coordinates,icon:t.icon,content:n}})),this.gmap.adjustZoomToMarkers()},v.prototype.handlePagination=function(t){i("#tab-list").find("[data-page]").off("click",this.handlePagination),t.preventDefault();var e=(i("#tab-list").find("[data-page]"),i("#tab-list").find("li.active [data-page]").data("page")),n=0,a=Math.ceil(this.dealers.length/this.NbDisplayedListItems),r=i(t.currentTarget).data("page");"number"==typeof r?n=r-1:"next"===r&&e!==a?n=i("#tab-list").find("li.active [data-page]").data("page"):"prev"===r&&e>1&&(n=i("#tab-list").find("li.active [data-page]").data("page")-2),this.renderList(n),i("#tab-list").find("[data-page]").on("click",this.handlePagination),this.scrollToTop()},v.prototype.scrollToTop=function(){i("#postelocator").length&&i("html, body").animate({scrollTop:i("#postelocator").offset().top},App.config.locator.scrollToTopSpeed)},i("#js-form-find-bp-new").length)var v=new v(i("#js-form-find-bp-new"));e.exports=v},{"../features/ccu-check-connection":46,"../templates/find-cityssimo-details-pin.jade":115,"../templates/find-cityssimo-details-row.jade":116,"../templates/find-cityssimo-details.jade":117,"../templates/find-post-office-details-list.jade":119,"../ui/map":130,"../utils/helpers":133,"../utils/strings-operations":140,"../webservices/companies-find-post-office-query":144,"../webservices/find-cityssimo-query":145,"../webservices/find-merchants-query":147,"../webservices/find-post-office-query":148,lodash:166,"velocity-animate":173}],64:[function(t,e,n){"use strict";var i=t("jquery"),a=t("lodash"),r=t("velocity-animate"),s=t("../features/ccu-check-connection");t("velocity-animate/velocity.ui");var o,l,c,u,d,p,h,f=t("../webservices/find-colissimo-query"),g=t("../ui/map"),m=t("../utils/strings-operations"),v=t("../utils/helpers"),y=(t("../templates/find-post-office-details.jade"),t("../templates/find-post-office-details-new.jade")),b=t("../templates/find-post-office-details-list.jade"),_=t("../templates/find-post-office-details-row-new.jade"),w={locality:"long_name",postal_code:"short_name",administrative_area_level_1:"long_name"},k=i(".breadcrumb"),x=function(t){this.gmapScriptInit();a.bindAll(this,"gmapScriptInit","_activateButton","_handleError","_handleSuccess","_handleSubmit","renderMap","handlePagination","handleTagging"),this.$form=t,t.hasClass("colissimo-form-outside")||this.$form.on("submit",this._handleSubmit);var e=t.find('[data-pc-type="data-pc-type"]'),n=t.find("[data-toggle]").attr("href");n&&i(e).on("change",function(){"office"===i(this).val()?t.find("[data-toggle]").attr("data-toggle","collapse").attr("href",n).parent().removeClass("disabled"):(t.find(".collapse").is(".in")?t.find("[data-toggle]").trigger("click").attr("data-toggle","disabled").removeAttr("href").parent().addClass("disabled"):t.find("[data-toggle]").attr("data-toggle","disabled").removeAttr("href").parent().addClass("disabled"),t.find("input:checkbox").each(function(){i(this).filter(":checkbox").is(":checked")&&i(this).siblings("label").trigger("click")}))});var r="Valider  recherche "+i(e).find("option:selected").text();t.find("[type=submit]").attr("title",r),i(e).on("change",function(){var n="Valider  recherche "+i(e).find("option:selected").text();t.find("[type=submit]").attr("title",n)})};if(x.prototype.gmapScriptInit=function(){var t=this,e=i.Deferred();return i.getScript("//www.google.com/jsapi",function(){window.google.load("maps","3",{other_params:"signed_in=true&libraries=places&sensor=true&client=gme-lapostesa",callback:function(){e.resolve(),t.gmapInit(),t.MapApiLoaded()}})}),e.promise()},x.prototype.MapApiLoaded=function(){var t="#js-form-find-colissimop";""!==i(t).find("#ipt-address").val()&&i(t).submit()},x.prototype.gmapInit=function(){var t=this;o=new window.google.maps.places.Autocomplete(document.getElementById("ipt-address"),{types:["geocode"],componentRestrictions:{country:"fr"}}),window.google.maps.event.addListener(o,"place_changed",function(){t.fillInAdress()}),d=new window.google.maps.Geocoder},x.prototype.searchQuery=function(t,e){for(var n=0;n<t.address_components.length;n++)l=t.address_components[n].types[0],l===e&&(c=t.address_components[n][w[l]]);return c},x.prototype.fillInAdress=function(){var t=this;void 0===c&&(c=""),i("#ipt-address").parent().removeClass("has-error"),i("#ipt-address").siblings("p.form-control-feedback").remove();var e=o.getPlace();if(e.address_components)c=t.searchQuery(e,"postal_code"),""===c&&(c=t.searchQuery(e,"locality")),""===c&&(c=t.searchQuery(e,"administrative_area_level_1")),p=u=document.getElementById("ipt-address").value;else if(i("#ipt-address").parent().addClass("has-error"),i("#ipt-address").after('<p class="form-control-feedback">'+App.i18n.errors.autocompleteList+"</p>"),a.defer(function(){r.animate([i(".has-error .form-control-feedback"),i(".has-error .form-control-feedback").siblings("input")],"callout.shake")}),"object"==typeof window.tc_vars&&"function"==typeof window.tc_events_1){var n={xiti_xtn2:tc_vars.xiti_xtn2,xiti_page_name:"outils::localiser::bureau_de_poste::erreur_saisie"};window.tc_events_1(this,"PAGE",n)}},x.prototype.NbDisplayedListItems=10,x.prototype.NbPagerItems=7,x.prototype._handleSubmit=function(t){t.isTrigger&&(u=document.getElementById("ipt-address").value,c=u),t.preventDefault();var e=this;if(!this.$form.find(".has-error").length){if(!c||u!==document.getElementById("ipt-address").value)return i("#ipt-address").parent().addClass("has-error"),void i("#ipt-address").after('<p class="form-control-feedback">'+App.i18n.errors.autocompleteList+"</p>");i(t.currentTarget).find("[type=submit]").attr("disabled","disabled");var n=[],a=this.$form.find(".collapse-checkboxList input:checkbox");a.each(function(){i(this).is(":checked")&&n.push(i(this).val())});var r=t;d||(d=new window.google.maps.Geocoder),d.geocode({address:u},function(t,n){e.handleGeoloc(t,n,r)});var s=i(t.currentTarget).find("#ipt-type").val(),o=i(t.currentTarget).find("#ipt-nature").val(),l=null;switch(s){case"retrait":l=1;break;case"depot":l=2;break;default:l=0}var p=null;switch(o){case"null":p=1;break;case"office":p=2;break;case"consigne":p=3;break;case"commercant":p=4;break;default:l=0}var h={label:"outils::localiser::retrait_depot_colis::resultats_localisation",xtclick_event:"F",xtclick_s2:String(App.config.locator.env),xtclick_type:"N",localisation_ou:m.cleanTextForTracking(document.getElementById("ipt-address").value),localisation_type_point:String(l),localisation_nature:String(p)};v.tracking(i(t.target)[0],"COLISSIMO",h)}},x.prototype.handleGeoloc=function(t,e,n){if(e===window.google.maps.GeocoderStatus.OK){h=t[0].geometry.location;var a=h.lat(),r=h.lng();this.reset(),this.searchKey="geoloc",this.searchValue={lat:a,lng:r};var s,o=i(n.currentTarget).find("#ipt-type").val(),l=i(n.currentTarget).find("#ipt-nature").val(),c=[];s=f,new s(this.searchKey,this.searchValue,c,o,l).always(this._activateButton).fail(this._handleError).done(this._handleSuccess)}else console.log("Geocode was not successful for the following reason: "+e)},x.prototype.handleServices=function(t){var e=[],n=this.$form.find(".collapse-checkboxList input:checkbox");n.each(function(){i(this).is(":checked")&&e.push(i(this).val())}),t=e},x.prototype._activateButton=function(){this.$form.find("[type=submit]").removeAttr("disabled")},x.prototype._handleSuccess=function(t){this.dealers=t,this.render(t)},x.prototype._handleError=function(t){"WSErrorNotFound"===t.name?(this.dealers=t,this.render(t)):console.log(App.i18n.errors.tryLater)},x.prototype.handleTagging=function(t){var e=i("#ipt-address").val(),n=i("#ipt-type").val();switch(n){case"office":n="bureau_de_poste";break;case"cityssimo":n="espace_cityssimo";break;case"companies":n="espaces_entreprises"}var a={xiti_xtn2:tc_vars.xiti_xtn2,xiti_page_name:i(t.currentTarget).data("pagename"),env_template:tc_vars.env_template,xiti_xtpagetype:tc_vars.xiti_xtpagetype,localisation_ou:e,localisation_type_point:n};window.tc_events_1(i(t.currentTarget),"PAGE",a)},x.prototype.reset=function(){this.gmap&&(this.gmap.clearMarkers(),this.gmap.destroy(),this.gmap=void 0),i("#tab-list").find("[data-page]").off("click",this.handlePagination),i("#dealers-search-results").velocity("slideUp",{duration:400})},x.prototype.render=function(t,e){if(this.dealers.length){this.sortList(),i("#dealers-search-results").html(a.template(y(),{nbResults:this.dealers.length,dealers:this.dealers})).velocity("slideDown",{duration:300}),this.renderList(),this.gmap?(this.gmap.clearMarkers(),this.renderMap()):(this.gmap=new g(i("#maps-post-dealers").get(0)),this.gmap.apiPromise.done(this.renderMap)),i("#tab-list").find("[data-page]").on("click",this.handlePagination);var n=i("#ipt-address").val();this._updateBreadcrumb(n)}else this._updateBreadcrumb(App.i18n.errors.breadcrumbFindPOError),i("#dealers-search-results").html("<p><strong> 0 Rsultat pour votre recherche </strong></p>").velocity("slideDown",{duration:300})},x.prototype.sortList=function(){this.dealers.length&&this.dealers.sort(function(t,e){return t.classement<e.classement?-1:t.classement>e.classement?1:0})},x.prototype.renderList=function(t){void 0===t&&(t=0);var e=this.NbDisplayedListItems*t,n=this.dealers.slice(e,e+this.NbDisplayedListItems);i("#tab-list").html(a.template(b(),{currentPageIndex:t+1,nbPages:Math.ceil(this.dealers.length/this.NbDisplayedListItems),nbPager:this.NbPagerItems,dealers:n}));var r=a.reduce(n,function(t,e){var n="";void 0!==e.labelStringify&&(n="dev"===App.environment?"ajax/consumers_findCO.html":e.labelStringify);var i=null;i="CDI"!==e.type&&"CIT"!==e.type&&"A2P"!==e.type?App.urls.findBP:App.urls.findCommercant;var r="undefined"!=typeof App.config.currentSpace?App.config.currentSpace:null,s=['<li class="list-group-arrow-left">',a.template(_(),{item:e,url:i,space:r}),"</li>"].join("");return t+=s},"");i("#js-dealers-list").html(r),new s(!1),this.handlePopin()},x.prototype.handlePopin=function(t){i("#modalId").on("shown.bs.modal",function(t){new s(!1)})},x.prototype.renderMap=function(){var t=[],e=[];if(this.dealers.length>10){for(var n=0;10>n;n++)t.push(this.dealers[n]);for(var i=10;i<this.dealers.length;i++)e.push(this.dealers[i])}else t=this.dealers;this.gmap.placeMarkers(a.map(t,function(t){var e="undefined"!=typeof App.config.currentSpace?App.config.currentSpace:null,n=null;n="CDI"!==t.type&&"CIT"!==t.type&&"A2P"!==t.type?App.urls.findBP:App.urls.findCommercant;var i=a.template(_(),{item:t,url:n,space:e});return{coordinates:t.coordinates,icon:t.icon,content:i}})),this.gmap.adjustZoomToMarkers(),e.length>0&&this.gmap.placeMarkers(a.map(e,function(t){var e="undefined"!=typeof App.config.currentSpace?App.config.currentSpace:null,n=null;n="CDI"!==t.type&&"CIT"!==t.type&&"A2P"!==t.type?App.urls.findBP:App.urls.findCommercant;var i=a.template(_(),{item:t,url:n,space:e});return{coordinates:t.coordinates,icon:t.icon,content:i}}));var r={coordinates:{lat:h.lat(),"long":h.lng()},icon:App.config.locator.pathUserLocation,zIndex:1e4};this.gmap.placeMarker(r)},x.prototype.handlePagination=function(t){i("#tab-list").find("[data-page]").off("click",this.handlePagination),t.preventDefault();var e=(i("#tab-list").find("[data-page]"),i("#tab-list").find("li.active [data-page]").data("page")),n=0,a=Math.ceil(this.dealers.length/this.NbDisplayedListItems),r=i(t.currentTarget).data("page");"number"==typeof r?n=r-1:"next"===r&&e!==a?n=i("#tab-list").find("li.active [data-page]").data("page"):"prev"===r&&e>1&&(n=i("#tab-list").find("li.active [data-page]").data("page")-2),this.renderList(n),i("#tab-list").find("[data-page]").on("click",this.handlePagination),this.scrollToTop()},x.prototype.scrollToTop=function(){i("#postelocator").length&&i("html, body").animate({scrollTop:i("#postelocator").offset().top},App.config.locator.scrollToTopSpeed)},x.prototype._removeLastBreadcrumb=function(t){var e=k.find("li.search-term");e.length&&e.remove()},x.prototype._createBreadcrumb=function(t){var e,n,i=k.find("li.active");i.length&&(e=i.clone(),n=e.find("span"),n.length&&(n.text(t),i.hasClass("prev-search")||i.addClass("prev-search"),e.addClass("search-term"),k.append(e)))},x.prototype._updateBreadcrumb=function(t){var e=this,n=k.find("li.search-term");i("#ipt-address").length&&(n.length?n.find("span").text(t):e._createBreadcrumb(t))},i("#js-form-find-colissimop").length){new x(i("#js-form-find-colissimop"))}e.exports=x},{"../features/ccu-check-connection":46,"../templates/find-post-office-details-list.jade":119,"../templates/find-post-office-details-new.jade":120,"../templates/find-post-office-details-row-new.jade":122,"../templates/find-post-office-details.jade":124,"../ui/map":130,"../utils/helpers":133,"../utils/strings-operations":140,"../webservices/find-colissimo-query":146,lodash:166,"velocity-animate":173,"velocity-animate/velocity.ui":174}],65:[function(t,e,n){"use strict";function i(){this.fetchPostsData().done(this.handleFetchPostsDataSuccess.bind(this)),this.bindEvent()}var a=t("jquery"),r=t("lodash"),s=a("[data-foreign-posts]"),o="[data-cbox]",l=t("../templates/foreign-post.jade");if(i.prototype.fetchPostsData=function(){return a("[data-postoffices]").length?a.getJSON(App.config.findForeignPost.pathOffice).promise():a("[data-museums]").length?a.getJSON(App.config.findMuseums.pathOffice).promise():void 0},i.prototype.handleFetchPostsDataSuccess=function(t){this.posts=t,this.buildPostsList()},i.prototype.bindEvent=function(){a(document.body).on("click",o,this.checkboxClicHandler.bind(this))},i.prototype.checkboxClicHandler=function(t){var e=a(t.target).find("label"),n=a(t.currentTarget).data("value");a(o).removeClass("active"),a(t.target).addClass("active"),a(e).trigger("click"),this.buildPostsList(n)},i.prototype.buildPostsList=function(t){var e="";if(t){switch(t){case"afrique":for(var n=0;n<this.posts.afrique.length;n++)e+=r.template(l(),{id:"#form-country-"+this.posts.afrique[n].id,label:this.posts.afrique[n].label,value:"afrique/"+this.posts.afrique[n].id});break;case"amerique":for(var i=0;i<this.posts.amerique.length;i++)e+=r.template(l(),{id:"#form-country-"+this.posts.amerique[i].id,label:this.posts.amerique[i].label,value:"amerique/"+this.posts.amerique[i].id});break;case"asie":for(var o=0;o<this.posts.asie.length;o++)e+=r.template(l(),{id:"#form-country-"+this.posts.asie[o].id,label:this.posts.asie[o].label,value:"asie/"+this.posts.asie[o].id});break;case"europe":for(var c=0;c<this.posts.europe.length;c++)e+=r.template(l(),{id:"#form-country-"+this.posts.europe[c].id,label:this.posts.europe[c].label,value:"europe/"+this.posts.europe[c].id});break;case"oceanie":for(var u=0;u<this.posts.oceanie.length;u++)e+=r.template(l(),{id:"#form-country-"+this.posts.oceanie[u].id,label:this.posts.oceanie[u].label,value:"oceanie/"+this.posts.oceanie[u].id})}a("[data-country]").removeClass("hidden");var d=a("[data-country]").offset().top;a("body").animate({scrollTop:d},600),a(s).html(e)}},a("#form-continent").length)var i=new i;e.exports=i},{"../templates/foreign-post.jade":125,lodash:166}],66:[function(t,e,n){"use strict";var i,a,r,s=t("jquery"),o=t("lodash"),l=(t("velocity-animate"),t("../features/ccu-check-connection")),c=t("../webservices/find-post-office-query"),u=t("../webservices/companies-find-post-office-query"),d=t("../webservices/find-cityssimo-query"),p=t("../webservices/find-merchants-query"),h=t("../ui/map"),f=t("../utils/strings-operations"),g=t("../utils/helpers"),m=(t("../templates/find-post-office-details.jade"),t("../templates/find-post-office-details-new.jade")),v=t("../templates/find-post-office-details-list.jade"),y=t("../templates/find-post-office-details-row-new.jade"),b={locality:"long_name",postal_code:"short_name"},_=s(".breadcrumb"),w=s("#ipt-address"),k=function(t){o.bindAll(this,"_activateButton","_handleError","_handleSuccess","_handleSubmit","renderMap","handlePagination","handleTagging"),this.$form=t,t.hasClass("po-form-outside")||this.$form.on("submit",this._handleSubmit),"object"==typeof window.tc_vars&&"function"==typeof window.tc_events_1&&this.$form.find('button[type="submit"]').click(this.handleTagging);var e=t.find('[data-pc-type="data-pc-type"]'),n=t.find("[data-toggle]").attr("href");n&&s(e).on("change",function(){"office"===s(this).val()?t.find("[data-toggle]").attr("data-toggle","collapse").attr("href",n).parent().removeClass("disabled"):(t.find(".collapse").is(".in")?t.find("[data-toggle]").trigger("click").attr("data-toggle","disabled").removeAttr("href").parent().addClass("disabled"):t.find("[data-toggle]").attr("data-toggle","disabled").removeAttr("href").parent().addClass("disabled"),t.find("input:checkbox").each(function(){s(this).filter(":checkbox").is(":checked")&&s(this).siblings("label").trigger("click")}))});var i="Valider  recherche "+s(e).find("option:selected").text();t.find("[type=submit]").attr("title",i),s(e).on("change",function(){var n="Valider  recherche "+s(e).find("option:selected").text();t.find("[type=submit]").attr("title",n)})};if(k.prototype.gmapScriptInit=function(){var t=this,e=s.Deferred();return s.getScript("//www.google.com/jsapi",function(){window.google.load("maps","3",{other_params:"signed_in=true&libraries=places&sensor=true&client=gme-lapostesa",callback:function(){e.resolve(),t.gmapInit()}})}),e.promise()},k.prototype.NbDisplayedListItems=10,k.prototype.NbPagerItems=7,k.prototype.gmapInit=function(){var t=this;i=new window.google.maps.places.Autocomplete(document.getElementById("ipt-address"),{types:["geocode"]}),window.google.maps.event.addListener(i,"place_changed",function(){t.fillInAdress()})},k.prototype.fillInAdress=function(){for(var t=i.getPlace(),e=0;e<t.address_components.length;e++)a=t.address_components[e].types[0],"postal_code"===a&&(r=t.address_components[e][b[a]])},k.prototype._removeLastBreadcrumb=function(t){var e=_.find("li.search-term");e.length&&e.remove()},k.prototype._createBreadcrumb=function(t){var e,n,i=_.find("li.active");i.length&&(e=i.clone(),n=e.find("span"),n.length&&(n.text(t),i.hasClass("prev-search")||i.addClass("prev-search"),e.addClass("search-term"),_.append(e)))},k.prototype._updateBreadcrumb=function(t){var e=this,n=_.find("li.search-term");w.length&&(n.length?n.find("span").text(t):e._createBreadcrumb(t))},k.prototype._handleSubmit=function(t){t.preventDefault();var e=this;if(this.$form.find(".has-error").length)return void e._removeLastBreadcrumb();s(t.currentTarget).find("[type=submit]").attr("disabled","disabled");var n=[],i=this.$form.find(".collapse-checkboxList input:checkbox");i.each(function(){s(this).is(":checked")&&n.push(s(this).val())});var a=s(t.currentTarget).find("#ipt-address").val();a.length&&(a.match(/^\d{5}$/)?(e.reset(),e.searchKey="zipcode",e.searchValue=a):a.match(/[\w -]+/)&&(e.reset(),e.searchKey="city",e.searchValue=a));var r,o=s(t.currentTarget).find("#ipt-type").val(),l=[],h=null;"cityssimo"===o?(r=d,h="espace_cityssimo"):"office"===o?(l={"services[]":n},h="bureau_de_poste",r=c):"companies"===o?r=u:"merchants"===o&&(r=p),new r(e.searchKey,e.searchValue,l).always(e._activateButton).fail(e._handleError).done(e._handleSuccess)},k.prototype.handleServices=function(t){var e=[],n=this.$form.find(".collapse-checkboxList input:checkbox");n.each(function(){s(this).is(":checked")&&e.push(s(this).val())}),t=e},k.prototype._activateButton=function(){this.$form.find("[type=submit]").removeAttr("disabled")},k.prototype._handleSuccess=function(t){this.dealers=t,this.render(t)},k.prototype._handleError=function(t){"WSErrorNotFound"===t.name?(this.dealers=t,this.render(t)):window.alert(App.i18n.errors.tryLater)},k.prototype.handleTagging=function(t){var e=w.val(),n=s("#ipt-type").val();switch(n){case"office":n="bureau_de_poste";break;case"cityssimo":n="espace_cityssimo";break;case"companies":n="espaces_entreprises"}var i={label:s(t.currentTarget).data("pagename"),xtclick_event:"F",localisation_ou:f.cleanTextForTracking(e),xtclick_s2:String(App.config.locator.env),xtclick_type:"N",localisation_type_point:n};g.tracking(w[0],"ACORE",i)},k.prototype.reset=function(){this.gmap&&(this.gmap.clearMarkers(),this.gmap.destroy(),this.gmap=void 0),s("#tab-list").find("[data-page]").off("click",this.handlePagination),s("#dealers-search-results").velocity("slideUp",{duration:400})},k.prototype.render=function(t,e){var n=this;if(this.dealers.length){s("#dealers-search-results").html(o.template(m(),{nbResults:this.dealers.length,dealers:this.dealers})).velocity("slideDown",{duration:300}),this.renderList();var i=!1;s('[data-toggle="tab"]').on("shown.bs.tab",function(){i===!1&&(n.gmap?(n.gmap.clearMarkers(),n.renderMap()):(n.gmap=new h(s("#maps-post-dealers").get(0)),n.gmap.apiPromise.done(n.renderMap))),i=!0}),s("#tab-toggle-maps").parent("li").hasClass("active")&&(n.gmap?(n.gmap.clearMarkers(),n.renderMap()):(n.gmap=new h(s("#maps-post-dealers").get(0)),n.gmap.apiPromise.done(n.renderMap)),i=!0),s("#tab-list").find("[data-page]").on("click",this.handlePagination);var a=s("#ipt-address").val();n._updateBreadcrumb(a)}else n._updateBreadcrumb(App.i18n.errors.breadcrumbFindPOError),s("#dealers-search-results").html("<p><strong> 0 Rsultat pour votre recherche </strong></p>").velocity("slideDown",{duration:300})},k.prototype.renderList=function(t){void 0===t&&(t=0);var e=this.NbDisplayedListItems*t,n=this.dealers.slice(e,e+this.NbDisplayedListItems);s("#tab-list").html(o.template(v(),{currentPageIndex:t+1,nbPages:Math.ceil(this.dealers.length/this.NbDisplayedListItems),nbPager:this.NbPagerItems,dealers:n}));var i=o.reduce(n,function(t,e){var n="";void 0!==e.labelStringify&&(n="dev"===App.environment?"ajax/consumers_findBP_new.html":e.labelStringify);var i="undefined"!=typeof App.config.currentSpace?App.config.currentSpace:null,a=['<li class="list-group-arrow-left">',o.template(y(),{item:e,url:App.urls.findBP,space:i}),"</li>"].join("");return t+=a},"");s("#js-dealers-list").html(i),new l(!1),this.handlePopin()},k.prototype.handlePopin=function(t){s("#modalId").on("shown.bs.modal",function(t){new l(!1)})},k.prototype.renderMap=function(){this.gmap.placeMarkers(o.map(this.dealers,function(t){var e="undefined"!=typeof App.config.currentSpace?App.config.currentSpace:null,n=o.template(y(),{item:t,url:App.urls.findBP,space:e});return{coordinates:t.coordinates,icon:t.icon,content:n}})),this.gmap.adjustZoomToMarkers()},k.prototype.handlePagination=function(t){s("#tab-list").find("[data-page]").off("click",this.handlePagination),t.preventDefault();var e=(s("#tab-list").find("[data-page]"),s("#tab-list").find("li.active [data-page]").data("page")),n=0,i=Math.ceil(this.dealers.length/this.NbDisplayedListItems),a=s(t.currentTarget).data("page");"number"==typeof a?n=a-1:"next"===a&&e!==i?n=s("#tab-list").find("li.active [data-page]").data("page"):"prev"===a&&e>1&&(n=s("#tab-list").find("li.active [data-page]").data("page")-2),this.renderList(n),s("#tab-list").find("[data-page]").on("click",this.handlePagination),this.scrollToTop()},k.prototype.scrollToTop=function(){s("#postelocator").length&&s("html, body").animate({scrollTop:s("#postelocator").offset().top},App.config.locator.scrollToTopSpeed)},s("#js-form-find-bp").length){new k(s("#js-form-find-bp"))}e.exports=k},{"../features/ccu-check-connection":46,"../templates/find-post-office-details-list.jade":119,"../templates/find-post-office-details-new.jade":120,"../templates/find-post-office-details-row-new.jade":122,"../templates/find-post-office-details.jade":124,"../ui/map":130,"../utils/helpers":133,"../utils/strings-operations":140,"../webservices/companies-find-post-office-query":144,"../webservices/find-cityssimo-query":145,"../webservices/find-merchants-query":147,"../webservices/find-post-office-query":148,lodash:166,"velocity-animate":173}],67:[function(t,e,n){"use strict";function i(t){this.$element=a(t),this.target="",this.id=this.$element.attr("id"),this.setValues(this.$element);var e=this;this.$element.on("change",function(){e.handleSelectChange(this)})}var a=t("jquery"),r="[data-postal]",s="[data-postal-target]";i.prototype={constructor:i,handleSelectChange:function(t){var e=this;e.setValues(t)},setValues:function(t){var e=this,n=a(t).find("option:selected").data(),i=a(s);a.each(i,function(t){a(i[t]).data("postalTarget")===e.id&&(this.target=i[t],this.target.placeholder&&(this.target.placeholder=n.postalPlaceholder),this.target.innerText&&(this.target.innerText=n.postalLabel),this.target.pattern=n.postalPattern)})}},a.fn.cityCodeFinder=function(t){return this.each(function(){new i(this)})},a(r).cityCodeFinder(),e.exports=i},{}],68:[function(t,e,n){"use strict";var i=t("jquery"),a="[data-form-rules]",r="[data-boolean-container]",s="",o=function(){this.init()};o.prototype.init=function(){this.togglecheck(),this.requireManager(),this.radioReset(),this.initToggleRequired(),i(".collapse").collapse({toggle:!1}),this.collapse()},o.prototype.initToggleRequired=function(){var t="[data-toggle-required]";i(t).length&&i("[name="+this.cleanBracket(i(t).attr("name"))+"]").on("click, change",function(e){var n=i("[name="+this.cleanBracket(i(e.currentTarget).attr("name"))+"]").filter(t),a=n.data("toggle-required"),r=n.is(":checked"),s={elmt:n,offsetTop:n.offset().top,isTrigger:!0};i("[data-toggle-required-target="+a+"]").each(function(t,e){var n=i(e);this.toggleRequired(n,r),r&&s.offsetTop>n.offset().top&&(s={elmt:n,offsetTop:n.offset().top,isTrigger:!1})}.bind(this)),s.isTrigger||i("html, body").animate({scrollTop:s.elmt.closest(".form-group").offset().top},"300")}.bind(this))},o.prototype.toggleRequired=function(t,e){var n=i(t),a=n.closest(".form-group"),r=a.find("label");e?(n.attr({required:"required","aria-required":"true"}),r.append('<span class="required"> *</span>')):(n.removeAttr("required"),n.removeAttr("aria-required"),r.find(".required").remove(),a.removeClass("has-error"))},o.prototype.cleanBracket=function(t){return t.split("[").join("\\[").split("]").join("\\]")},o.prototype.radioReset=function(){var t="[data-reset-container]",e="[data-reset-trigger]",n="[data-reset-target]";i(e).on("click, change",function(){i(this).parents(t).find(n).removeAttr("checked"),i(this).attr("required","required").attr("aria-required","true")}),i(n).on("click",function(){i(this).is(":checked")?i(this).parents(t).find(e).val("").removeAttr("required").attr("aria-required","false"):i(this).parents(t).find(e).attr("required","required").attr("aria-required","true")})},o.prototype.requireManager=function(){
var t='[data-require-manager-id="raison-sociale"]',e='[data-require-manager-id="form-civility"]',n='[data-require-manager-id="nom"]',a='[data-require-manager-id="prenom"]';i("[data-require-manager]").find("input").on("change",this,function(){var r=i(this).parents("[data-require-manager-container]");""!==r.find(t).val()?(r.find(t).attr("required","required").attr("aria-required","true"),r.find(e).removeAttr("required").attr("aria-required","false"),r.find(n).removeAttr("required").attr("aria-required","false"),r.find(a).removeAttr("required").attr("aria-required","false"),r.find(n).parents("[data-require-manager]").removeClass("has-error"),r.find(a).parents("[data-require-manager]").removeClass("has-error"),r.find(e).parents("[data-require-manager]").removeClass("has-error").find("p.form-control-feedback").hide(),""!==r.find(n).val()?(r.find(a).attr("placeholder",""),r.find(n).attr("placeholder",r.find(n).attr("data-require-manager-mandatory")),r.find(a).attr("placeholder",r.find(a).attr("data-require-manager-mandatory"))):(r.find(a).attr("placeholder",r.find(a).attr("data-require-manager-mandatory")),r.find(n).attr("placeholder",r.find(n).attr("data-require-manager-mandatory")),""===r.find(a).val()&&(r.find(n).attr("placeholder",r.find(n).attr("data-require-manager-optional")),r.find(a).attr("placeholder",r.find(a).attr("data-require-manager-optional")))),""!==r.find(a).val()?(r.find(n).attr("placeholder",r.find(n).attr("data-require-manager-mandatory")),r.find(a).attr("placeholder",r.find(a).attr("data-require-manager-mandatory"))):(r.find(n).attr("placeholder",r.find(n).attr("data-require-manager-mandatory")),r.find(a).attr("placeholder",r.find(a).attr("data-require-manager-mandatory")),""===r.find(n).val()&&(r.find(n).attr("placeholder",r.find(n).attr("data-require-manager-optional")),r.find(a).attr("placeholder",r.find(a).attr("data-require-manager-optional")))),(""!==r.find(n).val()||""!==r.find(a).val())&&(r.find(t).removeAttr("required").attr("aria-required","false"),r.find(e).attr("required","required").attr("aria-required","true"),r.find(n).attr("required","required").attr("aria-required","true"),r.find(a).attr("required","required").attr("aria-required","true"),r.find(t).parents("[data-require-manager]").removeClass("has-error"))):""===r.find(t).val()&&(""===r.find(n).val()?(r.find(n).attr("placeholder",r.find(n).attr("data-require-manager-optional")),r.find(n).attr("required","required").attr("aria-required","true"),r.find(a).attr("required","required").attr("aria-required","true"),r.find(t).removeAttr("required").attr("aria-required","false"),r.find(t).parents("[data-require-manager]").removeClass("has-error"),""===a&&(r.find(t).removeAttr("required").attr("aria-required","false"),r.find(e).is(":checked")&&(r.find(t).parents("[data-require-manager]").removeClass("has-error"),r.find(t).removeAttr("required").attr("aria-required","false")))):""!==r.find(n).val()&&(r.find(e).attr("required","required").attr("aria-required","true"),r.find(n).attr("required","required").attr("aria-required","true"),r.find(a).attr("required","required").attr("aria-required","true"),r.find(t).removeAttr("required").attr("aria-required","false"),r.find(t).parents("[data-require-manager]").removeClass("has-error"),""!==r.find(a).val()&&(r.find(e).attr("required","required").attr("aria-required","true"),r.find(n).attr("required","required").attr("aria-required","true")),r.find(e).is(":checked")&&(r.find(n).attr("required","required").attr("aria-required","true"),r.find(a).attr("required","required").attr("aria-required","true"))),""!==r.find(a).val()&&(r.find(a).attr("placeholder",r.find(a).attr("data-require-manager-optional")),r.find(e).attr("required","required").attr("aria-required","true"),r.find(n).attr("required","required").attr("aria-required","true"),r.find(a).attr("required","required").attr("aria-required","true"),r.find(t).removeAttr("required").attr("aria-required","false"),r.find(t).parents("[data-require-manager]").removeClass("has-error"),r.find(e).is(":checked")&&(r.find(e).attr("required","required").attr("aria-required","true"),r.find(n).attr("required","required").attr("aria-required","true"),r.find(a).attr("required","required").attr("aria-required","true"))),r.find(e).is(":checked")&&(r.find(t).removeAttr("required").attr("aria-required","false"),r.find(t).parents("[data-require-manager]").removeClass("has-error")))})},o.prototype.togglecheck=function(){var t=this,e=[];i(a).find(r).each(function(){s=i(this).find("[data-boolean-type]"),e=[],i(this).find(s).each(function(){"B"===i(this).attr("data-boolean-part")&&"text"===i(this).attr("data-boolean-type")&&e.push(i(this).find("input").attr("id")),t.toggleCheckEvents(e)})})},o.prototype.toggleCheckEvents=function(t){var e="",n="",a="",r="",o={handleErrorsCase1:function(t){t.find('[data-boolean-part="A"]').find("input").attr("required","required").attr("aria-required","true"),t.find('[data-boolean-part="B"]').find("input").removeAttr("required").attr("aria-required","false")},handleErrorsCase2:function(t){t.find('[data-boolean-part="B"]').find("input").attr("required","required").attr("aria-required","true"),t.find('[data-boolean-part="A"]').find("input").removeAttr("required").attr("aria-required","false")}};s.find("input").on("change",function(){var s=this;if(a=i(this).parents("[data-boolean-part]").attr("data-boolean-part"),r=i(this).parents("[data-boolean-container]"),"A"===a)e=i(this).val();else{n="";var l=i(this).parents("[data-boolean-type]").attr("data-boolean-type");switch(l){case"text":for(var c=0;c<t.length;c++)n+=i("#"+t[c]).val();break;case"radio":i(this).is(":checked")&&(n+=i(this).attr("id"))}}r.find('[data-boolean-part="A"]').find("div.text-danger").remove(),r.find("[data-boolean-part]").removeClass("has-error"),""===e?""===n?o.handleErrorsCase1(r):"checkbox"===i(this).attr("type")||"radio"===i(this).attr("type")?(o.handleErrorsCase1(r),i(s).is(":checked")&&o.handleErrorsCase2(r)):"checkbox"===r.find('[data-boolean-part="B"]').find("input").attr("type")?o.handleErrorsCase1(r):o.handleErrorsCase2(r):""===n?o.handleErrorsCase1(r):"checkbox"===i(this).attr("type")||"radio"===i(this).attr("type")?r.find('[data-boolean-part="B"]').find("input").is(":checked")?(o.handleErrorsCase1(r),r.find("[data-boolean-part]").addClass("has-error"),r.find('[data-boolean-part="A"]').append('<div class="col-xs-12 text-danger"><p aria-live="polite">'+i(this).parents("[data-boolean-container]").attr("data-boolean-errmsg")+"</p></div>")):o.handleErrorsCase1(r):"checkbox"===r.find('[data-boolean-part="B"]').find("input").attr("type")?r.find('[data-boolean-part="B"]').find("input").is(":checked")?(o.handleErrorsCase1(r),r.find("[data-boolean-part]").addClass("has-error"),r.find('[data-boolean-part="A"]').append('<div class="col-xs-12 text-danger"><p aria-live="polite">'+i(this).parents("[data-boolean-container]").attr("data-boolean-errmsg")+"</p></div>")):o.handleErrorsCase2(r):(o.handleErrorsCase1(r),r.find("[data-boolean-part]").addClass("has-error"),r.find('[data-boolean-part="A"]').append('<div class="col-xs-12 text-danger"><p aria-live="polite">'+i(this).parents("[data-boolean-container]").attr("data-boolean-errmsg")+"</p></div>"))})},o.prototype.collapse=function(){var t="";i("[data-mycollapse]").each(function(){var e=this;i(this).find('input[type="radio"]').on("click",function(){t=i(this).attr("data-mycollapse-target"),i(e).parents("[data-mycollapse-parent]").find(".collapse").collapse("hide"),i(e).siblings(".collapse").collapse("hide"),i(e).find(".collapse").collapse("hide"),i(this).attr("data-mycollapse-target")&&i(t).collapse("show")})})},e.exports=o,new o},{}],69:[function(t,e,n){"use strict";var i=t("jquery"),a="[data-check-notifs]",r="Lu",s="",o="",l=function(){this.bindEvents()};l.prototype.init=function(){},l.prototype.bindEvents=function(){var t=this;i(a).on("change",function(){o=i(this).attr("name"),t.groupNotif();var e=i(this).attr("data-notifs-id");t.updateRemoteNotification(e)})},l.prototype.groupNotif=function(){s=i('input[name="'+o+'"]')},l.prototype.disableNotif=function(){s.prop("checked",!1)},l.prototype.removeNotif=function(){s.prop("checked","checked").prop("disabled",!0).addClass("muted").siblings("label").text(r)},l.prototype.updateRemoteNotification=function(t){var e=this;i.ajax({url:App.WS.urlNotifications+"/"+t,success:function(t){e.removeNotif(),App.referencedObjects.checkConnection.updateNotifications()},error:function(t){e.disableNotif(),window.console.log(t.responseText),i("#modal-connection").modal()}})},e.exports=l,new l},{}],70:[function(t,e,n){"use strict";function i(){this.initSocket(),a=this}var a,r=t("jquery");t("easyXDM");i.prototype.initSocket=function(){if("undefined"!=typeof App.iframe){var t="undefined"!=typeof App.iframe.containerID?document.getElementById(App.iframe.containerID):null;if(t){new window.easyXDM.Socket({remote:App.iframe.url,container:t,onMessage:function(t,e){switch(t){case"backToTop":window.console.log("backToTop"),a.backToTop();break;default:t=Number(t)+50,window.console.log(t),this.container.getElementsByTagName("iframe")[0].style.height=t+"px"}}})}}},i.prototype.backToTop=function(){return r("body, html").animate({scrollTop:r("#lp-metanav").offset().top},"slow"),!1},e.exports=i,new i},{easyXDM:7}],71:[function(t,e,n){"use strict";function i(){this.init()}var a=t("jquery"),r=a("[data-layer-load]");i.prototype.init=function(){a(r).each(function(){var t=a(this).data("layer-load"),e=this;a.ajax({url:"ajax/"+t+".html"}).done(function(t){a(e).html(t)})})},new i},{}],72:[function(t,e,n){"use strict";function i(){a(s).appendTo("body"),this.readyHandler()}var a=t("jquery"),r="[data-link-modifier]",s='<span class="visible-xxs"/>',o=!1,l=window.navigator.userAgent,c=l.indexOf("MSIE "),u=l.indexOf("IEMobile"),d=!1;c>-1&&(o=!0),u>-1&&(d=!0),i.prototype.readyHandler=function(){!a(".visible-xxs").is(":visible")||o&&!d||a(r).each(function(){var t=a(this).attr("data-new-link");a(this).attr("href",t)})},new i,!a(".visible-xxs").is(":visible")||o&&!d||a(".mobile-redirect").length&&(a(".disableOnRedirect input").attr("disabled",!0),window.location.replace("http://m.laposte.net")),e.exports=i},{}],73:[function(t,e,n){"use strict";function i(){this.bindEvents()}var a=t("jquery"),r=t("../ui/loader"),s=t("../plugins/validator"),o=t("../../components"),l="[data-ajax-link]",c="[data-ajax-form]",u=".form-loader";i.prototype.addValidatorToForm=function(){var t=a(this).data("container")?a(this).data("container"):App.ajaxlink.defaultContainer;a(t).find("form[data-validate]").each(function(){new s(this)})},i.prototype.taggingLabel=function(t,e){var n=t.data("tag-label");n?"function"==typeof window.tc_events_1?window.tc_events_1(t,"CLICK",n):window.console.log("CLICK - "+n):window.console.log("data-tag-label is missing")},i.prototype.taggingResult=function(t){var e=t.data("tag-label-result");e?"function"==typeof window.tc_events_1?window.tc_events_1(t,"CALCULATEUR",e):window.console.log("CALCULATEUR - "+e):window.console.log("data-tag-label-result is missing")},i.prototype.tagging=function(t){var e,n;e=a(t).find("[data-tag-label]"),n=a(t).find("[data-tag-label-result]"),e.length>0&&this.taggingLabel(e),n.length>0&&this.taggingResult(n)},i.prototype.bindEvents=function(){var t=this;a(document).on("submit",u,function(t){t.preventDefault(),r.showLoader(),this.submit()}),a("body").on("submit",c,function(e){e.preventDefault();var n=a(this).data("ajax-form"),i=a(this).data("no-loader"),s=a(this).data("container")?a(this).data("container"):App.ajaxlink.defaultContainer;a.ajax({type:"post",url:n,data:a(this).serialize(),beforeSend:function(){i||r.showLoader(),a(c).addClass("disabled")},success:function(e){r.hideLoader(),a(s).html(e),t.addValidatorToForm(),t.tagging(s),o.Calculator.changeTitleTag()}}).fail(function(){r.hideLoader()})}),a("body").on("click",l,function(e){e.preventDefault();var n=a(this).data("ajax-link"),i=a(this).data("no-loader"),s=a(this).data("container")?a(this).data("container"):App.ajaxlink.defaultContainer;a.ajax({type:"post",url:n,beforeSend:function(){i||(r.showLoader(),a(l).addClass("disabled"))}}).fail(function(){r.hideLoader()}).success(function(e){r.hideLoader(),a(s).html(e),t.addValidatorToForm(),t.tagging(s),o.Calculator.changeTitleTag()})})},e.exports=i,new i},{"../../components":24,"../plugins/validator":109,"../ui/loader":129}],74:[function(t,e,n){"use strict";function i(t){c=this,this.connectionManager=t,this.init()}var a,r,s,o,l,c,u=t("jquery"),d="[data-continue-connected]";i.prototype.init=function(){"undefined"!=typeof App.cookies&&"undefined"!=typeof App.cookies.sessionCountdown&&(a=u.cookie(App.cookies.sessionCountdown),a&&(a=parseInt(a),o=App.countdown.limit,this.bindEvents(),this.createInterval()))},i.prototype.createInterval=function(){l=setInterval(function(){r=Math.round((new Date).getTime()/1e3),s=a-r,o>=s&&s>0&&(u("#modal-reconnection").hasClass("in")||u("#modal-reconnection").modal()),0>=s&&(clearInterval(l),c.connectionManager.showDisconnect(),u("#modal-reconnection").modal("hide"))},1e3)},i.prototype.updateInterval=function(){a=u.cookie(App.cookies.sessionCountdown),a&&(a=parseInt(a))},i.prototype.bindEvents=function(){u(d).on("click",function(t){t.preventDefault(),u.ajax({url:App.WS.urlContinueConnected}).done(function(){u("#modal-reconnection").modal("hide"),c.updateInterval()})})},e.exports=i},{}],75:[function(t,e,n){"use strict";function i(t){switch(t){case"error":l('[data-err-integer-for="'+a+'"]').show().parents(".form-group").addClass("has-error");break;case"ok":l('[data-err-integer-for="'+a+'"]').hide().parents(".form-group").removeClass("has-error")}}var a,r,s,o,l=t("jquery"),c=!0,u="input[type=text][data-lower-than-value-warning]";l(function(){l(u).on("input",function(){a=this.id,r=parseInt(l(this).val(),10),s=r>l(this).attr("data-lower-than-value-warning"),o=0>r;var t=l(this).val();o?(i("error"),c=!1):isNaN(t)?(s=!1,i("error"),c=!1):(i("ok"),c=!0),l('[data-warning-for="'+a+'"]')[s?"show":"hide"]()}),l(u).parents("form").on("submit",function(){return c?void i("ok"):(i("error"),!1)})})},{}],76:[function(t,e,n){"use strict";var i=t("jquery"),a="#js-form-find-bp",r="#js-form-find-colissimop";setTimeout(function(){""===i(a).find("#ipt-address").val()||i(".po-form-outside").length||i(a).submit()},0),setTimeout(function(){""!==i(r).find("#ipt-address").val()&&i(r).submit()},500)},{}],77:[function(t,e,n){"use strict";function i(t){this.bindEvents(),this.init()}var a=t("jquery"),r="[data-areyounet]";i.prototype.areyounet=function(t,e,n,i){window.open(t,i,"width="+e+", height="+n)},i.prototype.init=function(){a("#modal-areyounet").length&&a("#modal-areyounet").modal("show")},i.prototype.bindEvents=function(){var t=this;a(r).on("click",function(){var e=a(this).data("url"),n=a(this).data("width"),i=a(this).data("height"),r=a(this).data("name");t.areyounet(e,n,i,r)}),a("#modal-areyounet").on("click",".btn[data-dismiss]",function(){a.get(App.WS.urlAreYouNet)}),a(".modal").on("hidden.bs.modal",function(t){a(this).removeClass("modal-opened"),a("body").data("n-open-modals",a("body").data("n-open-modals")-1)}),a(".modal").on("shown.bs.modal",function(t){"undefined"==typeof a("body").data("n-open-modals")&&a("body").data("n-open-modals",0),a(this).hasClass("modal-opened")||(a(this).addClass("modal-opened"),a("body").data("n-open-modals",a("body").data("n-open-modals")+1),a(this).css("z-index",1040+10*a("body").data("n-open-modals")),a(".modal-backdrop").not(".modal-opened").css("z-index",1039+10*a("body").data("n-open-modals")),a(".modal-backdrop").not("modal-opened").addClass("modal-opened"))})},new i},{}],78:[function(t,e,n){"use strict";var i=t("jquery"),a=t("lodash"),r=t("velocity-animate");t("velocity-animate/velocity.ui");var s=!navigator.userAgent.match(/Version\/[\d\.]+.*Safari/),o=".phone-filter",l=".phone-filter-select",c=".phone-filter-input",u="",d="",p="",h="",f="",g="",m=function(){};m.prototype.checkPhoneType=function(){var t=this;i(o).find("input").on("focusout",function(){g=i(this).parents(o).find("input:hidden"),h=i(this).parents(o).find('[data-toggle="collapse"]').attr("href"),f=i(this).val(),t.filter(f)?(i(g).val("mobile"),i(h).collapse("hide")):(i(g).val("fixe"),i(h).collapse("show"))})},m.prototype.filter=function(t){var e=new RegExp("^[0][6-7][0-9]{8}$");return e.test(t)},m.prototype.bindEvents=function(){var t=this;i(l).on("change",function(){u=i(this).val(),d=i(this).find("option:selected").data("phonetype"),p=i(this),console.log(u),"fr"===i("#pays").val()?(console.log("yep"),t.changePattern(u,p)):(t.changePattern("international",p),console.log("nope"))}),i(c).on("focusout",function(){""!==i(this).val()&&i(this).valid()})},m.prototype.triggerValidationScroll=function(t,e){i(e).valid()||(i("body, html").velocity("scroll",{offset:i(e).closest(".panel").offset().top}),a.defer(function(){s&&r.animate([i(t).find(".has-error .form-control-feedback"),i(t).find(".has-error .form-control-feedback").siblings("input")],"callout.shake")}))},m.prototype.changePattern=function(t,e){var n=this,a=i(e).parents("form"),r=i(e).data("target");switch(t){case"mobile":case"fr":case"nfr":case"france":case"France":i(r).attr("pattern","^[0][6-7][0-9]{8}$").data("error-message-pattern","Merci de renseigner un numro de tel mobile");break;case"fixe":i(r).attr("pattern","^[0][1-5|8-9][0-9]{8}$").data("error-message-pattern","Merci de renseigner un numro de tel fixe");break;default:i(r).attr("pattern","^[0-9]{1,30}$").data("error-message-pattern","Merci de renseigner un numro de tel mobile valide")}""!==i(r).val()&&(i(r).valid(),i(r).valid()||n.triggerValidationScroll(a,r))},e.exports=m,new m},{lodash:166,"velocity-animate":173,"velocity-animate/velocity.ui":174}],79:[function(t,e,n){"use strict";var i=t("jquery"),a=function(){this.bindEvents()};a.prototype.bindEvents=function(){var t=this;i("body").on("show.bs.modal","[data-modal-delete]",t.deleteItem)},a.prototype.deleteItem=function(t){var e=i(t.relatedTarget).data("url-item-delete"),n=i(this);n.find("[data-url-item-delete]").attr("href",e)},i(function(){new a})},{}],80:[function(t,e,n){"use strict";t("jquery")},{}],81:[function(t,e,n){"use strict";var i=t("jquery"),a=t("lodash"),r=t("../utils/helpers"),s=(t("../features/ccu-check-connection"),t("../ui/map")),o=(t("../utils/strings-operations"),t("../templates/find-post-office-details-pin-rocs.jade")),l=t("../templates/find-post-office-details-row-rocs.jade"),c=t("../templates/find-post-office-details-list-rocs.jade"),u=(i(".rocs-map"),i(".selector-postoffice")),d=!1,p=!1,h=[],f=function(t,e){var n=this;this.selector=t,n.refMap=e,this.iniMap(e),this.infodealers=[];var a=!1;i("#tab-list").find("[data-page]").off("click",this.handlePagination),i('[data-toggle="tab"]').on("shown.bs.tab",function(){a===!1&&n.iniMap(e),a=!0})};f.prototype.NbDisplayedListItems=10,f.prototype.NbPagerItems=10,f.prototype.iniMap=function(t){var e=this;d||(e.mapOptions=this.getMapOptions(t),h=this.getPostOffices(),e.mapOptions&&(e.mapOptions.markers?i.merge(e.mapOptions.markers,h):e.mapOptions.markers=h,e.gmap=new s(t.get(0),e.mapOptions,!0)),d=!0,p||this.renderList())},f.prototype.getPostOffices=function(){var t,e,n,r,s,l,c,u,d,p,h,f,g,m,v,y,b=[],_=[],w=!0,k=i("#rocs-map").data("details-office-url");return this.selector?(this.selector.find("li").each(function(){t=i(this),p=t.data("id"),p&&(h=t.data("ouvert"),n=t.data("coordinates"),f=t.find(".po-name"),f&&(f=f.html()),g=t.find(".street-address"),g&&(g=g.html()),y=t.find(".postal-code"),y&&(y=y.html()),v=t.find(".locality"),v&&(v=v.html()),s=t.find(".toggle-fav"),s&&(l=s.data("favouriteurl")),c=window.location.pathname+"/",e=t.data("isfavourite"),w=t.data("showdetail"),r=k.replace("__idoffice__",p),u={name:f,zipcode:y,city:v,street:g,isOpen:h,id:p,favourite:e,coordinates:n,icon:App.config.locator.rocsPathOffice,content:d,favurl:l,url:r,chooseBPUrl:c,showBtn:w},d=a.template(o(),{item:u,url:r}),u.content=d,_.push(u),m={coordinates:n,icon:App.config.locator.rocsPathOffice,content:d,id:p},b.push(u))}),this.dealers=b,this.infodealers=_,b):void 0},f.prototype.renderList=function(t){void 0===t&&(t=0);var e=this,n=this.NbDisplayedListItems*t,s=this.dealers.slice(n,n+this.NbDisplayedListItems);i("#tab-list .panel").html(a.template(c(),{currentPageIndex:t+1,name:this.infodealers.name,street:this.infodealers.street,zipcode:this.infodealers.zipcode,city:e.infodealers.city,coordinates:this.dealers.coordinates,id:this.dealers.id,nbPages:Math.ceil(this.dealers.length/this.NbDisplayedListItems),nbPager:this.NbPagerItems,dealers:s}));var o=a.reduce(s,function(t,e){var n="";void 0!==e.labelStringify&&(n="dev"===App.environment?"ajax/consumers_findPO.html":e.labelStringify);var i="undefined"!=typeof App.config.currentSpace?App.config.currentSpace:null,r=[a.template(l(),{item:e,url:App.urls.findBP,space:i})].join("");return t+=r},"");i("#js-dealers-list").html(o),this.updateDetailsLink(),i("#tab-list").find("[data-page]").on("click",function(t){e.handlePagination(t)}),i("#tab-toggle-maps").on("click",function(t){e.handleMapTab(t)}),1===App.config.rocsType&&i("#js-dealers-list, #rocs-map").find(".rocs-choose").on("click",function(t){if(i(this).data("tracking")&&!i(".rocs").length){var e=JSON.parse(i(this).data("tracking")),n=e.label,a=e.event,s=e.s2,o=e.type;r.tracking(i(t.currentTarget)[0],"CLICK",{label:n,xtclick_event:a,xtclick_s2:s,xtclick_type:o})}else r.tracking(i(t.currentTarget)[0],"CLICK",{label:"mon_compte::choisir_vos_preferences_de_livraison::choix_bureau_de_poste::choisir",xtclick_event:"C",xtclick_s2:"15",xtclick_type:"A"})}),p=!0},f.prototype.updateDetailsLink=function(){var t=i("[data-details-bp]").parents("[data-details-office-url]").data("details-office-url"),e=null;t&&i("[data-details-bp]").each(function(){e=i(this).data("details-bp"),i(this).attr("href",t.replace("__idoffice__",e))})},f.prototype.handleMapTab=function(t){var e=this;t.preventDefault(),e.mapIsRender||(e.gmap=new s(e.refMap.get(0),e.mapOptions,!0)),e.mapIsRender=!0},f.prototype.handlePagination=function(t){t.preventDefault();var e=(i("#tab-list").find("[data-page]"),i("#tab-list").find("li.active [data-page]").data("page")),n=0,a=Math.ceil(this.dealers.length/this.NbDisplayedListItems),r=i(t.currentTarget).data("page");"number"==typeof r?n=r-1:"next"===r&&e!==a?n=i("#tab-list").find("li.active [data-page]").data("page"):"prev"===r&&e>1&&(n=i("#tab-list").find("li.active [data-page]").data("page")-2),this.renderList(n),this.scrollToTop()},f.prototype.scrollToTop=function(){i("#tab-list").length&&i("html, body").animate({scrollTop:i("#tab-list").offset().top},App.config.locator.scrollToTopSpeed)},f.prototype.getMapOptions=function(t){return i(t).data("rocsmap")},u.each(function(){var t=i(this),e=t.data("target");if(e){new f(t,i(e))}}),e.exports=f},{"../features/ccu-check-connection":46,"../templates/find-post-office-details-list-rocs.jade":118,"../templates/find-post-office-details-pin-rocs.jade":121,"../templates/find-post-office-details-row-rocs.jade":123,"../ui/map":130,"../utils/helpers":133,"../utils/strings-operations":140,lodash:166}],82:[function(t,e,n){"use strict";function i(){this.$root=a(s),this.$select=a("select",this.$root),this.init()}var a=t("jquery"),r=t("lodash"),s="[data-select-helper]";i.prototype.init=function(){if(this.$select.length){var t="change",e=r.bind(this.handle,this);this.$select.on(t,e).trigger(t)}},i.prototype.handle=function(t){var e=this.$root.attr("data-select-helper"),n=this.$root.attr("data-select-helper-tpl"),i=a("option:selected",this.$select).text(),s=this.$select.data("max-hour");"undefined"!=typeof i&&i.length&&"undefined"!=typeof s&&s.length?a(e).show().html(r.template(n)({date:i,heure:s})):a(e).hide()},e.exports=new i},{lodash:166}],83:[function(t,e,n){"use strict";function i(){this.bindEvents()}function a(t){this.$selectContainer=r(t),this.selectTag=this.$selectContainer.children("select")[0],this.ellipsisCover='<span class="ellipsis-cover">...</span>"',this.clearUnits=function(t){return t.substr(0,t.length-2)},this.showEllispsis=function(){var t=r(this.ellipsisCover);t.css({top:this.selectTopPadding,right:this.selectRightPadding,fontSize:this.selectFontSize+"px",lineHeight:1.39*this.selectFontSize+"px"}),this.$selectContainer.append(t)},this.hideEllipsis=function(){this.$selectContainer.find(".ellipsis-cover").remove()},this.setSelectMeasures=function(){this.selectFont=this.clearUnits(getComputedStyle(this.selectTag).font),this.selectFontSize=parseInt(this.clearUnits(getComputedStyle(this.selectTag).fontSize)),this.selectTopPadding=parseInt(this.clearUnits(getComputedStyle(this.selectTag).paddingTop)),this.selectLeftPadding=parseInt(this.clearUnits(getComputedStyle(this.selectTag).paddingLeft)),this.selectRightPadding=parseInt(this.clearUnits(getComputedStyle(this.selectTag).paddingRight)),this.selectLeftBorder=parseInt(this.clearUnits(getComputedStyle(this.selectTag).borderLeftWidth)),this.selectRightBorder=parseInt(this.clearUnits(getComputedStyle(this.selectTag).borderRightWidth)),this.selectWidth=this.clearUnits(getComputedStyle(this.selectTag).width)-this.selectLeftPadding-this.selectRightPadding-this.selectLeftBorder-this.selectRightBorder},this.checkEllipsisNeed=function(){var t=this.selectTag.options[this.selectTag.selectedIndex].text,e=t.width(this.selectFont),n=this.$selectContainer.children(".ellipsis-cover").length>0?!0:!1;e>this.selectWidth&&!n?this.showEllispsis():e<this.selectWidth&&n&&this.hideEllipsis()},this.bindEvents=function(){var t=this;r(document).ready(function(){t.setSelectMeasures(),t.checkEllipsisNeed()}),this.$selectContainer.parents(".collapse").on("shown.bs.collapse",function(){t.setSelectMeasures(),t.checkEllipsisNeed()}),r(this.selectTag).change(function(){t.setSelectMeasures(),t.checkEllipsisNeed()}),r(window).resize(function(){t.setSelectMeasures(),t.checkEllipsisNeed()})},this.bindEvents()}var r=t("jquery"),s="[data-select-onload]";i.prototype.bindEvents=function(){r(s).on("change",function(){var t=r(this).val(),e=App.urls.test.fichePaysColis+t+App.urls.test.fichePaysColisExt;window.location.href=e})},e.exports=i,new i,String.prototype.width=function(t){var e=t||"20px Arial",n=r("<div>"+this+"</div>").css({position:"absolute","float":"left","white-space":"nowrap",visibility:"hidden",font:e}).appendTo(r("body")),i=n.width();return n.remove(),i},r(".select-ellipsis-container").each(function(t,e){new a(e)})},{}],84:[function(t,e,n){function i(t,e){var n,i=o(o(t).attr(l));i.length&&(e||s(i),n=i.find(d),t.checked?r(n):a(n,e))}function a(t,e){t.attr("readonly",!1),e||t.val("")}function r(t){t.each(function(t,e){var n=o(e).attr(u);o(e).attr("readonly",!0).val(n)})}function s(t){t.find(".has-error").removeClass("has-error").end().find(".error").remove()}var o=t("jquery"),l="data-set-defaults",c="["+l+"]",u="data-default",d="input["+u+"]";o(function(){o(document).on("change",c,function(t){var e=t.target;i(e)}),o(c).each(function(t,e){var n=e;i(n,!0)})})},{}],85:[function(t,e,n){"use strict";function i(){this.createLinkedIn(),this.createFB()}var a=t("jquery"),r=".linkedin";i.prototype.createLinkedIn=function(){var t=document.createElement("script");t.setAttribute("type","IN/Share"),a(r).append(t)},i.prototype.createTwitter=function(){!function(t,e,n){var i,a=t.getElementsByTagName(e)[0],r=/^http:/.test(t.location)?"http":"https";t.getElementById(n)||(i=t.createElement(e),i.id=n,i.src=r+"://platform.twitter.com/widgets.js",a.parentNode.insertBefore(i,a))}(document,"script","twitter-wjs")},i.prototype.createFB=function(){!function(t,e,n){var i,a=t.getElementsByTagName(e)[0];t.getElementById(n)||(i=t.createElement(e),i.id=n,i.src="//connect.facebook.net/fr_FR/sdk.js#xfbml=1&version=v2.0",a.parentNode.insertBefore(i,a))}(document,"script","facebook-jssdk")},new i},{}],86:[function(t,e,n){var i=t("jquery");i(function(){var t=i(".special-options"),e=t.find("[data-option]");e.click(function(t){t.stopPropagation(),e.addClass("inactive").removeClass("active"),i(this).removeClass("inactive").addClass("active").find("input[type=radio]").prop("checked",!0)})})},{}],87:[function(t,e,n){"use strict";var i,a=t("jquery"),r=a("[data-numvoie]").attr("id"),s=a('label[for="'+r+'"]').text(),o=function(){this.bindEvents()};o.prototype.bindEvents=function(){i=this,a("[data-city]").on("focusout",function(){i.toggleRequiredNumvoie(a(this).val())})},o.prototype.toggleRequiredNumvoie=function(t){-1!==t.toLowerCase().search(" cedex")?(a("[data-numvoie]").removeAttr("required").attr("aria-required","false"),a("[data-numvoie]").parents(".has-error").removeClass("has-error"),a("[data-numvoie]").siblings(".form-control-feedback").remove(),s=s.replace(" *","")):(a("[data-numvoie]").attr("required","true").attr("aria-required","true"),s=s.replace(" *",""),s+=" *"),a('label[for="'+r+'"]').text(s)},e.exports=o,new o},{}],88:[function(t,e,n){"use strict";var i,a=t("jquery"),r="#pays",s="#form-company-type",o="#form-tva",l=a(r).val(),c="",u=["gp","mq","gf","re","pm","yt","bl","mf","tf","wf","pf","nc","ip"],d=["fr","de","at","be","bg","cy","hr","dk","es","ee","fi","gr","hu","ie","it","lv","lt","lu","mt","nl","pl","pt","cz","ro","gb","sk","si","se"],p=a("#form-company-type").val(),h=!0,f=["individualCompany","publicSector","autoEntrepreneur","association","autres"],g='label[for="form-tva"]',m=a(g).text(),v="",y=function(){this.bindEvents(),a(r+", "+s).trigger("change")};y.prototype.bindEvents=function(){i=this,a(r).on("change",function(){l=a(this).val(),c="world";for(var t=0;t<d.length;t++)l===d[t]&&(c="UE");for(var t=0;t<u.length;t++)l===u[t]&&(c="DomTom");i.toggleInputs()}),a(s).on("change",function(){p=a(this).val(),h=!0;for(var t=0;t<f.length;t++)p===f[t]&&(h=!1);i.toggleInputs()})},y.prototype.toggleInputs=function(){"UE"===c?(a(o).parents(".form-group").show(),"fr"===l&&h===!1?(a(o).removeAttr("required").attr("aria-required",!1),v=m.replace("*",""),a(o).valid()):(a(o).attr("required","required").attr("aria-required",!0),v=m),a(g).text(v)):"DomTom"===c?(a(o).parents(".form-group").hide(),a(g).text(m)):(a(o).parents(".form-group").hide(),a(g).text(m))},e.exports=y,new y},{}],89:[function(t,e,n){"use strict";var i,a,r,s,o,l,c=t("jquery"),u="select#pays",d="select.phone-filter-select",p=function(){this.init(),this.bindEvents()};p.prototype.init=function(){a=c(u).length>0?c(u).val():"fr",r=c(d).val()},p.prototype.bindEvents=function(){l=this,c(u).on("change",function(){a=c(this).val(),s=c(this).data("target"),c(s).each(function(){r=c(this).find("select").length>0?c(this).find("select").val():!1,l.setCountryScheme(a,r),l.setNewControl(c(this).find("input"),i,o),""!==c(this).find("input").not(":hidden").val()&&c(this).find("input").valid()})}),c(d).on("change",function(){r=c(this).val(),s=c(this).data("target"),l.setCountryScheme(a,r),l.setNewControl(c(s),i,o),""!==c(s).val()&&c(s).valid()}),c(d).length>0&&c(d).trigger("change"),c(u).length>0&&c(u).trigger("change"),c(".phone").each(function(){c(this).find("input").on("focusout",function(){""!==c(this).val()&&c(this).valid()})})},p.prototype.setNewControl=function(t,e,n){c(t).attr("pattern",e),c(t).attr("data-error-message-pattern",n)},p.prototype.setCountryScheme=function(t,e){if(e)if("fr"===t||"nfr"===t||"france"===t||"France"===t)switch(e){case"MOBILE":i="^[0][6-7][0-9]{8}$",o=App.i18n.errors.mobilePhone?App.i18n.errors.mobilePhone:"Veuillez saisir un numro de tel mobile.";break;case"LANDLINE":i="^[0][1-5|8-9][0-9]{8}$",o=App.i18n.errors.homePhone?App.i18n.errors.homePhone:"Veuillez saisir un numro de tel fixe."}else i="^(\\+?(\\d{1,3}))?([-. (]*(\\d{3})[-. )]*)?((\\d{3})[-. ]*(\\d{2,4})(?:[-.x ]*(\\d+))?)\\s*$",o=App.i18n.errors.defaultPhone?App.i18n.errors.defaultPhone:"Veuillez saisir un numro de tel valide.";else"fr"===t?(i="^[0][6-7][0-9]{8}$",o=App.i18n.errors.mobilePhone?App.i18n.errors.mobilePhone:"Veuillez saisir un numro de tel mobile."):(i="^(\\+?(\\d{1,3}))?([-. (]*(\\d{3})[-. )]*)?((\\d{3})[-. ]*(\\d{2,4})(?:[-.x ]*(\\d+))?)\\s*$",o=App.i18n.errors.defaultPhone?App.i18n.errors.defaultPhone:"Veuillez saisir un numro de tel valide.");
},e.exports=p,new p},{}],90:[function(t,e,n){"use strict";var i,a,r=t("jquery"),s=r("#form-company-type").val(),o=r("#form-tva").val(),l=r("#adresse-postale-pro"),c=l.find("input, select"),u=l.closest("form"),d=[],p=[],h=!0,f=!0,g=!1,m=function(){this.init(),this.bindEvents()};m.prototype.init=function(){i=this,setTimeout(function(){a=r("#form-tva").is(":visible")},10),c.each(function(){d.push(r(this).val())})},m.prototype.updateInputs=function(){c.each(function(){p.push(r(this).val())})},m.prototype.checkChanges=function(){h=d.length===p.length&&d.every(function(t,e){return t===p[e]})},m.prototype.bindEvents=function(){i=this,c.on("change",function(){p=[],i.updateInputs(),i.checkChanges()}),r('[data-type="submit"]').on("touchstart click",function(t){var e=r(this).attr("data-action");h||(t.preventDefault(),r('input#action[type="hidden"]').val(e),u.trigger("submit"))}),u.on("submit",function(){return 0===r(this).find(".has-error").length?(i.popinToggler(),f=g?r(".modal").is(":visible")?!0:!1:!0):void 0})},m.prototype.popinToggler=function(){r("#form-company-type").val()!==s||r("#form-tva").val()!==o||a!==r("#form-tva").is(":visible")?(g=!0,r("#form-tva").val(o),r("#form-company-type").val(s),h?r("#modif-partial").modal("show"):r("#modif-all").modal("show"),f=!1):(g=!1,f=!0)},e.exports=m,new m},{}],91:[function(t,e,n){"use strict";var i=t("jquery"),a="[data-upload]",r=[],s=[],o=[],l=function(){this.init()};l.prototype.init=function(){function t(t){var e=t.siblings(".upload-custom"),n=(e.filter(".selected"),t.prevAll(".upload-custom").length,i(".upload-custom"));i(".file-list").find("tr").length;o.length||t.parent().find(".upload-custom").each(function(){o.push(i(this).find(".fileupload").val())}),n.addClass("hidden"),n.each(function(){return""===i('input[type="file"]',this).val()?(i(this).removeClass("hidden"),!1):void 0})}function e(e){if(window.File&&window.FileReader&&window.FileList&&window.Blob){var n=i(e),a=n.parent(),o=n[0].files||[],l=n.closest("fieldset").find(".file-list"),c=App.upload.maximum,u=(App.upload.fileCount+1,n.siblings("p.error")),d=n.closest("[data-filename]").data("filename"),p=function(t){var e=t[0].name;return e=e.substr(e.lastIndexOf(".")+1).toLowerCase(),"jpg"===e||"jpeg"===e||"png"===e||"pdf"===e||"doc"===e||"docx"===e||"txt"===e||"xls"===e||"odt"===e?!0:!1},h=function(t){var e=!0,n=t[0].size;return n>c&&(e=!1),e};if(h(o))if(p(o)){if(i("table#upload").removeClass("hidden"),l.length||(l=i('<tbody class="file-list"></tbody>').appendTo(n.closest("fieldset").find("table#upload"))),-1===i.inArray(n.val(),r)){var f=o[0].name.replace(/\.[^/.]+$/,""),g=i('<tr><td><span class="icon-light icon-sm icon-file"></span>'+o[0].name+'</td><td><label class="sr-only" for="'+f+'">Description du fichier</label><input type="text" id="'+f+'" name="'+d+'" class="docDesc fake-input" placeholder="Description ..."></td><td class="text-center"><a href="javascript:void(0);" class="btn-icon-only"><span class="icon-trash icon-sm text-info"></span><span class="sr-only">Supprimer</span></a></td></tr>');g.data("targetInput",n).data("targetFileName",n.val()).data("targetFileDesc",i("span.docDesc").text()).appendTo(l),a.siblings(".upload-custom.hidden").length?a.addClass("hidden"):(n[0].disabled=!0,n.siblings(".file-text").hide(),a.addClass("disabled")),g.on("click.remove",".icon-trash",function(){var e=i(this).closest("tr"),n=e.data("targetInput"),a=e.data("targetFileName"),o=e.data("targetFileDesc"),l=n.parent();e.remove(),n[0].disabled=!1,n.siblings(".file-text").show(),n.replaceWith(n.clone()),r.splice(r.indexOf(a),1),s.splice(s.indexOf(o),1),t(l),r.length<1&&i("table#upload").addClass("hidden")}),t(n.closest(".upload-custom").siblings(".upload-custom.hidden:first")),n.siblings("p.error").hide(),r.push(n.val()),s.push(i("span.docDesc").text())}}else n.val(""),u.length?u.html("Ce format n'est pas autoris").show():i('<p class="error">Ce format n\'est pas autoris</p>').appendTo(a),n.siblings("p.file-holder").remove(),n.siblings(".file-text").show();else n.val(""),u.length?u.html(App.upload.warningMsg).show():i('<p class="error">'+App.upload.warningMsg+"</p>").appendTo(a),n.siblings("p.file-holder").remove(),n.siblings(".file-text").show()}}i(function(){i(document).on("change.print.data-api",a,function(){e(this)})})},e.exports=l,new l},{}],92:[function(t,e,n){"use strict";function i(){a=this,this.bindEvents()}var a,r=t("jquery"),s="[data-validation-disabled]",o="[data-validation-toggler]",l=r(o).length,c=[],u="[data-target-popin]",d="[data-validation-popin]",p=r(d).attr("data-target"),h=!1;i.prototype.bindEvents=function(){a=this,a.setState("disable"),a.checkElementsValue(),r(o).on("change",function(){c=[],a.checkElementsValue(),a.checkValidElements()}),r(u).on("change",function(){r(this).valid(),h=""!==r(u).val()?!0:!1}),r(d).on("click",function(){h?r(p).modal("show"):r(d).parents("form").submit()})},i.prototype.setState=function(t){switch(t){case"disable":r(s).attr("disabled","disabled");break;case"enable":r(s).removeAttr("disabled")}},i.prototype.checkElementsValue=function(){r(o).each(function(){""!==r(this).val()&&c.push(r(this).val())})},i.prototype.checkValidElements=function(){a=this,c.length<l?a.setState("disable"):a.setState("enable")},e.exports=i,new i},{}],93:[function(t,e,n){"use strict";function i(){this.bindEvents()}var a,r=t("jquery"),s=(t("lodash"),t("../ui/loader")),o="[data-ajax-toggle]";if(i.prototype.bindEvents=function(){a=this,r(o).on("click",function(){var t=r(this).attr("data-year"),e=r(this).attr("data-month"),n=r(this).attr("data-target"),i=r(this).attr("data-href"),a=r(this).attr("data-loading-text");r(this).parent(".panel").siblings(".collapse").hasClass("in")?r(this).parent(".panel").siblings(".collapse").collapse("hide"):0===r(this).parent().siblings(".collapse").children().length?(s.showLoader(),r(n).html(a),r.ajax({url:i,data:{month:e,year:t,id:n}}).done(function(t){r(n).html(t).collapse("show"),s.hideLoader()})):r(this).parent(".panel").siblings(".collapse").collapse("show")})},o.length)var i=new i;e.exports=i},{"../ui/loader":129,lodash:166}],94:[function(t,e,n){"use strict";var i=t("jquery"),a=(t("../ui/loader"),t("../plugins/validator"),'[data-content="login"]'),r=i(a).data("ajax-logged"),s=(i(a).data("ajax-anonyme"),"[data-webmail-name]"),o="[data-webmail-msg]",l=54e4,c=App.i18n.webmail.domain,u=function(){i(a).length&&i.when(this.getScriptEngine(),this.getScriptMC()).done(this.init)};u.prototype.init=function(){window.dwr.engine.setRpcType(window.dwr.engine.ScriptTag),window.MessagesCounter._path=c+"/dwr";var t="MessagesCounter.getNbUnreadMessagesAndFirstName(updateLienMessagerie);";setTimeout(t,0);var e="MessagesCounter.getNbUnreadMessagesAndFirstName(updateLienMessagerie);";setInterval(e,l)},u.prototype.getScriptMC=function(){var t=i.Deferred();return i.getScript(c+"/dwr/interface/MessagesCounter.js",function(){t.resolve()}),t.promise()},u.prototype.getScriptEngine=function(){var t=i.Deferred();return i.getScript(c+"/dwr/engine.js",function(){t.resolve()}),t.promise()},i(function(){new u}),window.updateLienMessagerie=function(t){if("-1"!==t){var e=t.split(":"),n=e[0],l=e[1];i.ajax({url:r}).done(function(t){i(a).html(t),i(s).html(" "+n),"0"===l?i(o).html(App.i18n.webmail.showEmptyMsg):"1"===l?i(o).html(App.i18n.webmail.showMsg1+l+App.i18n.webmail.showMsg2singulier):l>1&&i(o).html(App.i18n.webmail.showMsg1+l+App.i18n.webmail.showMsg2pluriel)})}}},{"../plugins/validator":109,"../ui/loader":129}],95:[function(t,e,n){"use strict";function i(){r.bindAll(this,"init","render","links","update","hashify","destroy"),a(this.init)}var a=t("jquery"),r=t("lodash"),s=t("../utils/strings-operations"),o=(t("../utils/helpers"),"a[href]:not([data-no-xtor])"),l="data-zone";i.prototype.init=function(){this.template=r.template("#xtor=<%= page_type %>-[<%= site_name %>]-[<%= product_name %>]-[<%= button_type %>]-[<%= page_name %>]"),this.$links=this.links(),this.render()},i.prototype.render=function(){var t=window.App.config.xtor;this.$links.attr(l,t["default"]||""),this.links("#header").attr(l,t.header||""),this.links("#footer").attr(l,t.footer||"");var e=this;this.$links.each(this.update),a(document).ajaxSuccess(function(){e.$links=e.links(),e.$links.each(e.update)})},i.prototype.links=function(t){return t=t||"body",a(o,t).filter(function(){return"boutique.laposte.fr"===this.hostname||"pro.boutique.laposte.fr"===this.hostname})},i.prototype.update=function(t,e){var n=a(e),i=n.attr("href");/#/.test(i)||n.attr({"data-href":i,href:i+this.hashify(n)})},i.prototype.hashify=function(t){var e=window.tc_vars||{},n=t.text().toLowerCase().indexOf("commander")>=0,i="navigation",a=e.nom_site||"";switch(App.config.currentSpace){case"particulier":a="Part";break;case"professionnel":a="Pro";break;case"entreprise":a="Entreprises";break;case"e-commercant":a="ECommercants";break;case"toutsurletimbre":a="Collectionneurs";break;case"service-consommateurs":a="serviceconso";break;case"accueil":a="lapostenet"}var r=e.xiti_page_name||"",o=t.attr(l)||"",c=this.getProductName(t),u=location.href;"object"==typeof r&&(r=r.options.label);var d=u.indexOf("/courriers-colis/")>=0||u.indexOf("(store)")>=0||u.indexOf("(page)")>=0||u.indexOf("/produits")>=0||u.indexOf("/calculateur-de-tarif")>=0?!0:!1;u.indexOf("/courriers-colis/conseils-pratiques")>=0&&(d=!1),u.indexOf("/vie-numerique/conseils-pratiques")>=0&&(d=!1),t.attr("data-product")&&(d=!0);var p=c.match(/\[(.*?)\]/);return p&&(c=p[1]),n&&(i="commander"),d&&o!==App.config.xtor.header&&o!==App.config.xtor.footer&&(o=App.config.xtor.products||""),this.template({page_type:o,page_name:r,site_name:s.slugify(a),button_type:s.slugify(i),product_name:c})},i.prototype.getProductName=function(t){if(t.data("label-xtor")){var e=t.data("label-xtor");return e}var n=t.get(0).innerText;return s.slugifyXtor(n)},i.prototype.destroy=function(){this.$links.each(function(t,e){e.href=a(e).attr("data-href")})},e.exports=new i},{"../utils/helpers":133,"../utils/strings-operations":140,lodash:166}],96:[function(t,e,n){"use strict";var i=t("jquery"),a="a[data-ajax-collapse]",r="[data-put-collapse]",s=i(a).attr("title");i(a).each(function(t,e){i(e).attr("title",s+App.i18n.buttons.closed),i(e).on("ajax.complete",function(t){i(i(t.target).data("target")).collapse("toggle")});var n=i(e).attr("data-target");i(n).on("shown.bs.collapse",function(t){i(e).attr("title",s+App.i18n.buttons.open),i("html, body").animate({scrollTop:i(n).offset().top},200)}),i(n).on("hidden.bs.collapse",function(t){i(e).attr("title",s+App.i18n.buttons.closed),i("html, body").animate({scrollTop:i(e).offset().top},200)}),i(document.body).on("touchstart click",n+" .close",function(){i(n).collapse("toggle")})}),i(r).each(function(t,e){var n=null,a=i(e).data("put-collapse");a&&(n=JSON.stringify(a)),i(e).on("click",function(){var t=App.urls.putCollapse;i.ajax({url:t,contentType:"application/json",type:"PUT",data:n})})})},{}],97:[function(t,e,n){"use strict";function i(t){this.opts=t,this.$el=a(t.el),r.bindAll(this,"load","always","complete","fail");var e=this.$el.get(0).tagName;return this.isButton="A"===e||"BUTTON"===e,this.isButton?(this.$el.on("click.ajax.data-api",this.load),this.$target=a(this.$el.data("target")),this.url=this.$el.attr("href")):(this.$target=this.$el,this.url=this.$el.data("content-url"),this.load()),this}var a=t("jquery"),r=t("lodash"),s=t("../ui/loader"),o='[data-ajax="true"]';i.prototype.load=function(t){return s.showLoader(),void 0!==t&&t.preventDefault(),this.isButton&&this.$el.addClass("disabled"),a.ajax(this.url,{data:{ajax:!0}}).always(this.always).fail(this.fail).done(this.complete)},i.prototype.always=function(t){this.isButton&&this.$el.removeClass("disabled"),s.hideLoader()},i.prototype.fail=function(t){window.console.log("Ajaxr: An error occured")},i.prototype.complete=function(t){this.$target.html(t),a(this.$el).trigger("ajax.complete")},a(o).each(function(t,e){new i({el:e})}),e.exports=i},{"../ui/loader":129,lodash:166}],98:[function(t,e,n){"use strict";var i=t("jquery");t("moment/locale/fr.js");var a,r=t("moment"),s=t("../ui/bpinfosdisplay"),o=t("../webservices/acores-query"),l=function(t,e,n,r){var l;if("undefined"==typeof n&&console.warn("No URL for Web service, you gonna have bad time"),a=this,a.promise=i.Deferred(),a.dateFormat=t,a.bpID=e,a.isPopin=r,n)l=i(".findBP-new").attr("data-json"),a.query=new o(l,{b:"1"}).then(a._parse,a.dispatchError);else{this.bpID=e;new s(a,!0)}};l.prototype._parse=function(t){a.datas=t,"undefined"!=typeof a.datas.bureaux&&(a.bpID=Object.keys(a.datas.bureaux)[0]),a.timer=setTimeout(a.affInfo,1e3)},l.prototype.dispatchError=function(t){if("object"==typeof t&&"error"in t){var e=new Error(t.error);e.name="WSErrorNotFound",console.log("WSErrorNotFound"),this.promise.reject(e)}else console.log("Unhandled WS error"),this.promise.reject("Unhandled WS error")},l.prototype.affInfo=function(){clearTimeout(a.timer);new s(a,!0)},l.prototype.dayText=function(t){var e=r(t,this.dateFormat).format("dddd").capitalizeFirstLetter(),n=r(t,this.dateFormat).format("DD"),i=r(t,this.dateFormat).format("MMMM").capitalizeFirstLetter(),a=r(t,this.dateFormat).format("YYYY");return e+" "+n+" "+i+" "+a},l.prototype.general=function(){var t=this.datas.bureaux[this.bpID],e="undefined"!=typeof t?t.general:{};return e},l.prototype.openHours=function(t){var e=this.datas.bureaux[this.bpID],n=e.horaires[t],i="undefined"!=typeof n?n.horaires:[];return i},l.prototype.limitHours=function(t){var e=null,n=null;n=this.datas.bureaux[this.bpID],e=n.horaires[t];var i=[];return"undefined"==typeof e?i:i=e.heures_limites},l.prototype.transfertDatas=function(t){var e=null,n=this.datas.bureaux[this.bpID];e=n.horaires[t];var i="undefined"!=typeof e?e.transfert:[];return i},l.prototype.accessibility=function(){var t=null;t=this.datas.bureaux[this.bpID];var e=t.accessiblite;return e},l.prototype.accessibilityAccess=function(){var t=null;t=this.datas.bureaux[this.bpID];var e=t.accessiblite,n=[];return Object.keys(e).forEach(function(t){if(t.indexOf("_mr")>-1){var i={};i[t]=e[t],n.push(i)}}),n},l.prototype.accessibilitySuitableOffice=function(){var t=null;t=this.datas.bureaux[this.bpID];var e=t.accessiblite,n=[];return Object.keys(e).forEach(function(t){if(-1===t.indexOf("_mr")){var i={};i[t]=e[t],n.push(i)}}),n},l.prototype.services=function(){var t=null;t=this.datas.bureaux[this.bpID];var e=t.services;return e},l.prototype.hasSubstituteBP=function(t){var e=null,n=null;return e=this.datas.bureaux[this.bpID],n=e.horaires[t],"undefined"==typeof n?!0:n.transfert?0===n.transfert.length?!1:!0:void 0},e.exports=l},{"../ui/bpinfosdisplay":127,"../webservices/acores-query":143,moment:168,"moment/locale/fr.js":167}],99:[function(t,e,n){"use strict";var i=t("jquery");t("moment/locale/fr.js");var a=(t("moment"),t("../../components")),r=function(){this.loadPeriodTable()};r.prototype.loadPeriodTable=function(){this.periodTable=new a.PeriodColissimo(i("[data-days-opening-hours]"))},e.exports=r},{"../../components":24,moment:168,"moment/locale/fr.js":167}],100:[function(t,e,n){"use strict";function i(t){return"undefined"==typeof window.cookies&&(window.cookies=[]),"undefined"!=typeof window.cookies[t]?window.cookies[t]:(window.cookies[t]=this,this.cookieName=t,this.stack=[],this.expire=864e5,this.domaine=null,this.eventList={},void this.init())}var a=t("jquery");t("jquery.cookie"),i.prototype.init=function(){var t=this.get(this.cookieName);"undefined"!=typeof t&&(this.stack=JSON.parse(this.get(this.cookieName)))},i.prototype.getByItem=function(t,e){for(var n=[],i=0;i<this.stack.length;i++)this.stack[i][t]===e&&n.push(i);return n},i.prototype.focus=function(t){return this.cookieName=t,this},i.prototype.addItem=function(t){return this.stack.push(t),this.updateItems(),this},i.prototype.setItem=function(t){return this.stack=t,this.updateItems(),this},i.prototype.set=function(t,e){var n=null===e?-1:this.expire,i=null===e?-1:this.domain;return this.trigger("change"),a.cookie(t,e,{expires:n,domain:i,path:"/"}),this},i.prototype.trigger=function(t){if("undefined"!=typeof this.eventList[t])for(var e=0;e<this.eventList[t].length;e++)this.eventList[t][e]()},i.prototype.off=function(t,e){"undefined"!=typeof this.eventList[t]&&delete this.eventList[t]},i.prototype.on=function(t,e){"undefined"==typeof this.eventList[t]&&(this.eventList[t]=[]),this.eventList[t].push(e)},i.prototype.get=function(){return a.cookie(this.cookieName)},i.prototype.deleteCookie=function(){return this.set(this.cookieName,null),this.stack=[],this},i.prototype.deleteItem=function(t){return this.stack.splice(t,1),this.updateItems(),this},i.prototype.deleteItemByItem=function(t,e){for(var n=this.getByItem(t,e),i=0;i<n.length;i++)this.deleteItem(n[i]);return this},i.prototype.updateItems=function(){return this.set(this.cookieName,JSON.stringify(this.stack)),this},i.prototype.getAll=function(){for(var t=document.cookie.split(";"),e={},n=0;n<t.length;n++){var i=t[n].split("=");i[0]=a.trim(i[0]),e[i[0]]=JSON.parse(window.unescape(i[1]))}return e},e.exports=i},{"jquery.cookie":164}],101:[function(t,e,n){"use strict";function i(){this.init()}var a=t("jquery");i.prototype.init=function(){a(document).on("keydown.access.focusHandler.data-api",function(t){9===t.which&&a("[data-access-helper]").addClass(function(){return a(this).attr("data-access-helper")})})},new i,e.exports=i},{}],102:[function(t,e,n){"use strict";function i(){var t=o("#calculator").parent().siblings(".page-header"),e=20,n=t.offset().top-e;o("html, body").animate({scrollTop:n},600)}function a(t,e){var n=parseInt(e.data);t.css({height:n,opacity:"1"})}function r(t,e,n){var r=new RegExp(n.origin,"gi");if(null!==e.match(r))if(isNaN(n.data))if("http"===n.data.toString().substring(0,4)){var s=n.data;document.location=s.toString()}else i();else a(t,n)}function s(t,e){window.addEventListener?window.addEventListener("message",function(n){r(t,e,n)},!1):window.attachEvent&&window.attachEvent("onmessage",function(n){r(t,e,n)},!1)}var o=t("jquery");o(function(){if(o("#calculator").length){var t,e=document.createElement("a");e.href=o("#calculator").attr("src"),t=e.protocol+"//"+e.hostname,""!==e.port&&(t+=":"+e.port),s(o("#calculator"),t)}})},{}],103:[function(t,e,n){n.bootstrapDropdown=t("bootstrap.dropdown"),n.bootstrapModal=t("bootstrap.modal"),n.bootstrapTransition=t("bootstrap.transition"),n.bootstrapCollapse=t("bootstrap.collapse"),n.bootstrapTab=t("bootstrap.tab"),n.ajax=t("./ajax"),n.ajaxCollapse=t("./ajax-collapse"),n.validator=t("./validator"),n.cookiesManager=t("./cookies-manager"),n.video=t("./video"),n.focus=t("./focus"),n.iframe=t("./iframe"),n.employer=t("./val-employer"),n.address=t("./val-address")},{"./ajax":97,"./ajax-collapse":96,"./cookies-manager":100,"./focus":101,"./iframe":102,"./val-address":107,"./val-employer":108,"./validator":109,"./video":110,"bootstrap.collapse":2,"bootstrap.dropdown":3,"bootstrap.modal":4,"bootstrap.tab":5,"bootstrap.transition":6}],104:[function(t,e,n){function i(t){this.extend(i,window.google.maps.OverlayView),this.tabs_=[],this.activeTab_=null,this.baseZIndex_=100,this.isOpen_=!1;var e=t||{};void 0==e.backgroundColor&&(e.backgroundColor=this.BACKGROUND_COLOR_),void 0==e.borderColor&&(e.borderColor=this.BORDER_COLOR_),void 0==e.borderRadius&&(e.borderRadius=this.BORDER_RADIUS_),void 0==e.borderWidth&&(e.borderWidth=this.BORDER_WIDTH_),void 0==e.padding&&(e.padding=this.PADDING_),void 0==e.arrowPosition&&(e.arrowPosition=this.ARROW_POSITION_),void 0==e.disableAutoPan&&(e.disableAutoPan=!1),void 0==e.disableAnimation&&(e.disableAnimation=!1),void 0==e.minWidth&&(e.minWidth=this.MIN_WIDTH_),void 0==e.shadowStyle&&(e.shadowStyle=this.SHADOW_STYLE_),void 0==e.arrowSize&&(e.arrowSize=this.ARROW_SIZE_),void 0==e.arrowStyle&&(e.arrowStyle=this.ARROW_STYLE_),this.buildDom_(),this.setValues(e)}window.InfoBubble=i,i.prototype.ARROW_SIZE_=15,i.prototype.ARROW_STYLE_=0,i.prototype.SHADOW_STYLE_=1,i.prototype.MIN_WIDTH_=50,i.prototype.ARROW_POSITION_=50,i.prototype.PADDING_=10,i.prototype.BORDER_WIDTH_=1,i.prototype.BORDER_COLOR_="#ccc",i.prototype.BORDER_RADIUS_=10,i.prototype.BACKGROUND_COLOR_="#fff",i.prototype.extend=function(t,e){return function(t){for(var e in t.prototype)this.prototype[e]=t.prototype[e];return this}.apply(t,[e])},i.prototype.buildDom_=function(){var t=this.bubble_=document.createElement("DIV");t.style.position="absolute",t.style.zIndex=this.baseZIndex_;var e=this.tabsContainer_=document.createElement("DIV");e.style.position="relative";var n=this.close_=document.createElement("IMG");n.style.position="absolute",n.style.width=this.px(12),n.style.height=this.px(12),n.style.border=0,n.style.zIndex=this.baseZIndex_+1,n.style.cursor="pointer",n.src="/bundles/digitaslapostebase/images/picto/close-btn-infobubble.png";var i=this;window.google.maps.event.addDomListener(n,"mousedown",function(){i.close(),window.google.maps.event.trigger(i,"closeclick")});var a=this.contentContainer_=document.createElement("DIV");a.style.overflowX="auto",a.style.overflowY="auto",a.style.cursor="default",a.style.clear="both",a.style.position="relative";var r=this.content_=document.createElement("DIV");a.appendChild(r);var s=this.arrow_=document.createElement("DIV");s.style.position="relative";var o=this.arrowOuter_=document.createElement("DIV"),l=this.arrowInner_=document.createElement("DIV"),c=this.getArrowSize_();o.style.position=l.style.position="absolute",o.style.left=l.style.left="50%",o.style.height=l.style.height="0",o.style.width=l.style.width="0",o.style.marginLeft=this.px(-c),o.style.borderWidth=this.px(c),o.style.borderBottomWidth=0;var u=this.bubbleShadow_=document.createElement("DIV");u.style.position="absolute",t.style.display=u.style.display="none",t.appendChild(this.tabsContainer_),t.appendChild(n),t.appendChild(a),s.appendChild(o),s.appendChild(l),t.appendChild(s);var d=document.createElement("style");d.setAttribute("type","text/css"),this.animationName_="_ibani_"+Math.round(1e4*Math.random());var p="."+this.animationName_+"{-webkit-animation-name:"+this.animationName_+";-webkit-animation-duration:0.5s;-webkit-animation-iteration-count:1;}@-webkit-keyframes "+this.animationName_+" {from {-webkit-transform: scale(0)}50% {-webkit-transform: scale(1.2)}90% {-webkit-transform: scale(0.95)}to {-webkit-transform: scale(1)}}";d.textContent=p,document.getElementsByTagName("head")[0].appendChild(d)},i.prototype.setBackgroundClassName=function(t){this.set("backgroundClassName",t)},i.prototype.setBackgroundClassName=i.prototype.setBackgroundClassName,i.prototype.backgroundClassName_changed=function(){this.content_.className=this.get("backgroundClassName")},i.prototype.backgroundClassName_changed=i.prototype.backgroundClassName_changed,i.prototype.setTabClassName=function(t){this.set("tabClassName",t)},i.prototype.setTabClassName=i.prototype.setTabClassName,i.prototype.tabClassName_changed=function(){this.updateTabStyles_()},i.prototype.tabClassName_changed=i.prototype.tabClassName_changed,i.prototype.getArrowStyle_=function(){return parseInt(this.get("arrowStyle"),10)||0},i.prototype.setArrowStyle=function(t){this.set("arrowStyle",t)},i.prototype.setArrowStyle=i.prototype.setArrowStyle,i.prototype.arrowStyle_changed=function(){this.arrowSize_changed()},i.prototype.arrowStyle_changed=i.prototype.arrowStyle_changed,i.prototype.getArrowSize_=function(){return parseInt(this.get("arrowSize"),10)||0},i.prototype.setArrowSize=function(t){this.set("arrowSize",t)},i.prototype.setArrowSize=i.prototype.setArrowSize,i.prototype.arrowSize_changed=function(){this.borderWidth_changed()},i.prototype.arrowSize_changed=i.prototype.arrowSize_changed,i.prototype.setArrowPosition=function(t){this.set("arrowPosition",t)},i.prototype.setArrowPosition=i.prototype.setArrowPosition,i.prototype.getArrowPosition_=function(){return parseInt(this.get("arrowPosition"),10)||0},i.prototype.arrowPosition_changed=function(){var t=this.getArrowPosition_();this.arrowOuter_.style.left=this.arrowInner_.style.left=t+"%",this.redraw_()},i.prototype.arrowPosition_changed=i.prototype.arrowPosition_changed,i.prototype.setZIndex=function(t){this.set("zIndex",t)},i.prototype.setZIndex=i.prototype.setZIndex,i.prototype.getZIndex=function(){return parseInt(this.get("zIndex"),10)||this.baseZIndex_},i.prototype.zIndex_changed=function(){var t=this.getZIndex();this.bubble_.style.zIndex=this.baseZIndex_=t,this.close_.style.zIndex=t+1},i.prototype.zIndex_changed=i.prototype.zIndex_changed,i.prototype.setShadowStyle=function(t){this.set("shadowStyle",t)},i.prototype.setShadowStyle=i.prototype.setShadowStyle,i.prototype.getShadowStyle_=function(){return parseInt(this.get("shadowStyle"),10)||0},i.prototype.shadowStyle_changed=function(){var t=this.getShadowStyle_(),e="",n="",i="";switch(t){case 0:e="none";break;case 1:n="40px 15px 10px rgba(33,33,33,0.3)",i="transparent";break;case 2:n="0 0 2px rgba(33,33,33,0.3)",i="rgba(33,33,33,0.35)"}this.bubbleShadow_.style.boxShadow=this.bubbleShadow_.style.webkitBoxShadow=this.bubbleShadow_.style.MozBoxShadow=n,this.bubbleShadow_.style.backgroundColor=i,this.isOpen_&&(this.bubbleShadow_.style.display=e,this.draw())},i.prototype.shadowStyle_changed=i.prototype.shadowStyle_changed,i.prototype.showCloseButton=function(){this.set("hideCloseButton",!1)},i.prototype.showCloseButton=i.prototype.showCloseButton,i.prototype.hideCloseButton=function(){this.set("hideCloseButton",!0)},i.prototype.hideCloseButton=i.prototype.hideCloseButton,i.prototype.hideCloseButton_changed=function(){this.close_.style.display=this.get("hideCloseButton")?"none":""},i.prototype.hideCloseButton_changed=i.prototype.hideCloseButton_changed,i.prototype.setBackgroundColor=function(t){t&&this.set("backgroundColor",t)},i.prototype.setBackgroundColor=i.prototype.setBackgroundColor,i.prototype.backgroundColor_changed=function(){var t=this.get("backgroundColor");this.contentContainer_.style.backgroundColor=t,this.arrowInner_.style.borderColor=t+" transparent transparent",this.updateTabStyles_()},i.prototype.backgroundColor_changed=i.prototype.backgroundColor_changed,i.prototype.setBorderColor=function(t){t&&this.set("borderColor",t)},i.prototype.setBorderColor=i.prototype.setBorderColor,i.prototype.borderColor_changed=function(){var t=this.get("borderColor"),e=this.contentContainer_,n=this.arrowOuter_;e.style.borderColor=t,n.style.borderColor=t+" transparent transparent",e.style.borderStyle=n.style.borderStyle=this.arrowInner_.style.borderStyle="solid",this.updateTabStyles_()},i.prototype.borderColor_changed=i.prototype.borderColor_changed,i.prototype.setBorderRadius=function(t){this.set("borderRadius",t)},i.prototype.setBorderRadius=i.prototype.setBorderRadius,i.prototype.getBorderRadius_=function(){return parseInt(this.get("borderRadius"),10)||0},i.prototype.borderRadius_changed=function(){var t=this.getBorderRadius_(),e=this.getBorderWidth_();this.contentContainer_.style.borderRadius=this.contentContainer_.style.MozBorderRadius=this.contentContainer_.style.webkitBorderRadius=this.bubbleShadow_.style.borderRadius=this.bubbleShadow_.style.MozBorderRadius=this.bubbleShadow_.style.webkitBorderRadius=this.px(t),this.tabsContainer_.style.paddingLeft=this.tabsContainer_.style.paddingRight=this.px(t+e),this.redraw_()},i.prototype.borderRadius_changed=i.prototype.borderRadius_changed,i.prototype.getBorderWidth_=function(){return parseInt(this.get("borderWidth"),10)||0},i.prototype.setBorderWidth=function(t){this.set("borderWidth",t)},i.prototype.setBorderWidth=i.prototype.setBorderWidth,i.prototype.borderWidth_changed=function(){var t=this.getBorderWidth_();this.contentContainer_.style.borderWidth=this.px(t),this.tabsContainer_.style.top=this.px(t),this.updateArrowStyle_(),this.updateTabStyles_(),this.borderRadius_changed(),this.redraw_()},i.prototype.borderWidth_changed=i.prototype.borderWidth_changed,i.prototype.updateArrowStyle_=function(){var t=this.getBorderWidth_(),e=this.getArrowSize_(),n=this.getArrowStyle_(),i=this.px(e),a=this.px(Math.max(0,e-t)),r=this.arrowOuter_,s=this.arrowInner_;this.arrow_.style.marginTop=this.px(-t),r.style.borderTopWidth=i,s.style.borderTopWidth=a,0==n||1==n?(r.style.borderLeftWidth=i,s.style.borderLeftWidth=a):r.style.borderLeftWidth=s.style.borderLeftWidth=0,0==n||2==n?(r.style.borderRightWidth=i,s.style.borderRightWidth=a):r.style.borderRightWidth=s.style.borderRightWidth=0,2>n?(r.style.marginLeft=this.px(-e),s.style.marginLeft=this.px(-(e-t))):r.style.marginLeft=s.style.marginLeft=0,0==t?r.style.display="none":r.style.display=""},i.prototype.setPadding=function(t){this.set("padding",t)},i.prototype.setPadding=i.prototype.setPadding,i.prototype.getPadding_=function(){return parseInt(this.get("padding"),10)||0},i.prototype.padding_changed=function(){var t=this.getPadding_();this.contentContainer_.style.padding=this.px(t),this.updateTabStyles_(),this.redraw_()},i.prototype.padding_changed=i.prototype.padding_changed,i.prototype.px=function(t){return t?t+"px":t},i.prototype.addEvents_=function(){var t=["mousedown","mousemove","mouseover","mouseout","mouseup","mousewheel","DOMMouseScroll","touchend","touchmove","dblclick","contextmenu"],e=this.bubble_;this.listeners_=[];for(var n,i=0;n=t[i];i++)this.listeners_.push(window.google.maps.event.addDomListener(e,n,function(t){"touchend"!==t.type?(t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()):(t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation(),$(t.target).trigger("click"))}))},i.prototype.onAdd=function(){this.bubble_||this.buildDom_(),this.addEvents_();var t=this.getPanes();t&&(t.floatPane.appendChild(this.bubble_),t.floatShadow.appendChild(this.bubbleShadow_))},i.prototype.onAdd=i.prototype.onAdd,i.prototype.draw=function(){var t=this.getProjection();if(t){var e=this.get("position");if(!e)return void this.close();var n=0;this.activeTab_&&(n=this.activeTab_.offsetHeight);var i=this.getAnchorHeight_(),a=this.getArrowSize_(),r=this.getArrowPosition_();r/=100;var s=t.fromLatLngToDivPixel(e),o=this.contentContainer_.offsetWidth,l=this.bubble_.offsetHeight;if(o){var c=s.y-(l+a);i&&(c-=i);var u=s.x-o*r;this.bubble_.style.top=this.px(c),this.bubble_.style.left=this.px(u);var d=parseInt(this.get("shadowStyle"),10);switch(d){case 1:this.bubbleShadow_.style.top=this.px(c+n-1),this.bubbleShadow_.style.left=this.px(u),this.bubbleShadow_.style.width=this.px(o),this.bubbleShadow_.style.height=this.px(this.contentContainer_.offsetHeight-a);break;case 2:o=.8*o,i?this.bubbleShadow_.style.top=this.px(s.y):this.bubbleShadow_.style.top=this.px(s.y+a),this.bubbleShadow_.style.left=this.px(s.x-o*r),this.bubbleShadow_.style.width=this.px(o),this.bubbleShadow_.style.height=this.px(2)}}}},i.prototype.draw=i.prototype.draw,i.prototype.onRemove=function(){this.bubble_&&this.bubble_.parentNode&&this.bubble_.parentNode.removeChild(this.bubble_),this.bubbleShadow_&&this.bubbleShadow_.parentNode&&this.bubbleShadow_.parentNode.removeChild(this.bubbleShadow_);for(var t,e=0;t=this.listeners_[e];e++)window.google.maps.event.removeListener(t)},i.prototype.onRemove=i.prototype.onRemove,i.prototype.isOpen=function(){return this.isOpen_},i.prototype.isOpen=i.prototype.isOpen,i.prototype.close=function(){this.bubble_&&(this.bubble_.style.display="none",this.bubble_.className=this.bubble_.className.replace(this.animationName_,"")),this.bubbleShadow_&&(this.bubbleShadow_.style.display="none",this.bubbleShadow_.className=this.bubbleShadow_.className.replace(this.animationName_,"")),this.isOpen_=!1},i.prototype.close=i.prototype.close,i.prototype.open=function(t,e){t&&this.setMap(t),e&&(this.set("anchor",e),this.bindTo("anchorPoint",e),this.bindTo("position",e)),this.bubble_.style.display=this.bubbleShadow_.style.display="";var n=!this.get("disableAnimation");n&&(this.bubble_.className+=" "+this.animationName_,this.bubbleShadow_.className+=" "+this.animationName_),this.redraw_(),this.isOpen_=!0;var i=!this.get("disableAutoPan");if(i){var a=this;window.setTimeout(function(){a.panToView()},200)}},i.prototype.open=i.prototype.open,i.prototype.setPosition=function(t){t&&this.set("position",t);
},i.prototype.setPosition=i.prototype.setPosition,i.prototype.getPosition=function(){return this.get("position")},i.prototype.getPosition=i.prototype.getPosition,i.prototype.position_changed=function(){this.draw()},i.prototype.position_changed=i.prototype.position_changed,i.prototype.panToView=function(){var t=this.getProjection();if(t&&this.bubble_){var e=this.getAnchorHeight_(),n=this.bubble_.offsetHeight+e,i=this.get("map"),a=i.getDiv(),r=a.offsetHeight,s=this.getPosition(),o=t.fromLatLngToContainerPixel(i.getCenter()),l=t.fromLatLngToContainerPixel(s),c=o.y-n,u=r-o.y,d=0>c,p=0;d&&(c*=-1,p=(c+u)/2),l.y-=p,s=t.fromContainerPixelToLatLng(l),i.getCenter()!=s&&i.panTo(s)}},i.prototype.panToView=i.prototype.panToView,i.prototype.htmlToDocumentFragment_=function(t){t=t.replace(/^\s*([\S\s]*)\b\s*$/,"$1");var e=document.createElement("DIV");if(e.innerHTML=t,1==e.childNodes.length)return e.removeChild(e.firstChild);for(var n=document.createDocumentFragment();e.firstChild;)n.appendChild(e.firstChild);return n},i.prototype.removeChildren_=function(t){if(t)for(var e;e=t.firstChild;)t.removeChild(e)},i.prototype.setContent=function(t){this.set("content",t)},i.prototype.setContent=i.prototype.setContent,i.prototype.getContent=function(){return this.get("content")},i.prototype.getContent=i.prototype.getContent,i.prototype.content_changed=function(){if(this.content_){this.removeChildren_(this.content_);var t=this.getContent();if(t){"string"==typeof t&&(t=this.htmlToDocumentFragment_(t)),this.content_.appendChild(t);for(var e,n=this,i=this.content_.getElementsByTagName("IMG"),a=0;e=i[a];a++)window.google.maps.event.addDomListener(e,"load",function(){n.imageLoaded_()});window.google.maps.event.trigger(this,"domready")}this.redraw_()}},i.prototype.content_changed=i.prototype.content_changed,i.prototype.imageLoaded_=function(){var t=!this.get("disableAutoPan");this.redraw_(),!t||0!=this.tabs_.length&&0!=this.activeTab_.index||this.panToView()},i.prototype.updateTabStyles_=function(){if(this.tabs_&&this.tabs_.length){for(var t,e=0;t=this.tabs_[e];e++)this.setTabStyle_(t.tab);this.activeTab_.style.zIndex=this.baseZIndex_;var n=this.getBorderWidth_(),i=this.getPadding_()/2;this.activeTab_.style.borderBottomWidth=0,this.activeTab_.style.paddingBottom=this.px(i+n)}},i.prototype.setTabStyle_=function(t){var e=this.get("backgroundColor"),n=this.get("borderColor"),i=this.getBorderRadius_(),a=this.getBorderWidth_(),r=this.getPadding_(),s=this.px(-Math.max(r,i)),o=this.px(i),l=this.baseZIndex_;t.index&&(l-=t.index);var c={cssFloat:"left",position:"relative",cursor:"pointer",backgroundColor:e,border:this.px(a)+" solid "+n,padding:this.px(r/2)+" "+this.px(r),marginRight:s,whiteSpace:"nowrap",borderRadiusTopLeft:o,MozBorderRadiusTopleft:o,webkitBorderTopLeftRadius:o,borderRadiusTopRight:o,MozBorderRadiusTopright:o,webkitBorderTopRightRadius:o,zIndex:l,display:"inline"};for(var u in c)t.style[u]=c[u];var d=this.get("tabClassName");void 0!=d&&(t.className+=" "+d)},i.prototype.addTabActions_=function(t){var e=this;t.listener_=window.google.maps.event.addDomListener(t,"click",function(){e.setTabActive_(this)})},i.prototype.setTabActive=function(t){var e=this.tabs_[t-1];e&&this.setTabActive_(e.tab)},i.prototype.setTabActive=i.prototype.setTabActive,i.prototype.setTabActive_=function(t){if(!t)return void this.setContent("");var e=this.getPadding_()/2,n=this.getBorderWidth_();if(this.activeTab_){var i=this.activeTab_;i.style.zIndex=this.baseZIndex_-i.index,i.style.paddingBottom=this.px(e),i.style.borderBottomWidth=this.px(n)}t.style.zIndex=this.baseZIndex_,t.style.borderBottomWidth=0,t.style.marginBottomWidth="-10px",t.style.paddingBottom=this.px(e+n),this.setContent(this.tabs_[t.index].content),this.activeTab_=t,this.redraw_()},i.prototype.setMaxWidth=function(t){this.set("maxWidth",t)},i.prototype.setMaxWidth=i.prototype.setMaxWidth,i.prototype.maxWidth_changed=function(){this.redraw_()},i.prototype.maxWidth_changed=i.prototype.maxWidth_changed,i.prototype.setMaxHeight=function(t){this.set("maxHeight",t)},i.prototype.setMaxHeight=i.prototype.setMaxHeight,i.prototype.maxHeight_changed=function(){this.redraw_()},i.prototype.maxHeight_changed=i.prototype.maxHeight_changed,i.prototype.setMinWidth=function(t){this.set("minWidth",t)},i.prototype.setMinWidth=i.prototype.setMinWidth,i.prototype.minWidth_changed=function(){this.redraw_()},i.prototype.minWidth_changed=i.prototype.minWidth_changed,i.prototype.setMinHeight=function(t){this.set("minHeight",t)},i.prototype.setMinHeight=i.prototype.setMinHeight,i.prototype.minHeight_changed=function(){this.redraw_()},i.prototype.minHeight_changed=i.prototype.minHeight_changed,i.prototype.addTab=function(t,e){var n=document.createElement("DIV");n.innerHTML=t,this.setTabStyle_(n),this.addTabActions_(n),this.tabsContainer_.appendChild(n),this.tabs_.push({label:t,content:e,tab:n}),n.index=this.tabs_.length-1,n.style.zIndex=this.baseZIndex_-n.index,this.activeTab_||this.setTabActive_(n),n.className=n.className+" "+this.animationName_,this.redraw_()},i.prototype.addTab=i.prototype.addTab,i.prototype.updateTab=function(t,e,n){if(!(!this.tabs_.length||0>t||t>=this.tabs_.length)){var i=this.tabs_[t];void 0!=e&&(i.tab.innerHTML=i.label=e),void 0!=n&&(i.content=n),this.activeTab_==i.tab&&this.setContent(i.content),this.redraw_()}},i.prototype.updateTab=i.prototype.updateTab,i.prototype.removeTab=function(t){if(!(!this.tabs_.length||0>t||t>=this.tabs_.length)){var e=this.tabs_[t];e.tab.parentNode.removeChild(e.tab),window.google.maps.event.removeListener(e.tab.listener_),this.tabs_.splice(t,1),delete e;for(var n,i=0;n=this.tabs_[i];i++)n.tab.index=i;e.tab==this.activeTab_&&(this.tabs_[t]?this.activeTab_=this.tabs_[t].tab:this.tabs_[t-1]?this.activeTab_=this.tabs_[t-1].tab:this.activeTab_=void 0,this.setTabActive_(this.activeTab_)),this.redraw_()}},i.prototype.removeTab=i.prototype.removeTab,i.prototype.getElementSize_=function(t,e,n){var i=document.createElement("DIV");i.style.display="inline",i.style.position="absolute",i.style.visibility="hidden","string"==typeof t?i.innerHTML=t:i.appendChild(t.cloneNode(!0)),document.body.appendChild(i);var a=new window.google.maps.Size(i.offsetWidth,i.offsetHeight);return e&&a.width>e&&(i.style.width=this.px(e),a=new window.google.maps.Size(i.offsetWidth,i.offsetHeight)),n&&a.height>n&&(i.style.height=this.px(n),a=new window.google.maps.Size(i.offsetWidth,i.offsetHeight)),document.body.removeChild(i),delete i,a},i.prototype.redraw_=function(){this.figureOutSize_(),this.positionCloseButton_(),this.draw()},i.prototype.figureOutSize_=function(){var t=this.get("map");if(t){var e=this.getPadding_(),n=(this.getBorderWidth_(),this.getBorderRadius_(),this.getArrowSize_()),i=t.getDiv(),a=2*n,r=i.offsetWidth-a,s=i.offsetHeight-a-this.getAnchorHeight_(),o=0,l=this.get("minWidth")||0,c=this.get("minHeight")||0,u=this.get("maxWidth")||0,d=this.get("maxHeight")||0;u=Math.min(r,u),d=Math.min(s,d);var p=0;if(this.tabs_.length)for(var h,f=0;h=this.tabs_[f];f++){var g=this.getElementSize_(h.tab,u,d),m=this.getElementSize_(h.content,u,d);l<g.width&&(l=g.width),p+=g.width,c<g.height&&(c=g.height),g.height>o&&(o=g.height),l<m.width&&(l=m.width),c<m.height&&(c=m.height)}else{var v=this.get("content");if("string"==typeof v&&(v=this.htmlToDocumentFragment_(v)),v){var m=this.getElementSize_(v,u,d);l<m.width&&(l=m.width),c<m.height&&(c=m.height)}}u&&(l=Math.min(l,u)),d&&(c=Math.min(c,d)),l=Math.max(l,p),l==p&&(l+=2*e),n=2*n,l=Math.max(l,n),l>r&&(l=r),c>s&&(c=s-o),this.tabsContainer_&&(this.tabHeight_=o,this.tabsContainer_.style.width=this.px(p)),this.contentContainer_.style.width=this.px(l),this.contentContainer_.style.height=this.px(c)}},i.prototype.getAnchorHeight_=function(){var t=this.get("anchor");if(t){var e=this.get("anchorPoint");if(e)return-1*e.y}return 0},i.prototype.anchorPoint_changed=function(){this.draw()},i.prototype.anchorPoint_changed=i.prototype.anchorPoint_changed,i.prototype.positionCloseButton_=function(){var t=(this.getBorderRadius_(),this.getBorderWidth_()),e=2,n=2;this.tabs_.length&&this.tabHeight_&&(n+=this.tabHeight_),n+=t,e+=t;var i=this.contentContainer_;i&&i.clientHeight<i.scrollHeight&&(e+=15),this.close_.style.top=this.px(15),this.close_.style.right=this.px(10)},e.exports=i},{}],105:[function(t,e,n){"use strict";var i=t("jquery"),a=function(){this.bindEvents()};a.prototype.bindEvents=function(){this.listeners()},a.prototype.listeners=function(){var t=this;i("[data-form-el-related-to]").each(function(e,n){var a=i(this).data("form-el-related-to");if(!a)return!0;var r=a.event;i(this).off(r).on(r,t.disableRadio)})},a.prototype.disableRadio=function(t){var e=i(t.currentTarget).attr("name");e=e.split("[").join("\\[").split("]").join("\\]"),i("input[name="+e+"]").each(function(){var t=i(this).data("form-el-related-to");if(!t)return!0;var e=i(t.slave),n=i(this).is(":checked");e.prop("disabled",n)})},a.prototype.getFuncType=function(t,e){var n=null;switch(t){case"disableRadio":n=this.disableRadio(e);break;default:n=this["default"](e)}return n},e.exports=new a},{}],106:[function(t,e,n){"use strict";var i=t("jquery"),a=function(t,e){var n=i(t),a=i(e);n.is("select")||console.warn("Class SelectFilter - The master is not a select tag"),a.is("select")||console.warn("Class SelectFilter - The slave is not a select tag");var r,s,o,l;n.trigger("change"),n.on("change",function(){o=i(this).find(":selected"),s=o.attr("data-select-filter-master"),a.find("option").each(function(){r=i(this).attr("data-select-filter-master"),r.indexOf(s)>-1?i(this).show():i(this).hide()}),l=a.find(":selected"),l.attr("data-select-filter-master").indexOf(s)<=-1&&a.find(":selected").filter("option:first:visible").prop("selected",!0)})};e.exports=a},{}],107:[function(t,e,n){"use strict";var i,a=t("jquery");"undefined"!=typeof generatedObject&&(generatedObject.title&&a("#title option:eq("+generatedObject.title+")").prop("selected",!0),generatedObject.name&&a("#nom").val(generatedObject.name),generatedObject.apartment&&a("#ligne2").val(generatedObject.apartment),generatedObject.building&&a("#ligne3").val(generatedObject.building),generatedObject.streetNum&&a("#ligne4").val(generatedObject.streetNum),generatedObject.extraInfoAddress&&a("#ligne5").val(generatedObject.extraInfoAddress),generatedObject.postalCode&&a("#ligne6").val(generatedObject.postalCode)),a("#ligne3").on("change",function(){i=a(this).find("option:selected").text(),-1!==i.indexOf("(")?a("#ligne4").val(i.substring(i.lastIndexOf("(")+1,i.lastIndexOf(")"))):a("#ligne4").val("")})},{}],108:[function(t,e,n){"use strict";function i(){this.getPartial()}var a=t("jquery");t("velocity-animate");i.prototype.getPartial=function(t){var e=this;a("#recygo-form").submit(function(t){t.preventDefault();var n=a("#ipt-employees-number").val();a("#recygo-form").find(".has-error").length?(a(".track-panel").empty(),e._handleTagging(!1)):n&&a.ajax({url:App.WS.urlRecygo,data:{nEmployee:n}}).success(function(t){a(".track-panel").html(t).velocity("slideDown",{duration:300}),e._handleTagging(!0)}).fail(function(){window.console.error("Ooops.. server error")})})},i.prototype._handleTagging=function(t){var e=a('[type="submit"]',"#recygo-form"),n=a(".error","#recygo-form").text();if(n=n.toLowerCase(),n=n.replace(/\s+/g,"_"),n=n.split(".")[0],"function"==typeof window.tc_events_1){var i={};i.LABEL=t?"outils::calculateur_recygo::resultat":"outils::calculateur_recygo::formulaire_erreur_"+n,i.xtclick_event="F",i.xtclick_s2=App.config.locator.env,i.xtclick_type="N",window.tc_events_1(e,"CLICK",i)}},new i},{"velocity-animate":173}],109:[function(t,e,n){"use strict";function i(t){this.$el=a(t),this.bindValidator(),this.bindUppercase(),this.bindReset(),this.bindReturn(),this.bindCountryChange()}var a=t("jquery"),r=t("lodash"),s=t("iban"),o=t("jsvat"),l=t("siret"),c=t("velocity-animate");t("jquery.validate"),t("velocity-animate/velocity.ui");var u="",d="form[data-validate]";r.each(a.validator.messages,function(t,e){a.validator.messages[e]=a.validator.format(App.i18n.errors[e])}),a.validator.addMethod("validate-zipcode-or-city",function(t,e){var n=new RegExp("^"+a(e).attr("pattern")+"$");return this.optional(e)||n.test(t)},App.i18n.errors.zipcodeOrCity),a.validator.addMethod("validate-zipcode-country",function(t,e){var n,i=a(e).closest("form").find("#pays");if(i.length&&""!==i.val().toLowerCase()){n=i.val().toLowerCase();var r;return"fr"===n||"France"===n||"france"===n||"nfr"===n?(r=new RegExp("^(\\d{5})$"),this.optional(e)||r.test(t)):(r=new RegExp("^[a-zA-Z0-9 \\-]{3,10}$"),this.optional(e)||r.test(t))}return!1},function(t,e){var n=a(e).closest("form").find("#pays"),i="";return i=n.length&&""!==n.val().toLowerCase()?App.i18n.errors.zipcode:App.i18n.errors.selectCountry,String(i)}),a.validator.addMethod("validate-file-name",function(t,e){if(this.optional(e))return!0;if(!e.files||1!==e.files.length)return!1;var n=/^[a-zA-Z\d\-_\.]+$/gi;return n.test(e.files[0].name)},App.i18n.errors.badFileName),a.validator.addMethod("validate-file-extension",function(t,e){if(this.optional(e))return!0;if(!e.files||1!==e.files.length)return!1;var n=e.files[0].name,i=r.findIndex(App.i18n.forms.fileExtensions,function(t){return t===n.slice(n.lastIndexOf(".")).toLowerCase()});return i>=0},App.i18n.errors.badFileExtension),a.validator.addMethod("validate-file-size",function(t,e){if(this.optional(e))return!0;if(!e.files||1!==e.files.length)return!1;var n=a(e).attr("data-file-max-size"),i=1048576*n,r=e.files[0].size<i;return r},App.i18n.errors.maxFileSizeReached),a.validator.addMethod("validate-pattern",function(t,e){var n=new RegExp("^"+a(e).attr("pattern")+"$");return this.optional(e)||n.test(t)},App.i18n.errors.pattern),a.validator.addMethod("validate-pattern-custom",function(t,e){var n=new RegExp("^"+a(e).attr("pattern")+"$");return this.optional(e)||n.test(t)},function(t,e){var n=a(e).attr("data-error-message-pattern");return String(n)}),a.validator.addMethod("validate-zipcode",function(t,e){var n=new RegExp("^"+a(e).attr("pattern")+"$");return this.optional(e)||n.test(t)},App.i18n.errors.zipcode),a.validator.addMethod("validate-firstname",function(t,e){var n=new RegExp("^[a-zA-Z ,.'-]+$");return this.optional(e)||n.test(t)},App.i18n.errors.firstname),a.validator.addMethod("validate-equal-to",function(t,e){var n=a(a(e).data("validateEqualto"));return t===n.val()},App.i18n.errors.equalTo),a.validator.addMethod("validate-phone",function(t,e){var n=new RegExp("^(([0-9][1-9][0-9]{8,18})|([1-9][0-9]{9,19}))$");return this.optional(e)||n.test(t)},App.i18n.errors.phone),a.validator.addMethod("validate-email",function(t,e){return this.optional(e)||/^[A-Za-z0-9_]+([-+.'][A-Za-z0-9_]+)*@[A-Za-z0-9_]+([-.][A-Za-z0-9_]+)*\.[A-Za-z0-9_]+([-.][A-Za-z0-9_]+)*/.test(t)&&/^(?=.{1,64}@.{4,64}$)(?=.{6,100}$).*/.test(t)},App.i18n.errors.email),a.validator.addMethod("validate-email-2",function(t,e){return this.optional(e)||new RegExp(/^([\w\.\-\+]+)@([\w\.\-]+)\.([a-z0-9]){2,}$/,"i").test(t)},App.i18n.errors.email),a.validator.addMethod("validate-facteur-plus",function(t,e){return t=t.toUpperCase(),this.optional(e)||regex.test(t)},App.i18n.errors.facteurplus),a.validator.addMethod("validate-password",function(t,e){var n=new RegExp("^(?=.*[a-zA-Z])(?=.*[\\d]).{8,128}$");return this.optional(e)||n.test(t)},App.i18n.errors.password),a.validator.addMethod("validate-equal-to-password",a.validator.methods["validate-equal-to"],App.i18n.errors.equalToPassword),a.validator.addMethod("validate-fulldate",function(t,e){var n=new RegExp("(([0-2][0-9])|([3][0-1]))/(([0][1-9])|([1][0-2]))/([2][0][0-9][0-9])");return this.optional(e)||n.test(t)},"mauvaise date"),a.validator.addMethod("validate-day",function(t,e){var n=new RegExp("^"+a(e).attr("pattern")+"$");return this.optional(e)||n.test(t)},App.i18n.errors.birthDay),a.validator.addMethod("validate-month",function(t,e){var n=new RegExp("^"+a(e).attr("pattern")+"$");return this.optional(e)||n.test(t)},App.i18n.errors.birthMonth),a.validator.addMethod("validate-year",function(t,e){var n=new RegExp("^"+a(e).attr("pattern")+"$"),i=(new Date).getFullYear();return this.optional(e)||n.test(t)&&i+1>t},App.i18n.errors.birthYear),a.validator.addMethod("validate-date",function(t,e){var n,i,r,s,o,l,c,u,d=a(".date-birth-validation");return n=d.find("#day").val(),i=d.find("#month").val(),r=d.find("#year").val(),l=a(e).hasClass("required"),u=!n&&!i&&!r,n&&i&&r?(s=i+"/"+n+"/"+r,o=new Date(s),c=isFinite(o)&&parseInt(s.split("/")[0])===o.getMonth()+1&&""!==r,c||a(".date-birth-validation").find(".form-control-feedback").html(App.i18n.errors.date),c):!l&&u?!0:!1},App.i18n.errors.date),a.validator.addMethod("validate-n-checkboxes",function(t,e){var n="[data-validate-n-checkboxes]",i=a(n).data("validate-n-checkboxes-errmsg"),r=a(n).data("validate-n-checkboxes"),s=0,o=!1;return s=a(e).parents(n).find('input[type="checkbox"]:checked').length,r>s?(a(n).find('input[type="checkbox"]'),o=!1):s===r&&(a(n).find('input[type="checkbox"]'),o=!0),o?(a(e).parents(n).find(".form-group").removeClass("has-error"),a(e).parents("form").find("fieldset.inverse").removeClass("has-error").find(".form-control-feedback").html("").hide(),!0):(a(e).parents(n).find(".form-group").addClass("has-error"),a(e).parents("form").find("fieldset.inverse").addClass("has-error").find(".form-control-feedback").html(i).show(),!1)}),a.validator.addMethod("validate-adult",function(t,e){var n,i,r,s,o,l,c,u,d,p,h,f,g=!1,m=a(".date-birth-validation");return i=m.find("#day").val(),r=m.find("#month").val(),s=m.find("#year").val(),l=a(e).hasClass("required"),c=!i&&!r&&!s,n=m.data("errmsg"),c?!l&&c?!0:!1:(o=r+"/"+i+"/"+s,u=new Date(o),d=new Date,p=d.getFullYear()-s,p>18?g=!0:18===p&&(h=d.getMonth()+1-r,h>0?g=!0:0===h&&(f=d.getDate()-i,f>=0&&(g=!0))),g||a(".date-birth-validation").find(".form-control-feedback").html(n?n:App.i18n.errors.adult),g)},function(t,e){var n=a(e).parents(".date-birth-validation").data("errmsg");return String(n?n:App.i18n.errors.adult)}),a.validator.addMethod("validate-letters",function(t,e){return this.optional(e)||/^[a-z]+$/i.test(t)},"Letters only please"),a.validator.addMethod("validate-isInteger",function(t,e){return Number(t)===parseInt(t,10)},App.i18n.errors.integer),a.validator.addMethod("validate-isEmpty",function(t,e){return Boolean(t)},App.i18n.errors.calculatorRequired),a.validator.addMethod("validate-valoremIsEmpty",function(t,e){return Boolean(t)},App.i18n.errors.calculatorValoremRequired),a.validator.addMethod("validate-lower-than-1000",function(t,e){return u=parseInt(a(e).attr("data-lower-than-value"),10),u?u>t:!0},App.i18n.errors.lessThanValue1000),a.validator.addMethod("validate-lower-than-1500",function(t,e){var n=parseInt(a(e).attr("data-lower-than-value"),10);return n?n>t:!0},App.i18n.errors.lessThanValue1500),a.validator.addMethod("validate-lower-than-2000",function(t,e){return u=parseInt(a(e).attr("data-lower-than-value"),10),u?u>t:!0},App.i18n.errors.lessThanValue2000),a.validator.addMethod("validate-lower-than-3000",function(t,e){return u=parseInt(a(e).attr("data-lower-than-value"),10),u?u>t:!0},App.i18n.errors.lessThanValue3000),a.validator.addMethod("validate-lower-than-20000",function(t,e){return u=parseInt(a(e).attr("data-lower-than-value"),10),u?u>t:!0},App.i18n.errors.lessThanValue20000),a.validator.addMethod("validate-lower-than-30000",function(t,e){return u=parseInt(a(e).attr("data-lower-than-value"),10),u?u>t:!0},App.i18n.errors.lessThanValue30000),a.validator.addMethod("validate-min-length",function(t,e){var n=a(e).data("validator"),i=n["upper-than-value"];return i?t.length>=i:!0},App.i18n.errors.minlength),a.validator.addMethod("validate-max-length",function(t,e){var n=a(e).data("validator"),i=n["lower-than-value"];return i?t.length<=i:!0},App.i18n.errors.maxlength),a.validator.addMethod("validate-suivi-length",function(t,e){var n=new RegExp("^([a-zA-Z0-9]{11}([a-zA-Z0-9]{2})?)?$");return n.test(t)},App.i18n.errors.numsuivi),a.validator.addMethod("validate-numenvoi-length",function(t,e){return t.length<11||13===t.length?!0:void 0},App.i18n.errors.numenvoi),a.validator.addMethod("validate-suivi-ewp",function(t,e){return/^([0-9a-zA-Z]{11,15})$/.test(t)},App.i18n.errors.numerosuivi_ewp),a.validator.addMethod("validate-suivi-hp-tools",function(t,e){return/^([0-9a-zA-Z]{11,15})$/.test(t)},App.i18n.errors.numerosuivi_hp_tools),a.validator.addMethod("validate-calculator-reco",function(t,e){return Boolean(t)},App.i18n.errors.niveauReco),a.validator.addMethod("validate-select-country",function(t,e){return Boolean(t)},App.i18n.errors.selectCountry),a.validator.addMethod("validate-select-territory",function(t,e){return Boolean(t)},App.i18n.errors.selectTerritory),a.validator.addMethod("validate-accepter-cgu",function(t,e){return Boolean(t)},App.i18n.errors.accepterCGU),a.validator.addMethod("ewp-other-people-notification",function(t,e){var n=a(e).data("input-related-to"),i=a("["+n+"]");return""===a(e).val()||i.is(":checked")?!0:!1},App.i18n.errors.selectOneNotification),a.validator.addMethod("validate-vat",function(t,e){var n=t.replace(/ /g,"");a(e).val(n);var i=o.checkVAT(t);return this.optional(e)||i.isValid},App.i18n.errors.vat),a.validator.addMethod("validate-siret",function(t,e){return l.isSIRET(t)},App.i18n.errors.siret),a.validator.addMethod("validate-iban",function(t,e){return s.isValid(t)},function(t,e){var n=a(e).data("error-message-pattern");return String(n)}),a.validator.addMethod("validate-bic",function(t,e){return/^([A-Z]{6}[A-Z2-9][A-NP-Z1-9])(X{3}|[A-WY-Z0-9][A-Z0-9]{2})?$/.test(t.toUpperCase())},function(t,e){var n=a(e).data("error-message-pattern");return String(n)}),a.validator.addMethod("validate-custom-regex",function(t,e){var n=a(e).attr("pattern"),i=new RegExp(n);return i.test(t)},function(t,e){var n=a(e).data("error-message-custom-regex")||"Le contenu de ce champ est invalide";return String(n)}),a.validator.addMethod("validate-if-checked",function(t,e){var n=a(e).data("error-message-if-checked"),i=a(n.id);return i.is(":checked")&&""===a(e).val().trim()?!1:!0},function(t,e){var n=a(e).data("error-message-if-checked"),i=n.message;return String(i)}),i.prototype.bindValidator=function(){var t=!navigator.userAgent.match(/Version\/[\d\.]+.*Safari/),e={highlight:function(t){a(t).closest(".form-group").addClass("has-error");var e=a(t).closest(".calculator-wrapper");null!==e&&e.addClass("error-calculator-wrapper")},unhighlight:function(t){a(t).closest(".calculator-wrapper").removeClass("error-calculator-wrapper"),a(t).closest(".form-group").removeClass("has-error")},errorPlacement:function(t,e){if((" "+e[0].className+" ").replace(/[\n\t]/g," ").indexOf(" validate-date ")>-1||(" "+e[0].className+" ").replace(/[\n\t]/g," ").indexOf(" validate-adult ")>-1)0===e.parents(".date-birth-validation").find(".form-control-feedback").length&&e.parents(".date-birth-validation").append(t.addClass("form-control-feedback"));else if("SELECT"===e[0].nodeName)e.parents(".select").after(t.addClass("form-control-feedback"));else if("INPUT"===e[0].nodeName&&0===a(e).siblings(".error").length)switch(e.attr("type")){case"checkbox":case"radio":e.closest(".checkbox-group").append(t.addClass("form-control-feedback"));break;case"file":var n=e.closest("[data-file-upload-wrapper]");n.length?n.after(t.addClass("form-control-feedback")):e.closest(".file-upload").find("input[readonly]").after(t.addClass("form-control-feedback"));break;default:e.after(t.addClass("form-control-feedback"))}},errorMessages:function(t,e){},invalidHandler:function(e,n){var i=a(n.errorList[0].element),s=a(i).closest(".panel"),o=a(this).data("validate-change-title");o&&"unchanged"===o&&(document.title=App.i18n.errors.formWithErrors+document.title,a(this).data("validate-change-title","changed")),a("[data-hide-on-error]").hide(),a("body, html").velocity("scroll",{offset:s.offset().top}),r.defer(function(){t&&c.animate([a(n.currentForm).find(".has-error .form-control-feedback"),a(n.currentForm).find(".has-error .form-control-feedback").siblings("input")],"callout.shake")})},onfocusout:function(t,e){if(a(t).hasClass("validate-date")){var n=a(t).closest(".form-group"),i=n.find("#day").val(),r=n.find("#month").val(),s=n.find("#year").val(),o=n.find("#day").hasClass("required");if(!(i&&r&&s)&&(i||r||s||o))return;this.element(t)}}};this.validator=this.$el.validate({errorElement:"p",highlight:e.highlight,unhighlight:e.unhighlight,errorPlacement:e.errorPlacement,invalidHandler:e.invalidHandler,focusInvalid:!1,onfocusout:e.onfocusout})},i.prototype.bindReset=function(){var t=this.$el.find("button[type=reset]");t.length&&a(t).on("click",this.reset.bind(this))},i.prototype.bindReturn=function(){a(".btn-action-back").on("click",function(t){t.preventDefault(),window.history.back()})},i.prototype.bindUppercase=function(){function t(t){t.val(t.val().toUpperCase())}a("input.text-uppercase").on("blur prefill",function(){t(a(this))}).each(function(){a(this).val().length&&t(a(this))})},i.prototype.bindCountryChange=function(){var t=this.validator,e=a("#pays").closest("form").find(".validate-zipcode-country");a("#pays").on("change",function(){var n=a(this).val().toLowerCase();e.length&&("france"===n||"nfr"===n||"fr"===n?e.attr("maxlength","5"):e.attr("maxlength","10")),e.length&&e.val().length>0&&t.element(".validate-zipcode-country")})},i.prototype.reset=function(){this.validator.resetForm(),a(".has-error",this.form).removeClass("has-error"),a(".form-control-feedback",this.form).fadeOut()},a(d).each(function(){new i(this)}),e.exports=i},{iban:160,jsvat:165,lodash:166,siret:169,"velocity-animate":173,"velocity-animate/velocity.ui":174}],110:[function(t,e,n){"use strict";var i=t("jquery");t("../utils/tracker"),t("jquery.pwplayer");var a="video:not([data-bypass])",r={uriFlashFallbackFolder:"videos/altFlash",uriTranslate:"videos/translate/fr.json",uriAssetsFolder:"videos/img",uriTranscript:"videos/transcript.pdf"};i(a).each(function(){i(this).pwplayer(i(this).data("video-opts")||r)}),i(document).on("shown",".modal",function(){i(a,this).each(function(){i(this).pwplayer(i(this).data("video-opts")||r)})}).on("hidden",".modal",function(){i(a,this).each(function(){i(this).pwplayer("pause")})})},{"../utils/tracker":141}],111:[function(t,e,n){var i=t("jade/runtime");e.exports=function(t){var e=[],n=t||{};return function(t){e.push('<div class="row"><div class="col-sm-4"></div><div class="col-sm-4"><p class="text-center"><img'+i.attr("src",t.urls.imgRadioSuccess,!0,!1)+' alt="success"/><b class="space-mls">Merci pour votre rponse</b></p></div><div class="col-sm-4"></div></div>')}.call(this,"App"in n?n.App:"undefined"!=typeof App?App:void 0),e.join("")}},{"jade/runtime":161}],112:[function(t,e,n){t("jade/runtime");e.exports=function(t){var e=[];return e.push('<option value="<%= value %>"><%= ville %></option>'),e.join("")}},{"jade/runtime":161}],113:[function(t,e,n){t("jade/runtime");e.exports=function(t){var e=[];return e.push('<li><a href="<%= link %>" title="<%= title %>" class="btn-icon-huge btn-icon-huge--favourites"><div class="btn-icon-huge__icon"></div><div class="btn-icon-huge__text"><%= title %></div></a></li>'),e.join("")}},{"jade/runtime":161}],114:[function(t,e,n){t("jade/runtime");e.exports=function(t){var e=[];return e.push('<li class="col-xs-6 col-md-4"><div class="tile tile--default <%= flag %>"><a href="<%= link %>" title="<%= title %>"><div class="tile__image-wrapper"><img src="<%= img %>" alt="<%= imgAlt %>"/></div><div class="tile__content-wrapper"><p class="tile__description"><%= title %></p></div></a><a href="#" title="Retirer des favoris" role="button" data-favouriteurl="<%= favUrl %>" data-favouriteid="<%= favId %>" data-tag-label="mon_compte::favoris::produit_service<%= item.label %>" class="toggle-fav is-favourite"><span>Retirer des favoris</span></a></div></li>'),e.join("")}},{"jade/runtime":161}],115:[function(t,e,n){var i=t("jade/runtime");e.exports=function(t){var e,n=[],a={},r=t||{};return function(t){a.badge=function(a,r,s){var o=this&&this.block;this&&this.attributes||{};if(s===t)var s="arrow-right";n.push('<p class="badge-wrapper"><span'+i.cls(["badge badge-"+a],[!0])+"><span"+i.cls(["icon-"+s],[!0])+"></span></span><span"+i.cls(["text-"+a],[!0])+"><em>"+i.escape(null==(e=r)?"":e)+"</em></span>"),o&&o(),n.push("</p>")},n.push('<div class="link-block"><div class="row row-height-children"><div class="col-xs-12"><div class="row"><div class="col-xs-2"><img src="images/badges/<%= item.pictoOffice %>" style="display: block; margin: auto;"/></div><div class="vcard col-xs-10"><h3 class="h4 fn space-mbn no-hover"><%= item.label %></h3><p class="org space-mbn"><em><% if (item.type === \'office\') { %> Bureau de poste <% } else { %>  Espace Entreprises <% } %></em></p><br/><address class="adr"><p><span class="street-address"><%= item.street %> <br></span><% if (item.street2) { %><span class="street-address"><%= item.street %> <br></span><% } %><span class="postal-code"><%= item.zipcode %> -&nbsp;</span><span class="locality"><%= item.city %> <br></span></p></address><% if (item.isOpen) { %>'),a.badge("success","Ouvert"),n.push(" <% } else { %>"),a.badge("muted","Ferm","close"),n.push('<% } %><a href="<%= item.url %>" title="<%= item.label %>" data-toggle="modal" data-target="#modalId" class="detailsBP btn-gradient-gray btn">Details </a></div></div></div></div></div>')}.call(this,"undefined"in r?r.undefined:void 0),n.join("")}},{"jade/runtime":161}],116:[function(t,e,n){var i=t("jade/runtime");e.exports=function(t){var e,n=[],a={},r=t||{};return function(t){a.badge=function(a,r,s){var o=this&&this.block;this&&this.attributes||{};if(s===t)var s="arrow-right";n.push('<p class="badge-wrapper"><span'+i.cls(["badge badge-"+a],[!0])+"><span"+i.cls(["icon-"+s],[!0])+"></span></span><span"+i.cls(["text-"+a],[!0])+"><em>"+i.escape(null==(e=r)?"":e)+"</em></span>"),o&&o(),n.push("</p>")},n.push('<div class="link-block"><div style="overflow: visible;" class="row row-height-children"><div class="col-xs-9 col-sm-10"><div class="row"><div class="col-xs-2"><img src="images/badges/<%= item.pictoOffice %>" style="display: block; margin: auto;"/></div><div class="vcard col-xs-10"><h3 class="h4 fn space-mbn no-hover"><%= item.label %></h3><p class="org space-mbn"><em><% if (item.type === \'office\') { %> Bureau de poste <% } else { %>  Espace Entreprises <% } %></em></p><br/><address class="adr"><p><span class="street-address"><%= item.street %> <br></span><% if (item.street2) { %><span class="street-address"><%= item.street %> <br></span><% } %><span class="postal-code"><%= item.zipcode %> -&nbsp;</span><span class="locality"><%= item.city %> <br></span></p></address><% if (item.isOpen) { %>'),a.badge("success","Ouvert"),n.push(" <% } else { %>"),a.badge("muted","Ferm","close"),n.push('<% } %></div></div></div><div class="col-xs-2"><a href="<%= item.url %>" title="<%= item.label %>" data-toggle="modal" data-target="#modalId" class="detailsBP btn-gradient-gray btn">Details</a></div></div></div>')}.call(this,"undefined"in r?r.undefined:void 0),n.join("")}},{"jade/runtime":161}],117:[function(t,e,n){var i=t("jade/runtime");e.exports=function(t){var e,n=[],a={};return a.link=function(t){var a=this&&this.block,r=this&&this.attributes||{};t||(t={}),"icon"in t||(t.icon=!1),"title"in t||(t.title=!0),"href"in t||(t.href="#"),"text"in t||(t.text=t.title),t.title?(n.push("<a"+i.attrs(i.merge([{href:i.escape(t.href),title:i.escape(t.title)},r]),!1)+">"+(null==(e=t.text)?"":e)+"</a>"),a&&a()):n.push("<a"+i.attrs(i.merge([{href:i.escape(t.href)},r]),!1)+">"+(null==(e=t.text)?"":e)+"</a>")},n.push('<div class="panel-default"><div class="panel-body"><span class="panel-form-label--result"><strong><%= nbResults %></strong> Rsultat<% if(nbResults > 1){ %>s<% } %></span><div class="panel-tabs"><ul role="tablist" class="nav nav-tabs nav-hibride"><li class="active">'),a.link.call({attributes:{"data-toggle":"tab","aria-hidden":"true","aria-role":"tab","aria-controls":"tab-maps",id:"tab-toggle-maps",
"aria-selected":"true",onclick:"javascript: return tc_events_1(this,'CLICK', {'label':'localiser::affichage::carte','xtclick_event':'C','xtclick_s2':1,'xtclick_type':'A'});","class":"icon-location"}},{title:"Vue carte - onglet actif",text:"Vue carte",href:"#tab-maps"}),n.push("</li><li>"),a.link.call({attributes:{"data-toggle":"tab","aria-controls":"tab-list",id:"tab-toggle-list","aria-role":"tab","aria-selected":"false",onclick:"javascript:return tc_events_1(this,'CLICK', {'label':'localiser::affichage::liste','xtclick_event':'C','xtclick_s2':1,'xtclick_type':'A'})","class":"icon-bars"}},{title:"Vue liste",href:"#tab-list"}),n.push('</li></ul><div class="tab-content"><div id="tab-maps" aria-hidden="true" role="tabpanel" aria-labelledby="tab-toggle-maps" class="tab-pane active"><div id="maps-post-dealers" data-infobubble="data-infobubble" class="gmap"></div></div><div id="tab-list" role="tabpanel" aria-labelledby="tab-toggle-list" class="tab-pane"></div></div></div></div></div>'),n.join("")}},{"jade/runtime":161}],118:[function(t,e,n){var i=t("jade/runtime");e.exports=function(t){var e,n=[],a={};return a.link=function(t){var a=this&&this.block,r=this&&this.attributes||{};t||(t={}),"icon"in t||(t.icon=!1),"title"in t||(t.title=!0),"href"in t||(t.href="#"),"text"in t||(t.text=t.title),t.title?(n.push("<a"+i.attrs(i.merge([{href:i.escape(t.href),title:i.escape(t.title)},r]),!1)+">"+(null==(e=t.text)?"":e)+"</a>"),a&&a()):n.push("<a"+i.attrs(i.merge([{href:i.escape(t.href)},r]),!1)+">"+(null==(e=t.text)?"":e)+"</a>")},n.push('<ul id="js-dealers-list" class="row list-hr list-unstyled"></ul><% if (nbPages > 1) { %><div class="border-top"></div><div class="pagination-wrapper"><p class="pagination-feedback">Page <%= currentPageIndex %> sur <%= nbPages %></p><ul class="pagination pull-right"><% if (currentPageIndex === 1) { %><li class="disabled">'),a.link.call({attributes:{href:"#","data-page":"prev",title:"Premire page","class":"icon-arrow-thin-left"}},{title:""}),n.push("</li><% } else { %><li>"),a.link.call({attributes:{href:"#","data-page":"prev",title:"Page prcdente","class":"icon-arrow-thin-left"}},{title:""}),n.push('</li><% } %>\n<% for (var i=1; i <= nbPages; i++ ) { %>\n<% if (currentPageIndex === i) { %><li class="active"><a title="Aller  la page <%= i %>" href="#" data-page="<%= i %>" role="button"><%= i %></a></li><% } else if((i >= nbPager) && (i <= nbPages - 1)) { %><li><a title="Aller  la page <%= i %>" href="#" data-page="<%= i %>" class="hidden"><%= i %></a></li><% } else { %><li><a title="Aller  la page <%= i %>" href="#" data-page="<%= i %>" role="button"><%= i %></a></li><% } %>\n<% if ( i === nbPages - 2  && nbPages > nbPager ) { %><li class="disabled"><span data-dots="data-dots">&#x2e;&#x2e;&#x2e;</span></li><% } %>\n<% } %>\n<% if (currentPageIndex === nbPages) { %><li class="last disabled">'),a.link.call({attributes:{href:"#","data-page":"next",title:"Dernire page","class":"icon-arrow-thin-right disabled"}},{title:""}),n.push('</li><% } else { %><li class="last">'),a.link.call({attributes:{href:"#","data-page":"next",title:"Page suivante","class":"icon-arrow-thin-right disabled"}},{title:""}),n.push("<% } %></li></ul></div><% } %>"),n.join("")}},{"jade/runtime":161}],119:[function(t,e,n){var i=t("jade/runtime");e.exports=function(t){var e,n=[],a={};return a.link=function(t){var a=this&&this.block,r=this&&this.attributes||{};t||(t={}),"icon"in t||(t.icon=!1),"title"in t||(t.title=!0),"href"in t||(t.href="#"),"text"in t||(t.text=t.title),t.title?(n.push("<a"+i.attrs(i.merge([{href:i.escape(t.href),title:i.escape(t.title)},r]),!1)+">"+(null==(e=t.text)?"":e)+"</a>"),a&&a()):n.push("<a"+i.attrs(i.merge([{href:i.escape(t.href)},r]),!1)+">"+(null==(e=t.text)?"":e)+"</a>")},n.push('<ul id="js-dealers-list" class="list-unstyled list-hr full-hr bg-neutral space-pvm"></ul><% if (nbPages > 1) { %><div class="border-top"></div><div class="pagination-wrapper"><p class="pagination-feedback">Page <%= currentPageIndex %> sur <%= nbPages %></p><ul class="pagination pull-right"><% if (currentPageIndex === 1) { %><li class="disabled">'),a.link.call({attributes:{href:"#","data-page":"prev",title:"Premire page","class":"icon-arrow-thin-left"}},{title:""}),n.push("</li><% } else { %><li>"),a.link.call({attributes:{href:"#","data-page":"prev",title:"Page prcdente","class":"icon-arrow-thin-left"}},{title:""}),n.push('</li><% } %>\n<% for (var i=1; i <= nbPages; i++ ) { %>\n<% if (currentPageIndex === i) { %><li class="active"><a title="Aller  la page <%= i %>" href="#" data-page="<%= i %>" role="button"><%= i %></a></li><% } else if((i >= nbPager) && (i <= nbPages - 1)) { %><li><a title="Aller  la page <%= i %>" href="#" data-page="<%= i %>" class="hidden"><%= i %></a></li><% } else { %><li><a title="Aller  la page <%= i %>" href="#" data-page="<%= i %>" role="button"><%= i %></a></li><% } %>\n<% if ( i === nbPages - 2  && nbPages > nbPager ) { %><li class="disabled"><span data-dots="data-dots">&#x2e;&#x2e;&#x2e;</span></li><% } %>\n<% } %>\n<% if (currentPageIndex === nbPages) { %><li class="last disabled">'),a.link.call({attributes:{href:"#","data-page":"next",title:"Dernire page","class":"icon-arrow-thin-right disabled"}},{title:""}),n.push('</li><% } else { %><li class="last">'),a.link.call({attributes:{href:"#","data-page":"next",title:"Page suivante","class":"icon-arrow-thin-right disabled"}},{title:""}),n.push("<% } %></li></ul></div><% } %>"),n.join("")}},{"jade/runtime":161}],120:[function(t,e,n){var i=t("jade/runtime");e.exports=function(t){var e,n=[],a={};return a.link=function(t){var a=this&&this.block,r=this&&this.attributes||{};t||(t={}),"icon"in t||(t.icon=!1),"title"in t||(t.title=!0),"href"in t||(t.href="#"),"text"in t||(t.text=t.title),t.title?(n.push("<a"+i.attrs(i.merge([{href:i.escape(t.href),title:i.escape(t.title)},r]),!1)+">"+(null==(e=t.text)?"":e)+"</a>"),a&&a()):n.push("<a"+i.attrs(i.merge([{href:i.escape(t.href)},r]),!1)+">"+(null==(e=t.text)?"":e)+"</a>")},n.push('<div class="panel-default"><div class="panel-body"><span class="panel-form-label--result"><strong><%= nbResults %></strong> Rsultat<% if(nbResults > 1){ %>s<% } %> pour votre recherche</span><div class="panel-tabs"><ul role="tablist" class="nav nav-tabs nav-hibride"><li class="active">'),a.link.call({attributes:{"data-toggle":"tab","aria-hidden":"true","aria-role":"tab","aria-controls":"tab-maps",id:"tab-toggle-maps","aria-selected":"true","class":"icon-location"}},{title:"Vue carte - onglet actif",text:"Vue carte",href:"#tab-maps"}),n.push("</li><li>"),a.link.call({attributes:{"data-toggle":"tab","aria-controls":"tab-list",id:"tab-toggle-list","aria-role":"tab","aria-selected":"false","class":"icon-bars"}},{title:"Vue liste",href:"#tab-list"}),n.push('</li></ul><div class="tab-content"><div id="tab-maps" aria-hidden="true" role="tabpanel" aria-labelledby="tab-toggle-maps" class="tab-pane active"><div id="maps-post-dealers" data-infobubble="data-infobubble" class="gmap"></div></div><div id="tab-list" role="tabpanel" aria-labelledby="tab-toggle-list" class="tab-pane"></div></div></div></div></div>'),n.join("")}},{"jade/runtime":161}],121:[function(t,e,n){var i=t("jade/runtime");e.exports=function(t){var e,n=[],a={},r=t||{};return function(t){a.badge=function(a,r,s){var o=this&&this.block;this&&this.attributes||{};if(s===t)var s="arrow-right";n.push('<p class="badge-wrapper"><span'+i.cls(["badge badge-"+a],[!0])+"><span"+i.cls(["icon-"+s],[!0])+"></span></span><span"+i.cls(["text-"+a],[!0])+"><em>"+i.escape(null==(e=r)?"":e)+"</em></span>"),o&&o(),n.push("</p>")},n.push('<div class="link-block gmaps-popin"><div class="row row-height-children"><div class="col-xs-12"><div class="row"><div class="col-xs-11"><div class="vcard"><% if (item.favourite) { %><h3 class="h4 fn space-mbn no-hover fav"><%= item.name %></h3> <% } else { %><h3 class="h4 fn space-mbn no-hover"><%= item.name %></h3><% } %><br/><address class="adr"><p><span class="street-address"><%= item.street %> <br></span><% if (item.street2) { %><span class="street-address"><%= item.street2 %> <br></span><% } %><span class="postal-code"><%= item.zipcode %> -&nbsp;</span><span class="locality"><%= item.city %> <br></span></p></address> <% if (item.isOpen == "ouvert"){ %>'),a.badge("success","Ouvert"),n.push(' <% } else if (item.isOpen == "ferme"){ %>'),a.badge("danger","Ferm","close"),n.push(' <% } else if (item.isOpen == "autre"){ %>'),a.badge("danger","Actuellement ferm","close"),n.push('<% } %><div class="space-mtm"> <% if (item.showBtn){ %><a href="<%= url %>" title="Details" data-toggle="modal" data-target="#modalId" class="rocs-details detailsBP btn-gradient btn-gradient-gray btn btn-xs">Dtails</a><% } %><button type="submit" title="Choisir" data-tracking="{&quot;label&quot;:&quot;mon_compte::nouvelle_livraison::choix_de_livraison::choix_bp_carte&quot;, &quot;event&quot;: &quot;C&quot;, &quot;s2&quot;: &quot;15&quot;, &quot;type&quot;, &quot;F&quot;}" class="rocs-choose btn-primary btn btn-xs">Choisir</button></div></div></div></div></div></div></div>')}.call(this,"undefined"in r?r.undefined:void 0),n.join("")}},{"jade/runtime":161}],122:[function(t,e,n){var i=t("jade/runtime");e.exports=function(t){var e,n=[],a={},r=t||{};return function(t){a.badge=function(a,r,s){var o=this&&this.block;this&&this.attributes||{};if(s===t)var s="arrow-right";n.push('<p class="badge-wrapper"><span'+i.cls(["badge badge-"+a],[!0])+"><span"+i.cls(["icon-"+s],[!0])+"></span></span><span"+i.cls(["text-"+a],[!0])+"><em>"+i.escape(null==(e=r)?"":e)+"</em></span>"),o&&o(),n.push("</p>")},n.push('<% if (item.url) { %><div class="link-block"><div class="row row-height-children"><div class="col-xs-12"><div class="row"><div class="vcard col-xs-9 col-sm-9 col-md-9"><h2 class="h4 fn space-mbn no-hover"><%= item.label %></h2><p class="org space-mbn"><em><% if ((item.type === \'BPC\') || (item.type === \'CDI\') || (item.type === \'BPR\') || (item.type === \'office\')) { %> Bureau de poste <% } else if ((item.type === \'CIT\') || (item.type === \'A2P\')) { %>  <%= item.typeLabel %> <% }  else if ((item.type === \'AP\')) { %>  Agence postale <% } else { %>  Espace Entreprises <% } %></em></p><br/><address class="adr"><p><span class="street-address"><%= item.street %> <br></span><span class="postal-code"><%= item.zipcode %> -&nbsp;</span><span class="locality"><%= item.city %> <br></span><% if ((item.type === \'BPR\') || (item.type === \'CDI\') || (item.type === \'BPR\') || (item.type === \'office\')) { %><span class="tel">Tl. : 3631 (numro non surtax) <br></span><% } %></p></address> <% if (item.isOpen == "autre"){ %>'),a.badge("danger","Actuellement ferm","close"),n.push('<% } %><button href="<%= item.url %>" role="button" title="<%= item.label %>" data-toggle="modal" data-target="#modalId" data-office-name="<%=item.label%>" class="detailsBP btn-gradient-gray btn">Dtails et horaires</button></div><% if (space === \'particulier\') { %><div class="col-xs-3 col-sm-3 col-md-3"><% if ((item.type === \'A2P\')) { %><button role="button" title="Ajouter aux favoris - Bureau de poste <%= item.label %>" data-favouriteurl="<%= url %>/<%= item.uid %>" data-favouriteid="<%= item.uid %>" data-office-name="<%=item.label%>" data-tracking-name="ACORES" class="btn-reset toggle-fav dark-fav left-fav space-mbl space-plm">Ajouter aux favoris</button><% } else if ((item.type !== \'CDI\') && (item.type !== \'CIT\')) { %><button role="button" title="Ajouter aux favoris - Bureau de poste <%= item.label %>" data-favouriteurl="<%= url %>/<%= item.uid %>" data-favouriteid="<%= item.uid %>" data-tag-label="mon_compte::favoris::bureau_poste::<%=item.label%>" data-office-name="<%=item.label%>" data-tracking-name="ACORES" class="btn-reset toggle-fav dark-fav left-fav space-mbl space-plm">Ajouter aux favoris</button><% } else { %><button role="button" title="Ajouter aux favoris - Commerant <%= item.label %>" data-favouriteurl="<%= url %>/<%= item.uid %>" data-favouriteid="<%= item.uid %>" class="btn-reset toggle-fav dark-fav left-fav space-mbl space-plm">Ajouter aux favoris</button><% } %></div><% } %></div></div></div><% } else { %></div><div><div class="vcard"><h2 class="h5 fn"><%= item.label %></h2><p class="org"><em><% if (item.type === \'cityssimo\') { %> Espace Cityssimo <% } else { %>  Ngociant <% } %></em></p><address class="adr"><p><span class="street-address"><%= item.street %> <br></span><span class="postal-code"><%= item.zipcode %> -&nbsp;</span><span class="locality"><%= item.city %> <br></span><% if ((item.type === \'cityssimo\')) { %><span class="tel">Tl. : 3631 (numro non surtax) <br>\n<% } %></span></p></address><% if (item.type === \'cityssimo\') { %><p>Horaires d\'ouverture : <%= item.hours %></p><% } else { %>\n<% if (item.email) { %><p>Contact : <%= item.email %>\n<% }} %></p></div></div><% } %>')}.call(this,"undefined"in r?r.undefined:void 0),n.join("")}},{"jade/runtime":161}],123:[function(t,e,n){t("jade/runtime");e.exports=function(t){var e=[];return e.push('<li data-id="<%= item.id %>" data-coordinates="{ "lat": "<%= item.coordinates.lat %>", "long": "<%= item.coordinates.long %>" }" data-coordinates-lat="<%= item.coordinatesLat %>" data-coordinates-long="<%= item.coordinatesLong %>" data-isfavourite="<%= item.favourite %>" class="col-xs-12"><div class="row select-office"><div class="col-xs-12 col-sm-7 vcenter"><% if (item.favourite) { %><h3 class="title-label po-name fav"><%= item.name %></h3> <% } else { %><h3 class="title-label po-name"><%= item.name %></h3><% } %><p><span class="street-address"><%= item.street %></span><br/><span class="postal-code"><%= item.zipcode %></span><span class="locality"> <%= item.city %></span></p></div><div class="col-xs-12 col-sm-5 text-right-sm text-right-md vcenter"> <% if (item.showBtn){ %><a href="<%= item.url %>" title="Details" data-toggle="modal" data-target="#modalId" class="btn-gradient btn-gradient-gray btn btn-xs btn-bpdetails">Dtails</a><% } %><a href="<%= item.chooseBPUrl + item.id %>" title="<%= item.name %>, choisir" data-tracking="{ &quot;label&quot;: &quot;mon_compte::nouvelle_livraison::choix_de_livraison::choix_bp_carte&quot;, &quot;event&quot;: &quot;C&quot;, &quot;s2&quot;: &quot;15&quot;, &quot;type&quot;: &quot;F&quot;} " class="btn btn-xs btn-primary rocs-choose">Choisir</a></div></div></li>'),e.join("")}},{"jade/runtime":161}],124:[function(t,e,n){var i=t("jade/runtime");e.exports=function(t){var e,n=[],a={};return a.link=function(t){var a=this&&this.block,r=this&&this.attributes||{};t||(t={}),"icon"in t||(t.icon=!1),"title"in t||(t.title=!0),"href"in t||(t.href="#"),"text"in t||(t.text=t.title),t.title?(n.push("<a"+i.attrs(i.merge([{href:i.escape(t.href),title:i.escape(t.title)},r]),!1)+">"+(null==(e=t.text)?"":e)+"</a>"),a&&a()):n.push("<a"+i.attrs(i.merge([{href:i.escape(t.href)},r]),!1)+">"+(null==(e=t.text)?"":e)+"</a>")},n.push('<div class="panel panel-default"><div class="panel-body"><span class="panel-form-label--result"><strong><%= nbResults %></strong> Rsultat<% if(nbResults > 1){ %>s<% } %> pour votre recherche</span><div class="panel-tabs"><ul role="tablist" class="nav nav-tabs nav-hibride"><li class="active">'),a.link.call({attributes:{"data-toggle":"tab","aria-hidden":"true","aria-role":"tab","aria-controls":"tab-maps",id:"tab-toggle-maps","aria-selected":"true",onclick:"javascript: return tc_events_1(this,'CLICK', {'label':'localiser::affichage::carte','xtclick_event':'C','xtclick_s2':1,'xtclick_type':'A'});","class":"icon-location"}},{title:"Vue carte - onglet actif",text:"Vue carte",href:"#tab-maps"}),n.push("</li><li>"),a.link.call({attributes:{"data-toggle":"tab","aria-controls":"tab-list",id:"tab-toggle-list","aria-role":"tab","aria-selected":"false",onclick:"javascript:return tc_events_1(this,'CLICK', {'label':'localiser::affichage::liste','xtclick_event':'C','xtclick_s2':1,'xtclick_type':'A'})","class":"icon-bars"}},{title:"Vue liste",href:"#tab-list"}),n.push('</li></ul><div class="tab-content"><div id="tab-maps" aria-hidden="true" role="tabpanel" aria-labelledby="tab-toggle-maps" class="tab-pane active"><div id="maps-post-dealers" data-infobubble="data-infobubble" class="gmap"></div></div><div id="tab-list" role="tabpanel" aria-labelledby="tab-toggle-list" class="tab-pane"></div></div></div></div></div>'),n.join("")}},{"jade/runtime":161}],125:[function(t,e,n){t("jade/runtime");e.exports=function(t){var e=[];return e.push('<div class="col-sm-4"><input id="<%= id %>" type="radio" name="form-country" value="<%= value%>" required="required" aria-required="true"/><label for="<%= id %>" class="control-label panel-form--label-inline"><%= label %></label></div>'),e.join("")}},{"jade/runtime":161}],126:[function(t,e,n){t("jade/runtime");e.exports=function(t){var e=[];return e.push('<label for="<%= fieldId %>" class="error form-control-feedback"><%= fieldMessage %></label>'),e.join("")}},{"jade/runtime":161}],127:[function(t,e,n){"use strict";var i=t("jquery");t("../utils/helpers");t("jquery-ui/datepicker");var a=t("../utils/strings-operations");t("moment/locale/fr.js");var r=t("moment"),s=t("../../components"),o=t("./map"),l=function(t,e){"undefined"==typeof t&&console.warn("You need a BPInfosControllerInst param"),this.bpinfos=t,this.bpID=this.bpinfos.bpID,this.dateFormat=t.dateFormat;var n=this.bpinfos.datas.bureaux[Object.keys(this.bpinfos.datas.bureaux)[0]].general.libelleSite;if("function"==typeof window.tc_events_1&&i(".triggered").length>0){var r={xiti_xtn2:15,xiti_page_name:"mon_compte::choisir_vos_preferences_de_livraison::detail_bureau_de_poste::"+a.cleanTextForTracking(n),env_template:tc_vars.env_template,xiti_xtpagetype:tc_vars.xiti_xtpagetype};window.tc_events_1(document.body,"PAGE",r)}this._imagesFilepath=["/bundles/digitaslapostebase/images/ccu/picto_petits_colis.png","/bundles/digitaslapostebase/images/ccu/picto_colis.png","/bundles/digitaslapostebase/images/ccu/picto_produits_services.png"],this.displayBPInfosForHeader(),this.bindEvents(),e===!0&&this.loadCalendar()};l.prototype.loadTodayTab=function(){var t=r().format(this.dateFormat);this.bpinfos.hasSubstituteBP(t)?i("[data-bp-today]").hide():i("[data-bp-closed-today]").hide(),this.displayBPInfos(t,i("[data-bp-substitute-delivery]"),i("[data-bp-substitute-bank]"),i("[data-today-hours]"),i("[data-today-limits]"))},l.prototype.loadCalendar=function(){var e=i("body").find(".calendar-wrapper-default");if(e.length){var n=t("../features/calendar-choix-date");this.calendar=new n(e,this,this.bpinfos)}else this.calendar=new s.BPCalendar(this,this.bpinfos,!0)},l.prototype.reloadBPInfos=function(t){this.displayBPInfosForHeader()},l.prototype.displayBPInfosForHeader=function(){var t=i("#js-map-office-detail");new o(t.get(0),t.data("map"))},l.prototype.displayBPInfos=function(t,e,n,a,s){i("[data-selected-day-title]").text(this.bpinfos.dayText(r(t,"YYYY-MM-DD")));var o=this.bpinfos.openHours(t).length;this.bpinfos.hasSubstituteBP(t)?this.displaySubstitutePostDesk(this.bpinfos.transfertDatas(t),e,n):0===Number(o)?this.displaySubstitutePostDesk(this.bpinfos.transfertDatas(t),e,n):this.displayHoursAndLimit(t,a,s)},l.prototype.tplDisplayLimitDeposit=function(t,e,n){var i='<li class="col-xs-3 col-sm-3 col-md-4">                           <div class="icon-bloc"><img src="'+t+'" alt="">                             <p class="icon-bloc__title h3">'+e+'</p>                             <p class="h7 icon-bloc__description">'+n+"</p>                           </div>                         </li>";return i},l.prototype.tplDisplayAddress=function(t,e,n,i){var a=['<p><span class="street-address">'+t+"<br></span>",'<span class="postal-code">'+e+' - </span><span class="locality">'+n+"</span></p>",'<p class="tel"><span class="type">Par telephone</span> : <span class="value"> '+i+"</span></p>"].join("");return a},l.prototype.displayHoursAndLimit=function(t,e,n){var a=this;i("[data-selected-day-open]").show(),i("[data-selected-day-closed]").hide();var r=e;r.empty(),r.append('<caption class="sr-only">Heure limite de dpt du lundi au samedi du bureau/espace le matin et l\'aprs-midi</caption>');var s=n;s.empty(),i.each(this.bpinfos.openHours(t),function(t,e){r.append('<tr><td class="h5" >'+e+"</td></tr>")});var o=0;0!==this.bpinfos.limitHours(t).length?(i("[data-title-limits]").css("display","block"),i.each(this.bpinfos.limitHours(t),function(t,e){s.append(a.tplDisplayLimitDeposit(a._imagesFilepath[o],e[0],e[1])),o++})):i("[data-title-limits]").css("display","none")},l.prototype.displaySubstitutePostDesk=function(t,e,n){if(i("[data-selected-day-closed]").show(),i("[data-selected-day-open]").hide(),void 0!==t){var r,s;t.courrier?(r=App.WS.postOfficeDetailUrlPrefix+a.slugify(t.courrier[0])+"/"+t.courrier[1],s=t.courrier[2]+' <a href="'+r+'" class="link">'+t.courrier[0]+"</a>",e.find("p").html(s),e.show()):e.hide(),t.banque?(r=App.WS.postOfficeDetailUrlPrefix+a.slugify(t.banque[0])+"/"+t.banque[1],s=t.banque[2]+' <a href="'+r+'" class="link">'+t.banque[0]+"</a>",n.find("p").html(s),n.show()):n.hide()}else e.hide(),n.hide()},l.prototype.displayAccessibilityServicesAvailable=function(){var t=this,e=null,n=null;i("[data-bp-access] ul").empty(),i.each(this.bpinfos.accessibilityAccess(),function(a,r){e=r[Object.keys(r)[0]],n=Object.keys(r)[0],i("<li />").html(t.tplListItem(n,e)).appendTo(i("[data-bp-access] ul"))}),i("[data-bp-suitableoffice] ul").empty(),i.each(this.bpinfos.accessibilitySuitableOffice(),function(a,r){e=r[Object.keys(r)[0]],n=Object.keys(r)[0],i("<li />").html(t.tplListItem(n,e)).appendTo(i("[data-bp-suitableoffice] ul"))})},l.prototype.displayServicesAvailable=function(t){for(var e=this,n=[i("[data-bp-services] > li:eq(0) ul"),i("[data-bp-services] > li:eq(1) ul")],a=Object.keys(t).length,r=Math.ceil(a/2),s=0,o=null,l=null,c=0;c<n.length;c++)n[c].empty();for(var u=0;a>u;u++)s=Math.floor(u/r),o=t[Object.keys(t)[u]],l=Object.keys(t)[u],i("<li />").html(e.tplListItem(l,o)).appendTo(i("[data-bp-services] > li:eq("+s+") ul"))},l.prototype.tplListItem=function(t,e){switch(t){case"conseil":t="conso";break;case"bureaux_mr":case"espace_mr":case"automates_mr":t="bureau_moteur";break;case"automate_visuel":t="bureau_visuel";break;default:t=t}var n='<span class="icon-'+t+' icon icon-sm"></span><span class="custom-label">'+e+"</span>";return n},l.prototype.bindEvents=function(){},e.exports=l},{"../../components":24,"../features/calendar-choix-date":43,"../utils/helpers":133,"../utils/strings-operations":140,"./map":130,"jquery-ui/datepicker":163,moment:168,"moment/locale/fr.js":167}],128:[function(t,e,n){"use strict";var i=t("jquery");t("jquery-ui/datepicker");t("../utils/strings-operations");t("moment/locale/fr.js");var a=t("moment"),r=t("../../components"),s=t("./map"),o=function(t){"undefined"==typeof t&&console.warn("You need a BPInfosControllerInst param");this.bpinfos=t,this.bpID=this.bpinfos.bpID,this.dateFormat=t.dateFormat,this.displayBPInfosForHeader()};o.prototype.loadTodayTab=function(){var t="2015-04-17";this.bpinfos.hasSubstituteBP(t)?i("[data-bp-today]").hide():i("[data-bp-closed-today]").hide(),this.displayBPInfos(t,i("[data-bp-substitute-delivery]"),i("[data-bp-substitute-bank]"),i("[data-today-hours]"),i("[data-today-limits]"))},o.prototype.loadPeriodTable=function(){this.periodTable=new r.PeriodColissimo(i("[data-days-opening-hours]")),this.periodTable.tableTpl(this.bpinfos.getScheduleForPeriodIndex(0))},o.prototype.displayBPInfosForHeader=function(){var t=i("#js-map-office-detail");new s(t.get(0),t.data("map"))},o.prototype.displayBPInfos=function(t,e,n,r,s){i("[data-selected-day-title]").text(this.bpinfos.dayText(a(t,this.bpinfos.dateFormat))),this.bpinfos.hasSubstituteBP(t)?this.displaySubstitutePostDesk(this.bpinfos.transfertDatas(t),e,n):this.displayHoursAndLimit(t,r,s)},o.prototype.tplDisplayLimitDeposit=function(t,e,n){var i='<div class="col-xs-4 col-sm-4 col-md-4">                           <div class="icon-bloc"><img src="'+t+'" alt="">                             <p class="icon-bloc__title h3">'+e+'</p>                             <p class="h7 icon-bloc__description">'+n+"</p>                           </div>                         </div>";return i},o.prototype.tplDisplayAddress=function(t,e,n,i){var a='<p><span class="street-address">'+t+'<br></span><span class="postal-code">'+e+' - </span><span class="locality">'+n+"</span></p>";return a},o.prototype.displayHoursAndLimit=function(t,e,n){var a=this;i("[data-selected-day-open]").show(),i("[data-selected-day-closed]").hide();var r=e;r.empty();var s=n;s.empty(),i.each(this.bpinfos.openHours(t),function(t,e){r.append('<tr><td class="h5">'+e+"</td></tr>")});var o=0;i.each(this.bpinfos.limitHours(t),function(t,e){s.append(a.tplDisplayLimitDeposit(a._imagesFilepath[o],e[0],e[1])),o++})},o.prototype.displaySubstitutePostDesk=function(t,e,n){i("[data-selected-day-closed]").show(),i("[data-selected-day-open]").hide(),t.courrier?(e.find("a").text(t.courrier[0]).attr("data-bp-subsitute-id",t.courrier[1]),e.show()):e.hide(),t.banque?(n.find("a").text(t.banque[0]).attr("data-bp-subsitute-id",t.banque[1]),n.show()):n.hide()},o.prototype.displayAccessibilityServicesAvailable=function(){var t=this,e=null,n=null;i("[data-bp-access] ul").empty(),i.each(this.bpinfos.accessibilityAccess(),function(a,r){e=r[Object.keys(r)[0]],n=Object.keys(r)[0],i("<li />").html(t.tplListItem(n,e)).appendTo(i("[data-bp-access] ul"))}),i("[data-bp-suitableoffice] ul").empty(),i.each(this.bpinfos.accessibilitySuitableOffice(),function(a,r){e=r[Object.keys(r)[0]],n=Object.keys(r)[0],i("<li />").html(t.tplListItem(n,e)).appendTo(i("[data-bp-suitableoffice] ul"))})},o.prototype.displayServicesAvailable=function(t){for(var e=this,n=[i("[data-bp-services] > li:eq(0) ul"),i("[data-bp-services] > li:eq(1) ul")],a=Object.keys(t).length,r=Math.ceil(a/2),s=0,o=null,l=null,c=0;c<n.length;c++)n[c].empty();for(var u=0;a>u;u++)s=Math.floor(u/r),o=t[Object.keys(t)[u]],l=Object.keys(t)[u],i("<li />").html(e.tplListItem(l,o)).appendTo(i("[data-bp-services] > li:eq("+s+") ul"))},o.prototype.tplListItem=function(t,e){switch(t){case"conseil":t="conso";break;case"bureaux_mr":case"espace_mr":case"automates_mr":t="bureau_moteur";break;case"automate_visuel":t="bureau_visuel";break;default:t=t}var n='<span class="icon-'+t+' icon icon-sm"></span><span class="custom-label">'+e+"</span>";return n},o.prototype.bindEvents=function(){var t=this,e=null;i("body").on("click","[data-bp-subsitute-id]",function(n){n.preventDefault(),e=i(this).data("bp-subsitute-id"),t.reloadBPInfos(e)})},e.exports=o},{"../../components":24,"../utils/strings-operations":140,"./map":130,"jquery-ui/datepicker":163,moment:168,"moment/locale/fr.js":167}],129:[function(t,e,n){"use strict";var i=t("jquery"),a=['<div class="loader ajax-loader">',"<span></span>","</div>"].join("");e.exports={showLoader:function(t,e){t=t||i("body"),i(a).appendTo(t).animate({opacity:1},e?0:400)},hideLoader:function(t){var e=i(".ajax-loader");e.animate({opacity:0},200,function(){e.remove(),t&&t()})}}},{}],130:[function(t,e,n){"use strict";function i(t,e,n){return n&&(n=!0),r.bindAll(this,"init","showInfoWindow"),this.el=t,this.options=r.clone(c),r.extend(this.options,e),this.apiPromise=this.loadGmapApi(),this.apiPromise.done(this.init),this}var a=t("jquery"),r=t("lodash"),s=t("../utils/helpers"),o=t("../plugins/infobubble"),l="[data-map]",c={mapType:"ROADMAP",center:{lat:48.85341,"long":2.3488},zoom:11,zoomControl:!0,scaleControl:!0,scrollwheel:!0,disableDoubleClickZoom:!1,draggable:!0,streetViewControl:!1},u=!1,d=180;i.prototype.isInfoBubble=function(){return this.isInfoBubble_},i.prototype.isInfoBubble=o.prototype.isInfoBubble,i.prototype.init=function(){this.geocoder=new window.google.maps.Geocoder,this.render(),this.options.markersByAddress&&this.placeMarkersByAddress(this.options.markersByAddress),this.options.markers&&this.placeMarkers(this.options.markers),this.adjustZoomToMarkers()},i.prototype.render=function(){return this.gmap?this:(this.gmap=new window.google.maps.Map(this.el,{mapTypeId:window.google.maps.MapTypeId[this.options.mapType],center:new window.google.maps.LatLng(this.options.center.lat,this.options.center["long"]),zoom:this.options.zoom,draggable:this.options.draggable,disableDoubleClickZoom:this.options.disableDoubleClickZoom,scrollwheel:this.options.scrollwheel,zoomControl:this.options.zoomControl,scaleControl:this.options.scaleControl,streetViewControl:this.options.streetViewControl,keyboardShortcuts:!1,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"off"}]}]}),this.markers=[],this.infoWindow=new o({borderRadius:0,arrowSize:0,maxWidth:420,minWidth:420,minHeight:d,maxHeight:520,padding:23,shadowStyle:0}),a("#rocs-form").off("click",".rocs-choose").on("click",".rocs-choose",function(t){if(t.preventDefault(),1===App.config.rocsType){var e="mon_compte::choisir_vos_preferences_de_livraison::choix_bureau_de_poste::choisir",n={label:e,xtclick_event:"C",xtclick_s2:"15",xtclick_type:"A"};s.tracking(a(t.currentTarget)[0],"CLICK",n)}a("#rocs-form").submit()}),this)},i.prototype.clearMarkers=function(){for(;this.markers.length>0;){var t=this.markers.pop();window.google.maps.event.clearListeners(t,"click"),t.setMap(null)}},i.prototype.setMapZoom=function(t){this.gmap.setZoom(t)},i.prototype.setMapCenter=function(t){this.gmap.setCenter(t)},i.prototype.placeMarkersByAddress=function(t){for(var e,n=this,i=t.length-1;i>=0;i--)t[i].address&&t[i].icon&&(e=t[i].icon,this.geocoder.geocode({address:t[i].address},function(t,i){if(i===window.google.maps.GeocoderStatus.OK&&t[0]){var a=new window.google.maps.Marker({map:n.gmap,position:t[0].geometry.location,icon:e});n.markers.push(a)}}))},i.prototype.placeMarkers=function(t){if(!u)for(var e=t.length-1;e>=0;e--)this.placeMarker(t[e])},i.prototype.updateInput=function(t){var e=document.getElementById("post-office-selected");e&&a(e).val(t)},i.prototype.placeMarker=function(t){var e=this;if(0!=t.coordinates.lat&&0!=t.coordinates["long"]&&null!=t.coordinates.lat&&null!=t.coordinates["long"]){var n;return n="undefined"!=typeof t.zIndex?new window.google.maps.Marker({map:this.gmap,position:new window.google.maps.LatLng(t.coordinates.lat,t.coordinates["long"]),animation:window.google.maps.Animation.DROP,icon:t.icon,zIndex:t.zIndex}):new window.google.maps.Marker({map:this.gmap,position:new window.google.maps.LatLng(t.coordinates.lat,t.coordinates["long"]),animation:window.google.maps.Animation.DROP,icon:t.icon}),this.markers.push(n),t.content&&!function(t,n,i){window.google.maps.event.addListener(n,"click",function(){i.id&&e.updateInput(i.id),t.showInfoWindow(n,i)})}(this,n,t),this}},i.prototype.triggerClickMarker=function(t){a("html, body").animate({scrollTop:a(this.el).offset().top},"fast"),window.google.maps.event.trigger(t,"click")},i.prototype.showInfoWindow=function(t,e){var n=a.cookie(App.cookies.login);if(void 0!==n&&a.parseJSON(decodeURIComponent(n)).connected&&e.content.indexOf("data-favouriteid")>=0){var i=a(e.content),r=i.find(".toggle-fav").data("favouriteid"),o=a.parseJSON(decodeURIComponent(document.cookie.split(App.cookies.favFindBp+"=")[1].split(";")[0])),l=o.indexOf(r)>=0;i.find(".toggle-fav").toggleClass("is-favourite",l).text(l?App.text.favouritesRemove:App.text.favouritesAdd),e.content=i.prop("outerHTML")}this.infoWindow.setContent(e.content),this.infoWindow.open(this.gmap,t);var c={xtclick_event:"C",xtclick_s2:String(App.config.locator.env),xtclick_type:"A"};1===a("#js-form-find-colissimop").length?c.label="outils::localiser::retrait_depot_colis::carte_pins_retrait":c.label="outils::localiser::bureau_de_poste::carte_pins_bureau",s.tracking(this.el,"CLICK",c)},i.prototype.adjustZoomToMarkers=function(){if(this.markers.length)if(1===this.markers.length)this.setMapCenter(this.markers[0].getPosition()),this.setMapZoom(16);else{for(var t=new window.google.maps.LatLngBounds,e=this.markers.length-1;e>=0;e--)t.extend(this.markers[e].getPosition());this.gmap.fitBounds(t)}},i.prototype.loadGmapApi=function(){var t=a.Deferred();
return a.getScript("//www.google.com/jsapi",function(){window.google.load("maps","3",{other_params:"sensor=true&client=gme-lapostesa",callback:function(){t.resolve()}})}),t.promise()},i.prototype.destroy=function(){a(this.gmap.getDiv()).remove()},a(l).each(function(){new i(this,a(this).data("map"))}),e.exports=i},{"../plugins/infobubble":104,"../utils/helpers":133,lodash:166}],131:[function(t,e,n){"use strict";function i(){r&&r.addEventListener("addthis.ready",this.readyHandler.bind(this))}var a=t("jquery"),r=window.addthis;t("../../scripts/utils/helpers");i.prototype.readyHandler=function(){this.addShareButton(),jQuery("body").on("click",".addthis_button_linkedin",function(t){var e=a(".addthis_button_linkedin");window.tc_events_1&&window.tc_events_1(e,e.data("page"),e.data("tag"))}).on("click",".addthis_button_twitter",function(t){var e=a(".addthis_button_twitter");window.tc_events_1&&window.tc_events_1(e,e.data("page"),e.data("tag"))}).on("click",".addthis_button_facebook",function(t){var e=a(".addthis_button_facebook");window.tc_events_1&&window.tc_events_1(e,e.data("page"),e.data("tag"))})},i.prototype.addShareButton=function(t){if(a(".page-tools").length){var e="",n="";a(".page-tools").each(function(){e=a(this).find("ul").data("id"),n=a('<li><a href="#'+e+'" title="Partager" class="share-tools-trigger icon-share collapsed" data-toggle="collapse" data-toggle-collapse-open="Partager - ouvrir" data-toggle-collapse-close="Partager - fermer" aria-controls="'+e+'" role="button">Partager</a></li>'),n.appendTo(a(this).find("ul"))})}},e.exports=i},{"../../scripts/utils/helpers":133}],132:[function(t,e,n){"use strict";var i=t("jquery"),a=(t("../../components"),t("./strings-operations")),r=t("./helpers"),s=t("../plugins/bpinfoscontroller"),o=t("../plugins/colissimoinfoscontroller"),l=(t("../ui/bpinfosdisplay"),t("../ui/colissimoinfosdisplay")),c=function(t){var e,n,a,r,s,o,l,c=i(t).parents(".tab-accessible-nav"),u=!1;if(c.length){var d=c.find("h2.list-group-arrow-down--link");if(d.length?d.each(function(){i(t).get(0)===i(this).get(0)?u=!0:(r=i(this).data("toggle"),o=i(this).data("target"),s=i(this).attr("class"),l=i(this)[0].innerHTML,i(this).parent(".list-group-arrow-down").html('<a role="button" data-toggle="'+r+'" data-target="'+o+'" class="'+s+'"><h2>'+l+"</h2></a>"))}):window.console.log("No h2 tab"),!u){a=i(t).data("target");var p=c.find('.tab-accessible [data-target="'+a+'"]');if(p.length){e=p.data("toggle"),n=p.attr("class"),l=p.children("h2").html();var h=c.find('.tab-accessible [data-target="'+a+'"]').parent(".list-group-arrow-down");h.length&&(h.html('<h2 data-toggle="'+e+'" data-target="'+a+'" class="'+n+'">'+l+"</h2>"),c.find(".tab-accessible li").removeClass("active"),h.parent("li").addClass("active"))}}i(".tab-accessible li").not(".active").each(function(){var t=i(this).find(".tab-pane");t.length&&i(t).removeClass("active")})}},u=function(t){if("undefined"!=typeof t){var e=i(t).data("target");if(e){var n=i(t).parents(".tab-accessible-nav");if(n.length){var a=n.find('.select select option[data-target="'+e+'"]');a.length&&a.prop("selected",!0),c(t)}}}};i(window).on("resize",function(){i(window).width()>753&&i("#sitemap").css("height","auto")}),e.exports={fixAjaxModals:function(){if(i("body").on("hidden.bs.modal",".modal",function(t){i(this).removeData("bs.modal"),window.bpCalendarExists=!1;var e=i(t.currentTarget).attr("id");if(i("#"+e).removeAttr("tabindex"),"findBP_new"===e){var n=i("#"+e).find(".modal-content");n&&n.html("")}}),0!==i(".findBP-new .collapsable-nav").length){new s("YYYY-MM-DD","14871A",!0,!1)}i("body").on("show.bs.modal",".modal",function(t){var e,n=i(t.relatedTarget),s=null,o=i(t.currentTarget).attr("id");if(i("#"+o).attr("tabindex",-1).focus(),n.hasClass("rocs-details")&&1===App.config.rocsType)e="mon_compte::choisir_vos_preferences_de_livraison::choix_bureau_de_poste::details",s={label:e,xtclick_event:"C",xtclick_s2:"15",xtclick_type:"N"};else if(n.hasClass("btn-bpdetails"))if(n.data("tracking")){var l=JSON.parse(n.data("tracking")),c=l.label,u=l.event,d=l.s2,p=l.type;r.tracking(n[0],"CLICK",{label:c,xtclick_event:u,xtclick_s2:d,xtclick_type:p})}else 1===App.config.rocsType&&(e="mon_compte::choisir_vos_preferences_de_livraison::choix_bureau_de_poste::details",s={label:e,xtclick_event:"C",xtclick_s2:"15",xtclick_type:"N"});else i(this).has("div.findBP_new")&&void 0!==n.attr("title")&&(1===i("form#js-form-find-colissimop").length?s={label:"outils::localiser::retrait_depot_colis::"+a.cleanTextForTracking(n.data("office-name")),xtclick_event:"F",xtclick_s2:App.config.locator.env,xtclick_type:"A"}:1===i("form#js-form-find-bp").length&&(s={label:"outils::localiser::bureau_de_poste::"+a.cleanTextForTracking(n.data("office-name")),xtclick_event:"F",xtclick_s2:App.config.locator.env,xtclick_type:"A"}));s&&r.tracking(i(t.relatedTarget)[0],"CLICK",s)}).on("loaded.bs.modal",".modal",function(t){if(0!==i(".modal .findBP_new").length){if(i(".modal").find("[data-period-table]").length>=1){var e=new o("YYYY-MM-DD","14871A",null);new l(e,!0)}else{new s("YYYY-MM-DD","14871A",!0,!0);window.setTimeout(function(){!i(".triggered").length>0&&i(".modal-content").length>0&&i(".modal-content").addClass("triggered")},3100)}i("[data-collapsable-nav]").collapsableNav()}})},updateCollapseTitle:function(){i(document).on("shown.bs.collapse hidden.bs.collapse",function(t){var e=i(t.target).attr("id"),n=i('a[href="#'+e+'"]');n.length||(n=i('[data-target="#'+e+'"]'));var a="shown"===t.type,r=a?i(n).data("toggle-collapse-close"):i(n).data("toggle-collapse-open");i(n).attr("title",r);var s=i(n).data("toggle-collapse-open-icon"),o=i(n).data("toggle-collapse-close-icon");s&&o&&(a?i("."+o,n).removeClass(o).addClass(s):i("."+s,n).removeClass(s).addClass(o))})},makeCollapseAriaCompliant:function(){i(document).on("shown.bs.collapse hidden.bs.collapse",function(t){i(t.target).focus().attr("aria-expanded","shown"===t.type).attr("tabindex","shown"===t.type?"0":"-1")})},updateTabsTitles:function(){var t=" - onglet actif";i(document).on("shown.bs.tab",function(e){var n="undefined"!=typeof i(e.target).attr("title")?i(e.target).attr("title"):"",a=i(e.relatedTarget).attr("title");if(i(e.target).parents("li").addClass("active"),i(e.target).attr("aria-selected",!0).attr("title",n+t),i(e.target).hasClass("list-group-arrow-down--link")){var s={};switch(i(e.target).parents("li").index()){case 0:s="outils::fiches_bureaux::onglets::aujourdhui";break;case 1:s="outils::fiches_bureaux::onglets::horaires_jour_par_jour";break;case 2:s="outils::fiches_bureaux::onglets::services_proposes";break;case 3:s="outils::fiches_bureaux::onglets::accessibilite_pour_tous"}var o={label:s,xtclick_event:"C",xtclick_s2:String(App.config.locator.env),xtclick_type:"A"};r.tracking(i(e.target)[0],"CLICK",o)}u(e.target),"#tab03"===i(e.target).data("target")?i("[data-phone-call-detail]").show():i("[data-phone-call-detail]").hide(),"#tab01"===i(e.target).data("target")?i("[data-cityissimo-detail]").show():i("[data-cityissimo-detail]").hide(),"undefined"!=typeof a&&(a=a.replace(t,"")),i(e.relatedTarget).attr("aria-selected",!1).attr("title",a)})},updateTabsHeight:function(){var t=function(t){"undefined"!=typeof t&&(i(".tab-accessible .tab-pane").removeClass("active"),i(i(t).data("target")).addClass("active"));var e=i(".tab-accessible .tab-accessible-content .tab-pane.active").parents(".tab-accessible-content"),n=i(".tab-accessible").parent("nav").children(".select");i("tab-accessible");if(e.length){var a=e.parents(".tab-accessible"),r=e.height(),s=a.height(),o=n.height();a.parent("nav").height(r+s+o+40)}var l=i(".tab-accessible-nav");if(l.length){var c=l.find(".tab-accessible li.active .tab-accessible-content");0===Number(c.css("opacity"))&&l.find(".tab-accessible .tab-accessible-content").css("opacity",1)}};t(),i(window).resize(function(){t()}),i("body").on("loaded.bs.modal",".modal",function(e){t()}),i(document).on("shown.bs.tab",function(e){t(e.target)})},updateTabsH1:function(){i(".contextual-navigation").on("show.bs.tab",".nav li",function(t){var e=i(t.relatedTarget).closest("li"),n=i(t.target).closest("li"),a=e.children("h1");a.length>0&&(e.html(t.relatedTarget),n.html(i("<h1>").html(t.target)))})}}},{"../../components":24,"../plugins/bpinfoscontroller":98,"../plugins/colissimoinfoscontroller":99,"../ui/bpinfosdisplay":127,"../ui/colissimoinfosdisplay":128,"./helpers":133,"./strings-operations":140}],133:[function(t,e,n){"use strict";e.exports={tracking:function(t,e,n){"function"==typeof tc_events_1?window.tc_events_1(t,e,n):console.log("TRACKING : ",t,n,e)},containsOnlyText:function(t){return 0===Number(t.children().length)}},String.prototype.capitalizeFirstLetter=function(){return this.charAt(0).toUpperCase()+this.slice(1)}},{}],134:[function(t,e,n){"use strict";Array.prototype.filter||(Array.prototype.filter=function(t){if(void 0===this||null===this)throw new TypeError;var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError;for(var i=[],a=arguments.length>=2?arguments[1]:void 0,r=0;n>r;r++)if(r in e){var s=e[r];t.call(a,s,r,e)&&i.push(s)}return i})},{}],135:[function(t,e,n){"use strict";Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)})},{}],136:[function(t,e,n){"use strict";Array.prototype.map||(Array.prototype.map=function(t,e){var n,i,a;if(null==this)throw new TypeError(" this is null or not defined");var r=Object(this),s=r.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(e&&(n=e),i=new Array(s),a=0;s>a;){var o,l;if(a in r){var c=a.toString();o=r[c],l=t.call(n,o,a,r),i[c]=l}a++}return i})},{}],137:[function(t,e,n){"use strict";if(navigator.userAgent.match(/IEMobile\/10\.0/)){var i=document.createElement("style");i.appendChild(document.createTextNode("@-ms-viewport{width:auto!important}")),document.getElementsByTagName("head")[0].appendChild(i)}},{}],138:[function(t,e,n){"use strict";t("./array-is-array"),t("./array-filter"),t("./array-map"),t("./ie10-mobile-viewport"),t("./object-keys")},{"./array-filter":134,"./array-is-array":135,"./array-map":136,"./ie10-mobile-viewport":137,"./object-keys":139}],139:[function(t,e,n){"use strict";Object.keys||(Object.keys=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e})},{}],140:[function(t,e,n){"use strict";e.exports={slugify:function(t){return t=this.removeAccent(t),t=t.trim(),t.toLowerCase().replace(/[^\w ]+/g,"").replace(/ +/g,"-")},slugifyXtor:function(t){return t=this.removeAccent(t),t=t.trim(),t.toLowerCase().replace(/\n/g,"-").replace(/[^\w- ]+/g,"").replace(/ +/g,"-")},removeAccent:function(t){for(var e=[/[\300-\306]/g,/[\340-\346]/g,/[\310-\313]/g,/[\350-\353]/g,/[\314-\317]/g,/[\354-\357]/g,/[\322-\330]/g,/[\362-\370]/g,/[\331-\334]/g,/[\371-\374]/g,/[\321]/g,/[\361]/g,/[\307]/g,/[\347]/g],n=["A","a","E","e","I","i","O","o","U","u","N","n","C","c"],i=0;i<e.length;i+=1)t=t.replace(e[i],n[i]);return t},cleanTextForTracking:function(t){return t=t.trim(),t=this.removeAccent(t),t=t.toLowerCase(),t=t.replace(/<br\/>/g,""),t=t.replace(/\s/g,"_"),t=t.replace(/#/g,"%23"),t=t.replace(/@/g,"%40"),t=t.replace(/\//g,"_"),t=t.replace(/'/g,""),t=t.replace(/"/g,""),t=t.replace(//g,""),t=t.replace(/-/g,"_"),t=t.replace(/,/g,"_"),t=t.replace(/[^\w\s]/gi,"")},slugifyTag:function(t){for(var e=[/[\300-\306]/g,/[\340-\346]/g,/[\310-\313]/g,/[\350-\353]/g,/[\314-\317]/g,/[\354-\357]/g,/[\322-\330]/g,/[\362-\370]/g,/[\331-\334]/g,/[\371-\374]/g,/[\321]/g,/[\361]/g,/[\307]/g,/[\347]/g],n=["A","a","E","e","I","i","O","o","U","u","N","n","C","c"],i=0;i<e.length;i+=1)t=t.replace(e[i],n[i]);return t.toLowerCase().replace(/[^\w ]+/g,"").replace(/ +/g,"_")},datesDiffToText:function(t,e){var n=Math.abs(t-e),i=parseInt(n/864e5,10),a=parseInt(n/36e5%24,10),r=parseInt(n/6e4%60,10),s="";return i>0&&(s+=i+"j "),a>0&&(s+=a+"h"),s+=" "+("0"+r).slice(-2)+"min."}}},{}],141:[function(t,e,n){"use strict";t("jquery");window.lpTracking=function(t,e,n,i){"function"==typeof tc_events_1&&window.tc_events_1(t,e,{label:n,video_duration:i})}},{}],142:[function(t,e,n){"use strict";var i=t("jquery"),a=t("../utils/strings-operations"),r=t("../utils/helpers"),s=(i("[data-tag-label]"),"pagename"),o=i("[data-tag-form]");i(".findBP, .findBP_new").on("click","[data-bp-send-email]",function(t){var e=String(i(this).data("is-bp")).toLowerCase()==="Y".toLowerCase()?"fiches_bureaux":"autres_fiches",n={label:"outils::"+e+"::email::"+a.cleanTextForTracking(i(this).data("office-name")),xtclick_event:"C",xtclick_s2:String(App.config.locator.env),xtclick_type:"A"};r.tracking(i(t.target)[0],"CLICK",n)}).on("click","[data-bp-send-print]",function(t){var e=String(i(this).data("is-bp")).toLowerCase()==="Y".toLowerCase()?"fiches_bureaux":"autres_fiches",n={label:"outils::"+e+"::imprimer::"+a.cleanTextForTracking(i(this).data("office-name")),xtclick_event:"C",xtclick_s2:String(App.config.locator.env),xtclick_type:"A"};r.tracking(i(t.target)[0],"CLICK",n)}),i("#postelocator").on("click","#tab-toggle-list",function(t){var e="outils::localiser::bureau_de_poste::affichage_liste";void 0!==i(t.delegateTarget).data("search-retdep")&&(e="outils::localiser::retrait_depot_colis::affichage_liste");var n={label:e,xtclick_event:"C",xtclick_s2:String(App.config.locator.env),xtclick_type:"A"};r.tracking(i(t.target)[0],"CLICK",n)}).on("click","#tab-toggle-maps",function(t){var e="outils::localiser::bureau_de_poste::affichage_carte";void 0!==i(t.delegateTarget).data("search-retdep")&&(e="outils::localiser::retrait_depot_colis::affichage_carte");var n={label:e,xtclick_event:"C",xtclick_s2:String(App.config.locator.env),xtclick_type:"A"};r.tracking(i(t.target)[0],"CLICK",n)}),i("#app").on("click","[data-lrmo-tag]",function(t){var e=i(t.target).data("lrmo-tag"),n={label:e,xtclick_event:"C",xtclick_s2:String(window.tc_vars.xiti_xtn2),xtclick_type:"N"};r.tracking(i(t.target)[0],"PAGE",n)}),i(document).on("submit",o,function(){var t="",e="",n={},r=this;window.setTimeout(function(){i(o).find("p.error:visible").each(function(){var e=i(this).prev().prop("localName"),n=i(this).prev().attr("id")?"%23"+i(this).prev().attr("id"):"%23"+i(this).prev().find("input").attr("name"),r=a.slugifyTag(i(this).text());t+=e+n+"_"+r+"_"}),t=t.substr(0,t.length-1),App.config.pageName&&""!==App.config.pagename?s=App.config.pageName:"object"==typeof tc_vars&&(s=tc_vars.xiti_page_name),e=""!==t?"::formulaire_erreur_":"::resultat",n.xtclick_s2="15",n.xtclick_event="F",n.label=s+e+t,window.console.log(t),"function"==typeof tc_events_1&&""!==t?window.tc_events_1(this,"CLICK",n):""!==t&&window.console.log(r,"CLICK",n)},100)})},{"../utils/helpers":133,"../utils/strings-operations":140}],143:[function(t,e,n){"use strict";function i(t,e){return r.bindAll(this,"_handleError","_handleSuccess"),this.token=void 0,a("html").hasClass("ie8")?this.url=App.WS.urlIE8:a("html").hasClass("ie9")?this.url=App.WS.urlIE9:this.url=App.WS.urlBP,this.applicationId=App.WS.applicationId,this.apiKey=App.WS.apiKey,this.nbAttempt=0,this.pathname=t,this.params=e,this.token=void 0,this.promise=a.Deferred(),this.performQuery(),this.promise}var a=t("jquery"),r=t("lodash"),s=t("crypto");a.support.cors=!0,i.prototype.performQuery=function(){a.ajax(this.formatURL()).fail(this._handleError).done(this._handleSuccess)},i.prototype.formatURL=function(){var t,e;return this.params.lat?e=this.url+"/"+this.pathname+"?ret_dep="+this.params.ret_dep+"&type="+this.params.type+"&range="+this.params.range+"&id="+this.applicationId+"&session="+this.token+"&use_http_status_code=0&sort=nom":(t=r(this.params).map(function(t,e){return"string"==typeof t?"ville"===e?e+"="+encodeURI(t):e+"="+t:a.isArray(t)?r.map(t,function(t){return e+"="+t}).join("&"):void 0}).join("&"),e=this.url+"/"+this.pathname+"?"+t+"&id="+this.applicationId+"&session="+this.token+"&use_http_status_code=0&sort=nom"),e},i.prototype._handleError=function(t,e){this.promise.reject(e)},i.prototype._handleSuccess=function(t){401===t.statusCode?(this.token=s.createHash("md5").update(this.apiKey+t.token).digest("hex"),this.nbAttempt++,this.performQuery()):this.promise.resolve(t)},e.exports=i},{crypto:155,lodash:166}],144:[function(t,e,n){"use strict";function i(t,e){return r.bindAll(this,"_parse","dispatchError"),this.promise=a.Deferred(),"city"===t?this.findByCity(e):"zipcode"===t&&this.findByZipcode(e),this.promise}var a=t("jquery"),r=t("lodash"),s=t("./roc-query"),o=t("../utils/strings-operations");i.prototype.findByZipcode=function(t){return this.fetch({codepostal:t})},i.prototype.findByCity=function(t){return this.fetch({ville:t})},i.prototype.fetch=function(t){this.query=new s("recherche/bureau",t).then(this._parse,this.dispatchError)},i.prototype.dispatchError=function(t){if("object"==typeof t&&"error"in t){var e=new Error(t.error);e.name="WSErrorNotFound",this.promise.reject(e)}else this.promise.reject("Unhandled WS error")},i.prototype._parse=function(t){var e=[];"bureaux"in t?e=r.map(t.bureaux,function(t){var e;e="dev"===App.environment?"ajax/companies_findBP.html":App.WS.postOfficeCompanisDetailUrlPrefix+o.slugify(t.libelleSite)+"/"+t.codeRoc;var n={uid:t.codeRoc,label:t.libelleSite,street:t.adresse,zipcode:t.codePostal,city:t.localite,telIndigo:t.telephoneIndigo,tel:t.telephoneStandard,tarif:t.tarif,coordinates:{lat:t.lat,"long":t.lng},type:"companies",isOpen:t.etat.ouvert,date:t.etat.date,lastUpdate:t.etat.dateChangement,icon:App.config.locator.pathOffice,url:e};return""!==t.etat.dateChangement&&(n.changeIn=o.datesDiffToText(new Date(t.etat.dateChangement),new Date)),n}):this.dispatchError(t),this.promise.resolve(e)},e.exports=i},{"../utils/strings-operations":140,"./roc-query":149,lodash:166}],145:[function(t,e,n){"use strict";function i(t,e){return r.bindAll(this,"_filter","_parse"),this.searchKey=t,this.searchValue=e,this.promise=a.Deferred(),"city"===t?this.findByCity(e):"zipcode"===t&&this.findByZipcode(e),this.promise}var a=t("jquery"),r=t("lodash");i.prototype.fetch=function(t){var e=a.Deferred();return a.getJSON(App.config.locator.pathCityssimoUrl,{cache:!0}).then(this._parse).then(this._filter).then(e.resolve),e.promise()},i.prototype.findByZipcode=function(t){return this.fetch({zipcode:t})},i.prototype.findByCity=function(t){return this.fetch({city:t})},i.prototype._filter=function(t){var e=r.filter(t,function(t){var e=this.searchValue.toLowerCase(),n=t[this.searchKey].toLowerCase();return n.indexOf(e)>-1},this);this.promise.resolve(e)},i.prototype.dispatchError=function(t){"error"in t?this.promise.reject(t.error):this.promise.reject("Unhandled WS error")},i.prototype._parse=function(t){var e=[];return void 0!==t&&(e=r.map(t,function(t){var e={uid:t.Ident_pr,label:t.Nom_Point_de_retrait,street:t["Adresse 1"]+t["Adresse 2"],zipcode:t.Code_postal,city:t.Ville,coordinates:{lat:t.Y.replace(",","."),"long":t.X.replace(",",".")},isOpen:!0,icon:App.config.locator.pathCityssimo,type:"cityssimo",hours:"1"===t.h24j7?"24h/24":t["Horaire particulier"]};return e})),e},e.exports=i},{lodash:166}],146:[function(t,e,n){"use strict";function i(t,e,n,i,s){return r.bindAll(this,"_parse","dispatchError"),this.options=n,this.promise=a.Deferred(),"city"===t?this.findByCity(e,i,s):"zipcode"===t?this.findByZipcode(e,i,s):"geoloc"===t&&this.findByGeoloc(e,i,s),this.promise}var a=t("jquery"),r=t("lodash"),s=t("./acores-query"),o=t("../utils/strings-operations");i.prototype.findByGeoloc=function(t,e,n){return t={lat:t.lat,lng:t.lng,range:40,ret_dep:e,id:26,use_http_status_code:0},("undefined"!=typeof n||"null"===String(n))&&(t.type=n),this.fetch(t)},i.prototype.findByZipcode=function(t,e,n){var i={code_postal:t,ret_dep:e,id:26,use_http_status_code:0};return("undefined"!=typeof n||"null"===String(n))&&(i.type=n),this.fetch(i)},i.prototype.findByCity=function(t,e,n){var i={ville:t,ret_dep:e,id:4,use_http_status_code:0};return("undefined"!=typeof n||"null"===String(n))&&(i.type=n),this.fetch(i)},i.prototype.fetch=function(t){t.lat?this.query=new s("acores/point_proche/"+t.lat+"/"+t.lng,r.merge(t,this.options)).then(this._parse,this.dispatchError):this.query=new s("acores/retrait-depot",r.merge(t,this.options)).then(this._parse,this.dispatchError)},i.prototype.dispatchError=function(t){if("object"==typeof t&&"error"in t){var e=new Error(t.error);e.name="WSErrorNotFound",this.promise.reject(e)}else if(this.promise.reject("Unhandled WS error"),"object"==typeof window.tc_vars&&"function"==typeof window.tc_events_1){var n={xiti_xtn2:tc_vars.xiti_xtn2,xiti_page_name:"outils::localiser::bureau_de_poste::erreur_service_indisponible"};window.tc_events_1(this,"PAGE",n)}},i.prototype._parse=function(t){var e=[];"bureaux"in t?e=r.map(t.bureaux,function(t,e){var n,i,a=!1,r=t.general.type;"A2P"===r?App.WS.merchantDetailUrlPrefix:App.WS.postOfficeDetailUrlPrefix;n="dev"===App.environment?"ajax/consumers_findColissimo_no-tab.html":"/"+App.config.currentSpace+t.url,i=t.general.statut.statut.toLowerCase()==="Ouvert".toLowerCase()?"ouvert":t.general.statut.statut.toLowerCase()==="Ferme".toLowerCase()?"ferme":"autre","true"===t.general.statut.isDOM&&(a=!0);var s={uid:e,label:t.general.libelleSite,street:t.general.adresse,zipcode:t.general.codePostal,city:t.general.localite,coordinates:{lat:t.general.lat,"long":t.general.lng},type:r,isOpen:i,isDom:a,date:t.general.statut.heure,lastUpdate:t.general.statut.dateChangement,icon:App.config.locator.pathOfficeColi,url:n,typeLabel:"Bureau de poste",classement:t.classement};switch(t.general.type){case"BPR":s.icon=App.config.locator.pathOfficeColi;break;case"AP":s.icon=App.config.locator.pathOfficeColi;break;case"BPC":s.icon=App.config.locator.pathOfficeColi;break;case"CDI":s.icon=App.config.locator.pathOfficeColi;break;case"CIT":s.icon=App.config.locator.pathCityColi,s.typeLabel="Consigne";break;case"A2P":s.icon=App.config.locator.pathShopColi,s.typeLabel="Commerant"}return""!==t.general.statut.dateChangement&&(s.changeIn=o.datesDiffToText(new Date(t.general.statut.dateChangement),new Date)),s}):this.dispatchError(t),this.promise.resolve(e)},e.exports=i},{"../utils/strings-operations":140,"./acores-query":143,lodash:166}],147:[function(t,e,n){"use strict";function i(t,e){return r.bindAll(this,"_filter","_parse"),this.searchKey=t,this.searchValue=e,this.promise=a.Deferred(),"city"===t?this.findByCity(e):"zipcode"===t&&this.findByZipcode(e),this.promise}var a=t("jquery"),r=t("lodash");i.prototype.fetch=function(t){var e=a.Deferred();return a.getJSON(App.config.locator.pathMerchantsUrl,{cache:!0}).then(this._parse).then(this._filter).then(e.resolve),e.promise()},i.prototype.findByZipcode=function(t){return this.fetch({zipcode:t})},i.prototype.findByCity=function(t){return this.fetch({city:t})},i.prototype._filter=function(t){var e=r.filter(t,function(t){var e=this.searchValue.toLowerCase(),n=t[this.searchKey].toLowerCase();return n.indexOf(e)>-1},this);this.promise.resolve(e)},i.prototype.dispatchError=function(t){"error"in t?this.promise.reject(t.error):this.promise.reject("Unhandled WS error")},i.prototype._parse=function(t){var e=[];return void 0!==t&&(e=r.map(t,function(t){var e={uid:"",label:t.Societe,street:t.Adresse1,zipcode:t.Zipcode,city:t.Ville,coordinates:{lat:t.Y,"long":t.X},isOpen:!0,icon:App.config.locator.pathNegociant,type:"merchants",hours:"",email:t.Mail};return e})),e},e.exports=i},{lodash:166}],148:[function(t,e,n){"use strict";function i(t,e,n){return r.bindAll(this,"_parse","dispatchError"),this.options=n,this.promise=a.Deferred(),"city"===t?this.findByCity(e):"zipcode"===t&&this.findByZipcode(e),this.promise}var a=t("jquery"),r=t("lodash"),s=t("./acores-query"),o=t("../utils/strings-operations");i.prototype.findByZipcode=function(t){return this.fetch({code_postal:t})},i.prototype.findByCity=function(t){return this.fetch({ville:t})},i.prototype.fetch=function(t){this.query=new s("acores/bureau_v2",r.merge(t,this.options)).then(this._parse,this.dispatchError)},i.prototype.dispatchError=function(t){if("object"==typeof t&&"error"in t){var e=new Error(t.error);e.name="WSErrorNotFound",this.promise.reject(e)}else this.promise.reject("Unhandled WS error")},i.prototype._parse=function(t){var e=[];"bureaux"in t?e=r.map(t.bureaux,function(t,e){var n,i,a=!1,r="undefined"!=typeof App.config.currentSpace?App.config.currentSpace:null;n="dev"===App.environment?"ajax/consumers_findBP_new.html?space="+r:"/"+App.config.currentSpace+t.url,i=t.general.statut.statut.toLowerCase()==="Ouvert".toLowerCase()?"ouvert":t.general.statut.statut.toLowerCase()==="Ferme".toLowerCase()?"ferme":"autre","true"===t.general.statut.isDOM&&(a=!0);var s={uid:e,label:t.general.libelleSite,street:t.general.adresse,zipcode:t.general.codePostal,city:t.general.localite,coordinates:{lat:t.general.lat,"long":t.general.lng},type:t.general.type,isOpen:i,isDom:a,date:t.general.statut.heure,lastUpdate:t.general.statut.dateChangement,icon:App.config.locator.pathOffice,url:n};return""!==t.general.statut.dateChangement&&(s.changeIn=o.datesDiffToText(new Date(t.general.statut.dateChangement),new Date)),s}):this.dispatchError(t),this.promise.resolve(e)},e.exports=i},{"../utils/strings-operations":140,"./acores-query":143,lodash:166}],149:[function(t,e,n){"use strict";function i(t,e){return r.bindAll(this,"_handleError","_handleSuccess"),a("html").hasClass("ie8")?this.url=App.WS.urlCompaniesIE8:a("html").hasClass("ie9")?this.url=App.WS.urlCompaniesIE9:this.url=App.WS.urlCompanies,this.pathname=t,this.params=e,this.promise=a.Deferred(),this.performQuery(),this.promise}var a=t("jquery"),r=t("lodash");t("crypto");i.prototype.performQuery=function(){a.ajax(this.formatURL()).fail(this._handleError).done(this._handleSuccess)},i.prototype.formatURL=function(){var t=r(this.params).map(function(t,e){return"ville"===e?e+"/"+encodeURI(t):e+"/"+t}).join("&");return this.url+"/"+this.pathname+"/"+t},i.prototype._handleError=function(t,e){this.promise.reject(e)},i.prototype._handleSuccess=function(t){this.promise.resolve(t)},e.exports=i},{crypto:155,lodash:166}],150:[function(t,e,n){function i(t,e,n){if(!(this instanceof i))return new i(t,e,n);var a,r=typeof t;if("number"===r)a=t>0?t>>>0:0;else if("string"===r)"base64"===e&&(t=x(t)),a=i.byteLength(t,e);else{if("object"!==r||null===t)throw new TypeError("must start with number, buffer, array or string");"Buffer"===t.type&&F(t.data)&&(t=t.data),a=+t.length>0?Math.floor(+t.length):0}if(this.length>L)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+L.toString(16)+" bytes");var s;i.TYPED_ARRAY_SUPPORT?s=i._augment(new Uint8Array(a)):(s=this,s.length=a,s._isBuffer=!0);var o;if(i.TYPED_ARRAY_SUPPORT&&"number"==typeof t.byteLength)s._set(t);else if(D(t))if(i.isBuffer(t))for(o=0;a>o;o++)s[o]=t.readUInt8(o);else for(o=0;a>o;o++)s[o]=(t[o]%256+256)%256;else if("string"===r)s.write(t,0,e);else if("number"===r&&!i.TYPED_ARRAY_SUPPORT&&!n)for(o=0;a>o;o++)s[o]=0;return s}function a(t,e,n,i){n=Number(n)||0;var a=t.length-n;i?(i=Number(i),i>a&&(i=a)):i=a;var r=e.length;if(r%2!==0)throw new Error("Invalid hex string");i>r/2&&(i=r/2);for(var s=0;i>s;s++){var o=parseInt(e.substr(2*s,2),16);if(isNaN(o))throw new Error("Invalid hex string");t[n+s]=o}return s}function r(t,e,n,i){var a=E(S(e),t,n,i);return a}function s(t,e,n,i){var a=E(T(e),t,n,i);return a}function o(t,e,n,i){return s(t,e,n,i)}function l(t,e,n,i){var a=E(I(e),t,n,i);return a}function c(t,e,n,i){var a=E(M(e),t,n,i,2);return a}function u(t,e,n){return 0===e&&n===t.length?P.fromByteArray(t):P.fromByteArray(t.slice(e,n))}function d(t,e,n){var i="",a="";n=Math.min(t.length,n);for(var r=e;n>r;r++)t[r]<=127?(i+=j(a)+String.fromCharCode(t[r]),a=""):a+="%"+t[r].toString(16);return i+j(a)}function p(t,e,n){var i="";n=Math.min(t.length,n);for(var a=e;n>a;a++)i+=String.fromCharCode(t[a]);return i}function h(t,e,n){return p(t,e,n)}function f(t,e,n){var i=t.length;(!e||0>e)&&(e=0),(!n||0>n||n>i)&&(n=i);for(var a="",r=e;n>r;r++)a+=A(t[r]);return a}function g(t,e,n){for(var i=t.slice(e,n),a="",r=0;r<i.length;r+=2)a+=String.fromCharCode(i[r]+256*i[r+1]);return a}function m(t,e,n){if(t%1!==0||0>t)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function v(t,e,n,a,r,s){if(!i.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");if(e>r||s>e)throw new TypeError("value is out of bounds");if(n+a>t.length)throw new TypeError("index out of range")}function y(t,e,n,i){0>e&&(e=65535+e+1);for(var a=0,r=Math.min(t.length-n,2);r>a;a++)t[n+a]=(e&255<<8*(i?a:1-a))>>>8*(i?a:1-a)}function b(t,e,n,i){0>e&&(e=4294967295+e+1);for(var a=0,r=Math.min(t.length-n,4);r>a;a++)t[n+a]=e>>>8*(i?a:3-a)&255}function _(t,e,n,i,a,r){if(e>a||r>e)throw new TypeError("value is out of bounds");if(n+i>t.length)throw new TypeError("index out of range")}function w(t,e,n,i,a){return a||_(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),O.write(t,e,n,i,23,4),n+4}function k(t,e,n,i,a){return a||_(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),O.write(t,e,n,i,52,8),n+8}function x(t){for(t=C(t).replace(q,"");t.length%4!==0;)t+="=";return t}function C(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function D(t){return F(t)||i.isBuffer(t)||t&&"object"==typeof t&&"number"==typeof t.length}function A(t){return 16>t?"0"+t.toString(16):t.toString(16)}function S(t){for(var e=[],n=0;n<t.length;n++){var i=t.charCodeAt(n);if(127>=i)e.push(i);else{var a=n;i>=55296&&57343>=i&&n++;for(var r=encodeURIComponent(t.slice(a,n+1)).substr(1).split("%"),s=0;s<r.length;s++)e.push(parseInt(r[s],16))}}return e}function T(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e}function M(t){for(var e,n,i,a=[],r=0;r<t.length;r++)e=t.charCodeAt(r),n=e>>8,i=e%256,a.push(i),a.push(n);return a}function I(t){return P.toByteArray(t)}function E(t,e,n,i,a){a&&(i-=i%a);for(var r=0;i>r&&!(r+n>=e.length||r>=t.length);r++)e[r+n]=t[r];return r}function j(t){try{return decodeURIComponent(t)}catch(e){return String.fromCharCode(65533)}}var P=t("base64-js"),O=t("ieee754"),F=t("is-array");n.Buffer=i,n.SlowBuffer=i,n.INSPECT_MAX_BYTES=50,i.poolSize=8192;var L=1073741823;i.TYPED_ARRAY_SUPPORT=function(){try{var t=new ArrayBuffer(0),e=new Uint8Array(t);return e.foo=function(){return 42},42===e.foo()&&"function"==typeof e.subarray&&0===new Uint8Array(1).subarray(1,1).byteLength}catch(n){return!1}}(),i.isBuffer=function(t){return!(null==t||!t._isBuffer)},i.compare=function(t,e){if(!i.isBuffer(t)||!i.isBuffer(e))throw new TypeError("Arguments must be Buffers");for(var n=t.length,a=e.length,r=0,s=Math.min(n,a);s>r&&t[r]===e[r];r++);return r!==s&&(n=t[r],a=e[r]),a>n?-1:n>a?1:0},i.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(t,e){if(!F(t))throw new TypeError("Usage: Buffer.concat(list[, length])");if(0===t.length)return new i(0);if(1===t.length)return t[0];var n;if(void 0===e)for(e=0,n=0;n<t.length;n++)e+=t[n].length;var a=new i(e),r=0;for(n=0;n<t.length;n++){var s=t[n];s.copy(a,r),r+=s.length}return a},i.byteLength=function(t,e){var n;switch(t+="",e||"utf8"){case"ascii":case"binary":case"raw":n=t.length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":n=2*t.length;break;case"hex":n=t.length>>>1;break;case"utf8":case"utf-8":n=S(t).length;break;case"base64":n=I(t).length;break;default:n=t.length}return n},i.prototype.length=void 0,i.prototype.parent=void 0,i.prototype.toString=function(t,e,n){var i=!1;if(e>>>=0,n=void 0===n||n===1/0?this.length:n>>>0,t||(t="utf8"),0>e&&(e=0),n>this.length&&(n=this.length),e>=n)return"";for(;;)switch(t){case"hex":return f(this,e,n);case"utf8":case"utf-8":return d(this,e,n);case"ascii":return p(this,e,n);case"binary":return h(this,e,n);case"base64":return u(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return g(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}},i.prototype.equals=function(t){
if(!i.isBuffer(t))throw new TypeError("Argument must be a Buffer");return 0===i.compare(this,t)},i.prototype.inspect=function(){var t="",e=n.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},i.prototype.compare=function(t){if(!i.isBuffer(t))throw new TypeError("Argument must be a Buffer");return i.compare(this,t)},i.prototype.get=function(t){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(t)},i.prototype.set=function(t,e){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(t,e)},i.prototype.write=function(t,e,n,i){if(isFinite(e))isFinite(n)||(i=n,n=void 0);else{var u=i;i=e,e=n,n=u}e=Number(e)||0;var d=this.length-e;n?(n=Number(n),n>d&&(n=d)):n=d,i=String(i||"utf8").toLowerCase();var p;switch(i){case"hex":p=a(this,t,e,n);break;case"utf8":case"utf-8":p=r(this,t,e,n);break;case"ascii":p=s(this,t,e,n);break;case"binary":p=o(this,t,e,n);break;case"base64":p=l(this,t,e,n);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":p=c(this,t,e,n);break;default:throw new TypeError("Unknown encoding: "+i)}return p},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},i.prototype.slice=function(t,e){var n=this.length;if(t=~~t,e=void 0===e?n:~~e,0>t?(t+=n,0>t&&(t=0)):t>n&&(t=n),0>e?(e+=n,0>e&&(e=0)):e>n&&(e=n),t>e&&(e=t),i.TYPED_ARRAY_SUPPORT)return i._augment(this.subarray(t,e));for(var a=e-t,r=new i(a,void 0,!0),s=0;a>s;s++)r[s]=this[s+t];return r},i.prototype.readUInt8=function(t,e){return e||m(t,1,this.length),this[t]},i.prototype.readUInt16LE=function(t,e){return e||m(t,2,this.length),this[t]|this[t+1]<<8},i.prototype.readUInt16BE=function(t,e){return e||m(t,2,this.length),this[t]<<8|this[t+1]},i.prototype.readUInt32LE=function(t,e){return e||m(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},i.prototype.readUInt32BE=function(t,e){return e||m(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},i.prototype.readInt8=function(t,e){return e||m(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},i.prototype.readInt16LE=function(t,e){e||m(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt16BE=function(t,e){e||m(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt32LE=function(t,e){return e||m(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},i.prototype.readInt32BE=function(t,e){return e||m(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},i.prototype.readFloatLE=function(t,e){return e||m(t,4,this.length),O.read(this,t,!0,23,4)},i.prototype.readFloatBE=function(t,e){return e||m(t,4,this.length),O.read(this,t,!1,23,4)},i.prototype.readDoubleLE=function(t,e){return e||m(t,8,this.length),O.read(this,t,!0,52,8)},i.prototype.readDoubleBE=function(t,e){return e||m(t,8,this.length),O.read(this,t,!1,52,8)},i.prototype.writeUInt8=function(t,e,n){return t=+t,e>>>=0,n||v(this,t,e,1,255,0),i.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=t,e+1},i.prototype.writeUInt16LE=function(t,e,n){return t=+t,e>>>=0,n||v(this,t,e,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[e]=t,this[e+1]=t>>>8):y(this,t,e,!0),e+2},i.prototype.writeUInt16BE=function(t,e,n){return t=+t,e>>>=0,n||v(this,t,e,2,65535,0),i.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=t):y(this,t,e,!1),e+2},i.prototype.writeUInt32LE=function(t,e,n){return t=+t,e>>>=0,n||v(this,t,e,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=t):b(this,t,e,!0),e+4},i.prototype.writeUInt32BE=function(t,e,n){return t=+t,e>>>=0,n||v(this,t,e,4,4294967295,0),i.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t):b(this,t,e,!1),e+4},i.prototype.writeInt8=function(t,e,n){return t=+t,e>>>=0,n||v(this,t,e,1,127,-128),i.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),0>t&&(t=255+t+1),this[e]=t,e+1},i.prototype.writeInt16LE=function(t,e,n){return t=+t,e>>>=0,n||v(this,t,e,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[e]=t,this[e+1]=t>>>8):y(this,t,e,!0),e+2},i.prototype.writeInt16BE=function(t,e,n){return t=+t,e>>>=0,n||v(this,t,e,2,32767,-32768),i.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=t):y(this,t,e,!1),e+2},i.prototype.writeInt32LE=function(t,e,n){return t=+t,e>>>=0,n||v(this,t,e,4,2147483647,-2147483648),i.TYPED_ARRAY_SUPPORT?(this[e]=t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):b(this,t,e,!0),e+4},i.prototype.writeInt32BE=function(t,e,n){return t=+t,e>>>=0,n||v(this,t,e,4,2147483647,-2147483648),0>t&&(t=4294967295+t+1),i.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t):b(this,t,e,!1),e+4},i.prototype.writeFloatLE=function(t,e,n){return w(this,t,e,!0,n)},i.prototype.writeFloatBE=function(t,e,n){return w(this,t,e,!1,n)},i.prototype.writeDoubleLE=function(t,e,n){return k(this,t,e,!0,n)},i.prototype.writeDoubleBE=function(t,e,n){return k(this,t,e,!1,n)},i.prototype.copy=function(t,e,n,a){var r=this;if(n||(n=0),a||0===a||(a=this.length),e||(e=0),a!==n&&0!==t.length&&0!==r.length){if(n>a)throw new TypeError("sourceEnd < sourceStart");if(0>e||e>=t.length)throw new TypeError("targetStart out of bounds");if(0>n||n>=r.length)throw new TypeError("sourceStart out of bounds");if(0>a||a>r.length)throw new TypeError("sourceEnd out of bounds");a>this.length&&(a=this.length),t.length-e<a-n&&(a=t.length-e+n);var s=a-n;if(1e3>s||!i.TYPED_ARRAY_SUPPORT)for(var o=0;s>o;o++)t[o+e]=this[o+n];else t._set(this.subarray(n,n+s),e)}},i.prototype.fill=function(t,e,n){if(t||(t=0),e||(e=0),n||(n=this.length),e>n)throw new TypeError("end < start");if(n!==e&&0!==this.length){if(0>e||e>=this.length)throw new TypeError("start out of bounds");if(0>n||n>this.length)throw new TypeError("end out of bounds");var i;if("number"==typeof t)for(i=e;n>i;i++)this[i]=t;else{var a=S(t.toString()),r=a.length;for(i=e;n>i;i++)this[i]=a[i%r]}return this}},i.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(i.TYPED_ARRAY_SUPPORT)return new i(this).buffer;for(var t=new Uint8Array(this.length),e=0,n=t.length;n>e;e+=1)t[e]=this[e];return t.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var $=i.prototype;i._augment=function(t){return t.constructor=i,t._isBuffer=!0,t._get=t.get,t._set=t.set,t.get=$.get,t.set=$.set,t.write=$.write,t.toString=$.toString,t.toLocaleString=$.toString,t.toJSON=$.toJSON,t.equals=$.equals,t.compare=$.compare,t.copy=$.copy,t.slice=$.slice,t.readUInt8=$.readUInt8,t.readUInt16LE=$.readUInt16LE,t.readUInt16BE=$.readUInt16BE,t.readUInt32LE=$.readUInt32LE,t.readUInt32BE=$.readUInt32BE,t.readInt8=$.readInt8,t.readInt16LE=$.readInt16LE,t.readInt16BE=$.readInt16BE,t.readInt32LE=$.readInt32LE,t.readInt32BE=$.readInt32BE,t.readFloatLE=$.readFloatLE,t.readFloatBE=$.readFloatBE,t.readDoubleLE=$.readDoubleLE,t.readDoubleBE=$.readDoubleBE,t.writeUInt8=$.writeUInt8,t.writeUInt16LE=$.writeUInt16LE,t.writeUInt16BE=$.writeUInt16BE,t.writeUInt32LE=$.writeUInt32LE,t.writeUInt32BE=$.writeUInt32BE,t.writeInt8=$.writeInt8,t.writeInt16LE=$.writeInt16LE,t.writeInt16BE=$.writeInt16BE,t.writeInt32LE=$.writeInt32LE,t.writeInt32BE=$.writeInt32BE,t.writeFloatLE=$.writeFloatLE,t.writeFloatBE=$.writeFloatBE,t.writeDoubleLE=$.writeDoubleLE,t.writeDoubleBE=$.writeDoubleBE,t.fill=$.fill,t.inspect=$.inspect,t.toArrayBuffer=$.toArrayBuffer,t};var q=/[^+\/0-9A-z]/g},{"base64-js":151,ieee754:152,"is-array":153}],151:[function(t,e,n){var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(t){"use strict";function e(t){var e=t.charCodeAt(0);return e===s?62:e===o?63:l>e?-1:l+10>e?e-l+26+26:u+26>e?e-u:c+26>e?e-c+26:void 0}function n(t){function n(t){c[d++]=t}var i,a,s,o,l,c;if(t.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var u=t.length;l="="===t.charAt(u-2)?2:"="===t.charAt(u-1)?1:0,c=new r(3*t.length/4-l),s=l>0?t.length-4:t.length;var d=0;for(i=0,a=0;s>i;i+=4,a+=3)o=e(t.charAt(i))<<18|e(t.charAt(i+1))<<12|e(t.charAt(i+2))<<6|e(t.charAt(i+3)),n((16711680&o)>>16),n((65280&o)>>8),n(255&o);return 2===l?(o=e(t.charAt(i))<<2|e(t.charAt(i+1))>>4,n(255&o)):1===l&&(o=e(t.charAt(i))<<10|e(t.charAt(i+1))<<4|e(t.charAt(i+2))>>2,n(o>>8&255),n(255&o)),c}function a(t){function e(t){return i.charAt(t)}function n(t){return e(t>>18&63)+e(t>>12&63)+e(t>>6&63)+e(63&t)}var a,r,s,o=t.length%3,l="";for(a=0,s=t.length-o;s>a;a+=3)r=(t[a]<<16)+(t[a+1]<<8)+t[a+2],l+=n(r);switch(o){case 1:r=t[t.length-1],l+=e(r>>2),l+=e(r<<4&63),l+="==";break;case 2:r=(t[t.length-2]<<8)+t[t.length-1],l+=e(r>>10),l+=e(r>>4&63),l+=e(r<<2&63),l+="="}return l}var r="undefined"!=typeof Uint8Array?Uint8Array:Array,s="+".charCodeAt(0),o="/".charCodeAt(0),l="0".charCodeAt(0),c="a".charCodeAt(0),u="A".charCodeAt(0);t.toByteArray=n,t.fromByteArray=a}("undefined"==typeof n?this.base64js={}:n)},{}],152:[function(t,e,n){n.read=function(t,e,n,i,a){var r,s,o=8*a-i-1,l=(1<<o)-1,c=l>>1,u=-7,d=n?a-1:0,p=n?-1:1,h=t[e+d];for(d+=p,r=h&(1<<-u)-1,h>>=-u,u+=o;u>0;r=256*r+t[e+d],d+=p,u-=8);for(s=r&(1<<-u)-1,r>>=-u,u+=i;u>0;s=256*s+t[e+d],d+=p,u-=8);if(0===r)r=1-c;else{if(r===l)return s?NaN:(h?-1:1)*(1/0);s+=Math.pow(2,i),r-=c}return(h?-1:1)*s*Math.pow(2,r-i)},n.write=function(t,e,n,i,a,r){var s,o,l,c=8*r-a-1,u=(1<<c)-1,d=u>>1,p=23===a?Math.pow(2,-24)-Math.pow(2,-77):0,h=i?0:r-1,f=i?1:-1,g=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,s=u):(s=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-s))<1&&(s--,l*=2),e+=s+d>=1?p/l:p*Math.pow(2,1-d),e*l>=2&&(s++,l/=2),s+d>=u?(o=0,s=u):s+d>=1?(o=(e*l-1)*Math.pow(2,a),s+=d):(o=e*Math.pow(2,d-1)*Math.pow(2,a),s=0));a>=8;t[n+h]=255&o,h+=f,o/=256,a-=8);for(s=s<<a|o,c+=a;c>0;t[n+h]=255&s,h+=f,s/=256,c-=8);t[n+h-f]|=128*g}},{}],153:[function(t,e,n){var i=Array.isArray,a=Object.prototype.toString;e.exports=i||function(t){return!!t&&"[object Array]"==a.call(t)}},{}],154:[function(t,e,n){function i(t,e){if(t.length%o!==0){var n=t.length+(o-t.length%o);t=s.concat([t,l],n)}for(var i=[],a=e?t.readInt32BE:t.readInt32LE,r=0;r<t.length;r+=o)i.push(a.call(t,r));return i}function a(t,e,n){for(var i=new s(e),a=n?i.writeInt32BE:i.writeInt32LE,r=0;r<t.length;r++)a.call(i,t[r],4*r,!0);return i}function r(t,e,n,r){s.isBuffer(t)||(t=new s(t));var o=e(i(t,r),t.length*c);return a(o,n,r)}var s=t("buffer").Buffer,o=4,l=new s(o);l.fill(0);var c=8;e.exports={hash:r}},{buffer:150}],155:[function(t,e,n){function i(t,e,n){o.isBuffer(e)||(e=new o(e)),o.isBuffer(n)||(n=new o(n)),e.length>h?e=t(e):e.length<h&&(e=o.concat([e,f],h));for(var i=new o(h),a=new o(h),r=0;h>r;r++)i[r]=54^e[r],a[r]=92^e[r];var s=t(o.concat([i,n]));return t(o.concat([a,s]))}function a(t,e){t=t||"sha1";var n=p[t],a=[],s=0;return n||r("algorithm:",t,"is not yet supported"),{update:function(t){return o.isBuffer(t)||(t=new o(t)),a.push(t),s+=t.length,this},digest:function(t){var r=o.concat(a),s=e?i(n,e,r):n(r);return a=null,t?s.toString(t):s}}}function r(){var t=[].slice.call(arguments).join(" ");throw new Error([t,"we accept pull requests","http://github.com/dominictarr/crypto-browserify"].join("\n"))}function s(t,e){for(var n in t)e(t[n],n)}var o=t("buffer").Buffer,l=t("./sha"),c=t("./sha256"),u=t("./rng"),d=t("./md5"),p={sha1:l,sha256:c,md5:d},h=64,f=new o(h);f.fill(0),n.createHash=function(t){return a(t)},n.createHmac=function(t,e){return a(t,e)},n.randomBytes=function(t,e){if(!e||!e.call)return new o(u(t));try{e.call(this,void 0,new o(u(t)))}catch(n){e(n)}},s(["createCredentials","createCipher","createCipheriv","createDecipher","createDecipheriv","createSign","createVerify","createDiffieHellman","pbkdf2"],function(t){n[t]=function(){r("sorry,",t,"is not implemented yet")}})},{"./md5":156,"./rng":157,"./sha":158,"./sha256":159,buffer:150}],156:[function(t,e,n){function i(t,e){t[e>>5]|=128<<e%32,t[(e+64>>>9<<4)+14]=e;for(var n=1732584193,i=-271733879,a=-1732584194,u=271733878,d=0;d<t.length;d+=16){var p=n,h=i,f=a,g=u;n=r(n,i,a,u,t[d+0],7,-680876936),u=r(u,n,i,a,t[d+1],12,-389564586),a=r(a,u,n,i,t[d+2],17,606105819),i=r(i,a,u,n,t[d+3],22,-1044525330),n=r(n,i,a,u,t[d+4],7,-176418897),u=r(u,n,i,a,t[d+5],12,1200080426),a=r(a,u,n,i,t[d+6],17,-1473231341),i=r(i,a,u,n,t[d+7],22,-45705983),n=r(n,i,a,u,t[d+8],7,1770035416),u=r(u,n,i,a,t[d+9],12,-1958414417),a=r(a,u,n,i,t[d+10],17,-42063),i=r(i,a,u,n,t[d+11],22,-1990404162),n=r(n,i,a,u,t[d+12],7,1804603682),u=r(u,n,i,a,t[d+13],12,-40341101),a=r(a,u,n,i,t[d+14],17,-1502002290),i=r(i,a,u,n,t[d+15],22,1236535329),n=s(n,i,a,u,t[d+1],5,-165796510),u=s(u,n,i,a,t[d+6],9,-1069501632),a=s(a,u,n,i,t[d+11],14,643717713),i=s(i,a,u,n,t[d+0],20,-373897302),n=s(n,i,a,u,t[d+5],5,-701558691),u=s(u,n,i,a,t[d+10],9,38016083),a=s(a,u,n,i,t[d+15],14,-660478335),i=s(i,a,u,n,t[d+4],20,-405537848),n=s(n,i,a,u,t[d+9],5,568446438),u=s(u,n,i,a,t[d+14],9,-1019803690),a=s(a,u,n,i,t[d+3],14,-187363961),i=s(i,a,u,n,t[d+8],20,1163531501),n=s(n,i,a,u,t[d+13],5,-1444681467),u=s(u,n,i,a,t[d+2],9,-51403784),a=s(a,u,n,i,t[d+7],14,1735328473),i=s(i,a,u,n,t[d+12],20,-1926607734),n=o(n,i,a,u,t[d+5],4,-378558),u=o(u,n,i,a,t[d+8],11,-2022574463),a=o(a,u,n,i,t[d+11],16,1839030562),i=o(i,a,u,n,t[d+14],23,-35309556),n=o(n,i,a,u,t[d+1],4,-1530992060),u=o(u,n,i,a,t[d+4],11,1272893353),a=o(a,u,n,i,t[d+7],16,-155497632),i=o(i,a,u,n,t[d+10],23,-1094730640),n=o(n,i,a,u,t[d+13],4,681279174),u=o(u,n,i,a,t[d+0],11,-358537222),a=o(a,u,n,i,t[d+3],16,-722521979),i=o(i,a,u,n,t[d+6],23,76029189),n=o(n,i,a,u,t[d+9],4,-640364487),u=o(u,n,i,a,t[d+12],11,-421815835),a=o(a,u,n,i,t[d+15],16,530742520),i=o(i,a,u,n,t[d+2],23,-995338651),n=l(n,i,a,u,t[d+0],6,-198630844),u=l(u,n,i,a,t[d+7],10,1126891415),a=l(a,u,n,i,t[d+14],15,-1416354905),i=l(i,a,u,n,t[d+5],21,-57434055),n=l(n,i,a,u,t[d+12],6,1700485571),u=l(u,n,i,a,t[d+3],10,-1894986606),a=l(a,u,n,i,t[d+10],15,-1051523),i=l(i,a,u,n,t[d+1],21,-2054922799),n=l(n,i,a,u,t[d+8],6,1873313359),u=l(u,n,i,a,t[d+15],10,-30611744),a=l(a,u,n,i,t[d+6],15,-1560198380),i=l(i,a,u,n,t[d+13],21,1309151649),n=l(n,i,a,u,t[d+4],6,-145523070),u=l(u,n,i,a,t[d+11],10,-1120210379),a=l(a,u,n,i,t[d+2],15,718787259),i=l(i,a,u,n,t[d+9],21,-343485551),n=c(n,p),i=c(i,h),a=c(a,f),u=c(u,g)}return Array(n,i,a,u)}function a(t,e,n,i,a,r){return c(u(c(c(e,t),c(i,r)),a),n)}function r(t,e,n,i,r,s,o){return a(e&n|~e&i,t,e,r,s,o)}function s(t,e,n,i,r,s,o){return a(e&i|n&~i,t,e,r,s,o)}function o(t,e,n,i,r,s,o){return a(e^n^i,t,e,r,s,o)}function l(t,e,n,i,r,s,o){return a(n^(e|~i),t,e,r,s,o)}function c(t,e){var n=(65535&t)+(65535&e),i=(t>>16)+(e>>16)+(n>>16);return i<<16|65535&n}function u(t,e){return t<<e|t>>>32-e}var d=t("./helpers");e.exports=function(t){return d.hash(t,i,16)}},{"./helpers":154}],157:[function(t,e,n){!function(){var t,n,i=this;t=function(t){for(var e,e,n=new Array(t),i=0;t>i;i++)0==(3&i)&&(e=4294967296*Math.random()),n[i]=e>>>((3&i)<<3)&255;return n},i.crypto&&crypto.getRandomValues&&(n=function(t){var e=new Uint8Array(t);return crypto.getRandomValues(e),e}),e.exports=n||t}()},{}],158:[function(t,e,n){function i(t,e){t[e>>5]|=128<<24-e%32,t[(e+64>>9<<4)+15]=e;for(var n=Array(80),i=1732584193,l=-271733879,c=-1732584194,u=271733878,d=-1009589776,p=0;p<t.length;p+=16){for(var h=i,f=l,g=c,m=u,v=d,y=0;80>y;y++){16>y?n[y]=t[p+y]:n[y]=o(n[y-3]^n[y-8]^n[y-14]^n[y-16],1);var b=s(s(o(i,5),a(y,l,c,u)),s(s(d,n[y]),r(y)));d=u,u=c,c=o(l,30),l=i,i=b}i=s(i,h),l=s(l,f),c=s(c,g),u=s(u,m),d=s(d,v)}return Array(i,l,c,u,d)}function a(t,e,n,i){return 20>t?e&n|~e&i:40>t?e^n^i:60>t?e&n|e&i|n&i:e^n^i}function r(t){return 20>t?1518500249:40>t?1859775393:60>t?-1894007588:-899497514}function s(t,e){var n=(65535&t)+(65535&e),i=(t>>16)+(e>>16)+(n>>16);return i<<16|65535&n}function o(t,e){return t<<e|t>>>32-e}var l=t("./helpers");e.exports=function(t){return l.hash(t,i,20,!0)}},{"./helpers":154}],159:[function(t,e,n){var i=t("./helpers"),a=function(t,e){var n=(65535&t)+(65535&e),i=(t>>16)+(e>>16)+(n>>16);return i<<16|65535&n},r=function(t,e){return t>>>e|t<<32-e},s=function(t,e){return t>>>e},o=function(t,e,n){return t&e^~t&n},l=function(t,e,n){return t&e^t&n^e&n},c=function(t){return r(t,2)^r(t,13)^r(t,22)},u=function(t){return r(t,6)^r(t,11)^r(t,25)},d=function(t){return r(t,7)^r(t,18)^s(t,3)},p=function(t){return r(t,17)^r(t,19)^s(t,10)},h=function(t,e){var n,i,r,s,h,f,g,m,v,y,b,_,w=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),k=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),x=new Array(64);t[e>>5]|=128<<24-e%32,t[(e+64>>9<<4)+15]=e;for(var v=0;v<t.length;v+=16){n=k[0],i=k[1],r=k[2],s=k[3],h=k[4],f=k[5],g=k[6],m=k[7];for(var y=0;64>y;y++)16>y?x[y]=t[y+v]:x[y]=a(a(a(p(x[y-2]),x[y-7]),d(x[y-15])),x[y-16]),b=a(a(a(a(m,u(h)),o(h,f,g)),w[y]),x[y]),_=a(c(n),l(n,i,r)),m=g,g=f,f=h,h=a(s,b),s=r,r=i,i=n,n=a(b,_);k[0]=a(n,k[0]),k[1]=a(i,k[1]),k[2]=a(r,k[2]),k[3]=a(s,k[3]),k[4]=a(h,k[4]),k[5]=a(f,k[5]),k[6]=a(g,k[6]),k[7]=a(m,k[7])}return k};e.exports=function(t){return i.hash(t,h,32,!0)}},{"./helpers":154}],160:[function(t,e,n){!function(t,e){"function"==typeof define&&define.amd?define(["exports"],e):e("object"==typeof n&&"string"!=typeof n.nodeName?n:t.IBAN={})}(this,function(t){function e(t){return t=t.toUpperCase(),t=t.substr(4)+t.substr(0,4),t.split("").map(function(t){var e=t.charCodeAt(0);return e>=o&&l>=e?e-o+10:t}).join("")}function n(t){for(var e,n=t;n.length>2;)e=n.slice(0,9),n=parseInt(e,10)%97+n.slice(e.length);return parseInt(n,10)%97}function i(t){var e=t.match(/(.{3})/g).map(function(t){var e,n=t.slice(0,1),i=parseInt(t.slice(1),10);switch(n){case"A":e="0-9A-Za-z";break;case"B":e="0-9A-Z";break;case"C":e="A-Za-z";break;case"F":e="0-9";break;case"L":e="a-z";break;case"U":e="A-Z";break;case"W":e="0-9a-z"}return"(["+e+"]{"+i+"})"});return new RegExp("^"+e.join("")+"$")}function a(t,e,n,i){this.countryCode=t,this.length=e,this.structure=n,this.example=i}function r(t){c[t.countryCode]=t}function s(t){return"string"==typeof t||t instanceof String}Array.prototype.map||(Array.prototype.map=function(t){"use strict";if(void 0===this||null===this)throw new TypeError;var e=Object(this),n=e.length>>>0;if("function"!=typeof t)throw new TypeError;for(var i=new Array(n),a=arguments.length>=2?arguments[1]:void 0,r=0;n>r;r++)r in e&&(i[r]=t.call(a,e[r],r,e));return i});var o="A".charCodeAt(0),l="Z".charCodeAt(0);a.prototype._regex=function(){return this._cachedRegex||(this._cachedRegex=i(this.structure))},a.prototype.isValid=function(t){return this.length==t.length&&this.countryCode===t.slice(0,2)&&this._regex().test(t.slice(4))&&1==n(e(t))},a.prototype.toBBAN=function(t,e){return this._regex().exec(t.slice(4)).slice(1).join(e)},a.prototype.fromBBAN=function(t){if(!this.isValidBBAN(t))throw new Error("Invalid BBAN");var i=n(e(this.countryCode+"00"+t)),a=("0"+(98-i)).slice(-2);return this.countryCode+a+t},a.prototype.isValidBBAN=function(t){return this.length-4==t.length&&this._regex().test(t)};var c={};r(new a("AD",24,"F04F04A12","AD1200012030200359100100")),r(new a("AE",23,"F03F16","AE070331234567890123456")),r(new a("AL",28,"F08A16","AL47212110090000000235698741")),r(new a("AT",20,"F05F11","AT611904300234573201")),r(new a("AZ",28,"U04A20","AZ21NABZ00000000137010001944")),r(new a("BA",20,"F03F03F08F02","BA391290079401028494")),r(new a("BE",16,"F03F07F02","BE68539007547034")),r(new a("BG",22,"U04F04F02A08","BG80BNBG96611020345678")),r(new a("BH",22,"U04A14","BH67BMAG00001299123456")),r(new a("BR",29,"F08F05F10U01A01","BR9700360305000010009795493P1")),r(new a("CH",21,"F05A12","CH9300762011623852957")),r(new a("CR",21,"F03F14","CR0515202001026284066")),r(new a("CY",28,"F03F05A16","CY17002001280000001200527600")),r(new a("CZ",24,"F04F06F10","CZ6508000000192000145399")),r(new a("DE",22,"F08F10","DE89370400440532013000")),r(new a("DK",18,"F04F09F01","DK5000400440116243")),r(new a("DO",28,"U04F20","DO28BAGR00000001212453611324")),r(new a("EE",20,"F02F02F11F01","EE382200221020145685")),r(new a("ES",24,"F04F04F01F01F10","ES9121000418450200051332")),r(new a("FI",18,"F06F07F01","FI2112345600000785")),r(new a("FO",18,"F04F09F01","FO6264600001631634")),r(new a("FR",27,"F05F05A11F02","FR1420041010050500013M02606")),r(new a("GB",22,"U04F06F08","GB29NWBK60161331926819")),r(new a("GE",22,"U02F16","GE29NB0000000101904917")),r(new a("GI",23,"U04A15","GI75NWBK000000007099453")),r(new a("GL",18,"F04F09F01","GL8964710001000206")),r(new a("GR",27,"F03F04A16","GR1601101250000000012300695")),r(new a("GT",28,"A04A20","GT82TRAJ01020000001210029690")),r(new a("HR",21,"F07F10","HR1210010051863000160")),r(new a("HU",28,"F03F04F01F15F01","HU42117730161111101800000000")),r(new a("IE",22,"U04F06F08","IE29AIBK93115212345678")),r(new a("IL",23,"F03F03F13","IL620108000000099999999")),r(new a("IS",26,"F04F02F06F10","IS140159260076545510730339")),r(new a("IT",27,"U01F05F05A12","IT60X0542811101000000123456")),r(new a("KW",30,"U04A22","KW81CBKU0000000000001234560101")),r(new a("KZ",20,"F03A13","KZ86125KZT5004100100")),r(new a("LB",28,"F04A20","LB62099900000001001901229114")),r(new a("LC",32,"U04F24","LC07HEMM000100010012001200013015")),r(new a("LI",21,"F05A12","LI21088100002324013AA")),r(new a("LT",20,"F05F11","LT121000011101001000")),r(new a("LU",20,"F03A13","LU280019400644750000")),r(new a("LV",21,"U04A13","LV80BANK0000435195001")),r(new a("MC",27,"F05F05A11F02","MC5811222000010123456789030")),r(new a("MD",24,"U02A18","MD24AG000225100013104168")),r(new a("ME",22,"F03F13F02","ME25505000012345678951")),r(new a("MK",19,"F03A10F02","MK07250120000058984")),r(new a("MR",27,"F05F05F11F02","MR1300020001010000123456753")),r(new a("MT",31,"U04F05A18","MT84MALT011000012345MTLCAST001S")),r(new a("MU",30,"U04F02F02F12F03U03","MU17BOMM0101101030300200000MUR")),r(new a("NL",18,"U04F10","NL91ABNA0417164300")),r(new a("NO",15,"F04F06F01","NO9386011117947")),r(new a("PK",24,"U04A16","PK36SCBL0000001123456702")),r(new a("PL",28,"F08F16","PL61109010140000071219812874")),r(new a("PS",29,"U04A21","PS92PALS000000000400123456702")),r(new a("PT",25,"F04F04F11F02","PT50000201231234567890154")),r(new a("RO",24,"U04A16","RO49AAAA1B31007593840000")),r(new a("RS",22,"F03F13F02","RS35260005601001611379")),r(new a("SA",24,"F02A18","SA0380000000608010167519")),r(new a("SE",24,"F03F16F01","SE4550000000058398257466")),r(new a("SI",19,"F05F08F02","SI56263300012039086")),r(new a("SK",24,"F04F06F10","SK3112000000198742637541")),r(new a("SM",27,"U01F05F05A12","SM86U0322509800000000270100")),r(new a("ST",25,"F08F11F02","ST68000100010051845310112")),r(new a("TL",23,"F03F14F02","TL380080012345678910157")),r(new a("TN",24,"F02F03F13F02","TN5910006035183598478831")),r(new a("TR",26,"F05F01A16","TR330006100519786457841326")),r(new a("VG",24,"U04F16","VG96VPVG0000012345678901")),r(new a("XK",20,"F04F10F02","XK051212012345678906")),r(new a("AO",25,"F21","AO69123456789012345678901")),r(new a("BF",27,"F23","BF2312345678901234567890123")),r(new a("BI",16,"F12","BI41123456789012")),r(new a("BJ",28,"F24","BJ39123456789012345678901234")),r(new a("CI",28,"U01F23","CI17A12345678901234567890123")),r(new a("CM",27,"F23","CM9012345678901234567890123")),r(new a("CV",25,"F21","CV30123456789012345678901")),r(new a("DZ",24,"F20","DZ8612345678901234567890")),r(new a("IR",26,"F22","IR861234568790123456789012")),r(new a("JO",30,"A04F22","JO15AAAA1234567890123456789012")),r(new a("MG",27,"F23","MG1812345678901234567890123")),r(new a("ML",28,"U01F23","ML15A12345678901234567890123")),r(new a("MZ",25,"F21","MZ25123456789012345678901")),r(new a("QA",29,"U04A21","QA30AAAA123456789012345678901")),r(new a("SN",28,"U01F23","SN52A12345678901234567890123")),r(new a("UA",29,"F25","UA511234567890123456789012345"));var u=/[^a-zA-Z0-9]/g,d=/(.{4})(?!$)/g;t.isValid=function(t){if(!s(t))return!1;t=this.electronicFormat(t);var e=c[t.slice(0,2)];return!!e&&e.isValid(t)},t.toBBAN=function(t,e){"undefined"==typeof e&&(e=" "),t=this.electronicFormat(t);var n=c[t.slice(0,2)];if(!n)throw new Error("No country with code "+t.slice(0,2));return n.toBBAN(t,e)},t.fromBBAN=function(t,e){var n=c[t];if(!n)throw new Error("No country with code "+t);return n.fromBBAN(this.electronicFormat(e))},t.isValidBBAN=function(t,e){if(!s(e))return!1;var n=c[t];return n&&n.isValidBBAN(this.electronicFormat(e))},t.printFormat=function(t,e){return"undefined"==typeof e&&(e=" "),this.electronicFormat(t).replace(d,"$1"+e)},t.electronicFormat=function(t){return t.replace(u,"").toUpperCase()},t.countries=c})},{}],161:[function(t,e,n){(function(i){!function(t){if("object"==typeof n)e.exports=t();else if("function"==typeof define&&define.amd)define(t);else{var a;"undefined"!=typeof window?a=window:"undefined"!=typeof i?a=i:"undefined"!=typeof self&&(a=self),a.jade=t()}}(function(){return function e(n,i,a){function r(o,l){if(!i[o]){if(!n[o]){var c="function"==typeof t&&t;if(!l&&c)return c(o,!0);if(s)return s(o,!0);throw new Error("Cannot find module '"+o+"'")}var u=i[o]={exports:{}};n[o][0].call(u.exports,function(t){var e=n[o][1][t];return r(e?e:t)},u,u.exports,e,n,i,a)}return i[o].exports}for(var s="function"==typeof t&&t,o=0;o<a.length;o++)r(a[o]);return r}({1:[function(t,e,n){"use strict";function i(t){return null!=t&&""!==t}function a(t){return Array.isArray(t)?t.map(a).filter(i).join(" "):t}n.merge=function r(t,e){if(1===arguments.length){for(var n=t[0],a=1;a<t.length;a++)n=r(n,t[a]);return n}var s=t["class"],o=e["class"];(s||o)&&(s=s||[],o=o||[],Array.isArray(s)||(s=[s]),Array.isArray(o)||(o=[o]),t["class"]=s.concat(o).filter(i));for(var l in e)"class"!=l&&(t[l]=e[l]);return t},n.joinClasses=a,n.cls=function(t,e){for(var i=[],r=0;r<t.length;r++)e&&e[r]?i.push(n.escape(a([t[r]]))):i.push(a(t[r]));var s=a(i);return s.length?' class="'+s+'"':""},n.attr=function(t,e,i,a){return"boolean"==typeof e||null==e?e?" "+(a?t:t+'="'+t+'"'):"":0==t.indexOf("data")&&"string"!=typeof e?" "+t+"='"+JSON.stringify(e).replace(/'/g,"&apos;")+"'":i?" "+t+'="'+n.escape(e)+'"':" "+t+'="'+e+'"'},n.attrs=function(t,e){var i=[],r=Object.keys(t);if(r.length)for(var s=0;s<r.length;++s){var o=r[s],l=t[o];"class"==o?(l=a(l))&&i.push(" "+o+'="'+l+'"'):i.push(n.attr(o,l,!1,e))}return i.join("")},n.escape=function(t){var e=String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;");return e===""+t?t:e},n.rethrow=function s(e,n,i,a){if(!(e instanceof Error))throw e;if(!("undefined"==typeof window&&n||a))throw e.message+=" on line "+i,e;try{a=a||t("fs").readFileSync(n,"utf8")}catch(r){s(e,null,i)}var o=3,l=a.split("\n"),c=Math.max(i-o,0),u=Math.min(l.length,i+o),o=l.slice(c,u).map(function(t,e){var n=e+c+1;return(n==i?"  > ":"    ")+n+"| "+t}).join("\n");throw e.path=n,e.message=(n||"Jade")+":"+i+"\n"+o+"\n\n"+e.message,e}},{fs:2}],2:[function(t,e,n){},{}]},{},[1])(1)})}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],162:[function(t,e,n){var i=t("jquery");!function(t,e){function n(e,n){var a,r,s,o=e.nodeName.toLowerCase();return"area"===o?(a=e.parentNode,r=a.name,e.href&&r&&"map"===a.nodeName.toLowerCase()?(s=t("img[usemap=#"+r+"]")[0],!!s&&i(s)):!1):(/input|select|textarea|button|object/.test(o)?!e.disabled:"a"===o?e.href||n:n)&&i(e)}function i(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}var a=0,r=/^ui-id-\d+$/;t.ui=t.ui||{},t.extend(t.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({focus:function(e){return function(n,i){return"number"==typeof n?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),i&&i.call(e)},n)}):e.apply(this,arguments)}}(t.fn.focus),scrollParent:function(){var e;return e=t.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(t.css(this,"position"))&&/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!e.length?t(document):e},zIndex:function(n){if(n!==e)return this.css("zIndex",n);if(this.length)for(var i,a,r=t(this[0]);r.length&&r[0]!==document;){if(i=r.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(a=parseInt(r.css("zIndex"),10),!isNaN(a)&&0!==a))return a;r=r.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++a)})},removeUniqueId:function(){return this.each(function(){r.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(n){return!!t.data(n,e)}}):function(e,n,i){return!!t.data(e,i[3])},focusable:function(e){return n(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var i=t.attr(e,"tabindex"),a=isNaN(i);return(a||i>=0)&&n(e,!a)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(n,i){function a(e,n,i,a){return t.each(r,function(){n-=parseFloat(t.css(e,"padding"+this))||0,i&&(n-=parseFloat(t.css(e,"border"+this+"Width"))||0),a&&(n-=parseFloat(t.css(e,"margin"+this))||0)}),n}var r="Width"===i?["Left","Right"]:["Top","Bottom"],s=i.toLowerCase(),o={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+i]=function(n){return n===e?o["inner"+i].call(this):this.each(function(){t(this).css(s,a(this,n)+"px")})},t.fn["outer"+i]=function(e,n){return"number"!=typeof e?o["outer"+i].call(this,e):this.each(function(){t(this).css(s,a(this,e,!0,n)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(n){return arguments.length?e.call(this,t.camelCase(n)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.support.selectstart="onselectstart"in document.createElement("div"),t.fn.extend({disableSelection:function(){return this.bind((t.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),t.extend(t.ui,{plugin:{add:function(e,n,i){var a,r=t.ui[e].prototype;for(a in i)r.plugins[a]=r.plugins[a]||[],r.plugins[a].push([n,i[a]])},call:function(t,e,n){var i,a=t.plugins[e];if(a&&t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType)for(i=0;i<a.length;i++)t.options[a[i][0]]&&a[i][1].apply(t.element,n)}},hasScroll:function(e,n){if("hidden"===t(e).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",a=!1;return e[i]>0?!0:(e[i]=1,a=e[i]>0,e[i]=0,a)}})}(i)},{}],163:[function(t,e,n){var i=t("jquery");t("./core"),function(t,e){function n(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",
this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.dpDiv=i(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function i(e){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(n,"mouseout",function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).delegate(n,"mouseover",function(){t.datepicker._isDisabledDatepicker(r.inline?e.parent()[0]:r.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))})}function a(e,n){t.extend(e,n);for(var i in n)null==n[i]&&(e[i]=n[i]);return e}t.extend(t.ui,{datepicker:{version:"1.10.4"}});var r,s="datepicker";t.extend(n.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return a(this._defaults,t||{}),this},_attachDatepicker:function(e,n){var i,a,r;i=e.nodeName.toLowerCase(),a="div"===i||"span"===i,e.id||(this.uuid+=1,e.id="dp"+this.uuid),r=this._newInst(t(e),a),r.settings=t.extend({},n||{}),"input"===i?this._connectDatepicker(e,r):a&&this._inlineDatepicker(e,r)},_newInst:function(e,n){var a=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:a,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:n?i(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,n){var i=t(e);n.append=t([]),n.trigger=t([]),i.hasClass(this.markerClassName)||(this._attachments(i,n),i.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(n),t.data(e,s,n),n.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,n){var i,a,r,s=this._get(n,"appendText"),o=this._get(n,"isRTL");n.append&&n.append.remove(),s&&(n.append=t("<span class='"+this._appendClass+"'>"+s+"</span>"),e[o?"before":"after"](n.append)),e.unbind("focus",this._showDatepicker),n.trigger&&n.trigger.remove(),i=this._get(n,"showOn"),("focus"===i||"both"===i)&&e.focus(this._showDatepicker),("button"===i||"both"===i)&&(a=this._get(n,"buttonText"),r=this._get(n,"buttonImage"),n.trigger=t(this._get(n,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:r,alt:a,title:a}):t("<button type='button'></button>").addClass(this._triggerClass).html(r?t("<img/>").attr({src:r,alt:a,title:a}):a)),e[o?"before":"after"](n.trigger),n.trigger.click(function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,n,i,a,r=new Date(2009,11,20),s=this._get(t,"dateFormat");s.match(/[DM]/)&&(e=function(t){for(n=0,i=0,a=0;a<t.length;a++)t[a].length>n&&(n=t[a].length,i=a);return i},r.setMonth(e(this._get(t,s.match(/MM/)?"monthNames":"monthNamesShort"))),r.setDate(e(this._get(t,s.match(/DD/)?"dayNames":"dayNamesShort"))+20-r.getDay())),t.input.attr("size",this._formatDate(t,r).length)}},_inlineDatepicker:function(e,n){var i=t(e);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(n.dpDiv),t.data(e,s,n),this._setDate(n,this._getDefaultDate(n),!0),this._updateDatepicker(n),this._updateAlternate(n),n.settings.disabled&&this._disableDatepicker(e),n.dpDiv.css("display","block"))},_dialogDatepicker:function(e,n,i,r,o){var l,c,u,d,p,h=this._dialogInst;return h||(this.uuid+=1,l="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+l+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),t("body").append(this._dialogInput),h=this._dialogInst=this._newInst(this._dialogInput,!1),h.settings={},t.data(this._dialogInput[0],s,h)),a(h.settings,r||{}),n=n&&n.constructor===Date?this._formatDate(h,n):n,this._dialogInput.val(n),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(c=document.documentElement.clientWidth,u=document.documentElement.clientHeight,d=document.documentElement.scrollLeft||document.body.scrollLeft,p=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[c/2-100+d,u/2-150+p]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),h.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],s,h),this},_destroyDatepicker:function(e){var n,i=t(e),a=t.data(e,s);i.hasClass(this.markerClassName)&&(n=e.nodeName.toLowerCase(),t.removeData(e,s),"input"===n?(a.append.remove(),a.trigger.remove(),i.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===n||"span"===n)&&i.removeClass(this.markerClassName).empty())},_enableDatepicker:function(e){var n,i,a=t(e),r=t.data(e,s);a.hasClass(this.markerClassName)&&(n=e.nodeName.toLowerCase(),"input"===n?(e.disabled=!1,r.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===n||"span"===n)&&(i=a.children("."+this._inlineClass),i.children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var n,i,a=t(e),r=t.data(e,s);a.hasClass(this.markerClassName)&&(n=e.nodeName.toLowerCase(),"input"===n?(e.disabled=!0,r.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===n||"span"===n)&&(i=a.children("."+this._inlineClass),i.children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,s)}catch(n){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(n,i,r){var s,o,l,c,u=this._getInst(n);return 2===arguments.length&&"string"==typeof i?"defaults"===i?t.extend({},t.datepicker._defaults):u?"all"===i?t.extend({},u.settings):this._get(u,i):null:(s=i||{},"string"==typeof i&&(s={},s[i]=r),void(u&&(this._curInst===u&&this._hideDatepicker(),o=this._getDateDatepicker(n,!0),l=this._getMinMaxDate(u,"min"),c=this._getMinMaxDate(u,"max"),a(u.settings,s),null!==l&&s.dateFormat!==e&&s.minDate===e&&(u.settings.minDate=this._formatDate(u,l)),null!==c&&s.dateFormat!==e&&s.maxDate===e&&(u.settings.maxDate=this._formatDate(u,c)),"disabled"in s&&(s.disabled?this._disableDatepicker(n):this._enableDatepicker(n)),this._attachments(t(n),u),this._autoSize(u),this._setDate(u,o),this._updateAlternate(u),this._updateDatepicker(u))))},_changeDatepicker:function(t,e,n){this._optionDatepicker(t,e,n)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var n=this._getInst(t);n&&(this._setDate(n,e),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(t,e){var n=this._getInst(t);return n&&!n.inline&&this._setDateFromField(n,e),n?this._getDate(n):null},_doKeyDown:function(e){var n,i,a,r=t.datepicker._getInst(e.target),s=!0,o=r.dpDiv.is(".ui-datepicker-rtl");if(r._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),s=!1;break;case 13:return a=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",r.dpDiv),a[0]&&t.datepicker._selectDay(e.target,r.selectedMonth,r.selectedYear,a[0]),n=t.datepicker._get(r,"onSelect"),n?(i=t.datepicker._formatDate(r),n.apply(r.input?r.input[0]:null,[i,r])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(r,"stepBigMonths"):-t.datepicker._get(r,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(r,"stepBigMonths"):+t.datepicker._get(r,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),s=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),s=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,o?1:-1,"D"),s=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(r,"stepBigMonths"):-t.datepicker._get(r,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),s=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,o?-1:1,"D"),s=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(r,"stepBigMonths"):+t.datepicker._get(r,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),s=e.ctrlKey||e.metaKey;break;default:s=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):s=!1;s&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var n,i,a=t.datepicker._getInst(e.target);return t.datepicker._get(a,"constrainInput")?(n=t.datepicker._possibleChars(t.datepicker._get(a,"dateFormat")),i=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||" ">i||!n||n.indexOf(i)>-1):void 0},_doKeyUp:function(e){var n,i=t.datepicker._getInst(e.target);if(i.input.val()!==i.lastVal)try{n=t.datepicker.parseDate(t.datepicker._get(i,"dateFormat"),i.input?i.input.val():null,t.datepicker._getFormatConfig(i)),n&&(t.datepicker._setDateFromField(i),t.datepicker._updateAlternate(i),t.datepicker._updateDatepicker(i))}catch(a){}return!0},_showDatepicker:function(e){if(e=e.target||e,"input"!==e.nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),!t.datepicker._isDisabledDatepicker(e)&&t.datepicker._lastInput!==e){var n,i,r,s,o,l,c;n=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==n&&(t.datepicker._curInst.dpDiv.stop(!0,!0),n&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),i=t.datepicker._get(n,"beforeShow"),r=i?i.apply(e,[e,n]):{},r!==!1&&(a(n.settings,r),n.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(n),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),s=!1,t(e).parents().each(function(){return s|="fixed"===t(this).css("position"),!s}),o={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(n),o=t.datepicker._checkOffset(n,o,s),n.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":s?"fixed":"absolute",display:"none",left:o.left+"px",top:o.top+"px"}),n.inline||(l=t.datepicker._get(n,"showAnim"),c=t.datepicker._get(n,"duration"),n.dpDiv.zIndex(t(e).zIndex()+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[l]?n.dpDiv.show(l,t.datepicker._get(n,"showOptions"),c):n.dpDiv[l||"show"](l?c:null),t.datepicker._shouldFocusInput(n)&&n.input.focus(),t.datepicker._curInst=n))}},_updateDatepicker:function(e){this.maxRows=4,r=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e),e.dpDiv.find("."+this._dayOverClass+" a").mouseover();var n,i=this._getNumberOfMonths(e),a=i[1],s=17;e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),a>1&&e.dpDiv.addClass("ui-datepicker-multi-"+a).css("width",s*a+"em"),e.dpDiv[(1!==i[0]||1!==i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.focus(),e.yearshtml&&(n=e.yearshtml,setTimeout(function(){n===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),n=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,n,i){var a=e.dpDiv.outerWidth(),r=e.dpDiv.outerHeight(),s=e.input?e.input.outerWidth():0,o=e.input?e.input.outerHeight():0,l=document.documentElement.clientWidth+(i?0:t(document).scrollLeft()),c=document.documentElement.clientHeight+(i?0:t(document).scrollTop());return n.left-=this._get(e,"isRTL")?a-s:0,n.left-=i&&n.left===e.input.offset().left?t(document).scrollLeft():0,n.top-=i&&n.top===e.input.offset().top+o?t(document).scrollTop():0,n.left-=Math.min(n.left,n.left+a>l&&l>a?Math.abs(n.left+a-l):0),n.top-=Math.min(n.top,n.top+r>c&&c>r?Math.abs(r+o):0),n},_findPos:function(e){for(var n,i=this._getInst(e),a=this._get(i,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[a?"previousSibling":"nextSibling"];return n=t(e).offset(),[n.left,n.top]},_hideDatepicker:function(e){var n,i,a,r,o=this._curInst;!o||e&&o!==t.data(e,s)||this._datepickerShowing&&(n=this._get(o,"showAnim"),i=this._get(o,"duration"),a=function(){t.datepicker._tidyDialog(o)},t.effects&&(t.effects.effect[n]||t.effects[n])?o.dpDiv.hide(n,t.datepicker._get(o,"showOptions"),i,a):o.dpDiv["slideDown"===n?"slideUp":"fadeIn"===n?"fadeOut":"hide"](n?i:null,a),n||a(),this._datepickerShowing=!1,r=this._get(o,"onClose"),r&&r.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var n=t(e.target),i=t.datepicker._getInst(n[0]);(n[0].id!==t.datepicker._mainDivId&&0===n.parents("#"+t.datepicker._mainDivId).length&&!n.hasClass(t.datepicker.markerClassName)&&!n.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&(!t.datepicker._inDialog||!t.blockUI)||n.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==i)&&t.datepicker._hideDatepicker()}},_adjustDate:function(e,n,i){var a=t(e),r=this._getInst(a[0]);this._isDisabledDatepicker(a[0])||(this._adjustInstDate(r,n+("M"===i?this._get(r,"showCurrentAtPos"):0),i),this._updateDatepicker(r))},_gotoToday:function(e){var n,i=t(e),a=this._getInst(i[0]);this._get(a,"gotoCurrent")&&a.currentDay?(a.selectedDay=a.currentDay,a.drawMonth=a.selectedMonth=a.currentMonth,a.drawYear=a.selectedYear=a.currentYear):(n=new Date,a.selectedDay=n.getDate(),a.drawMonth=a.selectedMonth=n.getMonth(),a.drawYear=a.selectedYear=n.getFullYear()),this._notifyChange(a),this._adjustDate(i)},_selectMonthYear:function(e,n,i){var a=t(e),r=this._getInst(a[0]);r["selected"+("M"===i?"Month":"Year")]=r["draw"+("M"===i?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10),this._notifyChange(r),this._adjustDate(a)},_selectDay:function(e,n,i,a){var r,s=t(e);t(a).hasClass(this._unselectableClass)||this._isDisabledDatepicker(s[0])||(r=this._getInst(s[0]),r.selectedDay=r.currentDay=t("a",a).html(),r.selectedMonth=r.currentMonth=n,r.selectedYear=r.currentYear=i,this._selectDate(e,this._formatDate(r,r.currentDay,r.currentMonth,r.currentYear)))},_clearDate:function(e){var n=t(e);this._selectDate(n,"")},_selectDate:function(e,n){var i,a=t(e),r=this._getInst(a[0]);n=null!=n?n:this._formatDate(r),r.input&&r.input.val(n),this._updateAlternate(r),i=this._get(r,"onSelect"),i?i.apply(r.input?r.input[0]:null,[n,r]):r.input&&r.input.trigger("change"),r.inline?this._updateDatepicker(r):(this._hideDatepicker(),this._lastInput=r.input[0],"object"!=typeof r.input[0]&&r.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var n,i,a,r=this._get(e,"altField");r&&(n=this._get(e,"altFormat")||this._get(e,"dateFormat"),i=this._getDate(e),a=this.formatDate(n,i,this._getFormatConfig(e)),t(r).each(function(){t(this).val(a)}))},noWeekends:function(t){var e=t.getDay();return[e>0&&6>e,""]},iso8601Week:function(t){var e,n=new Date(t.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),e=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((e-n)/864e5)/7)+1},parseDate:function(e,n,i){if(null==e||null==n)throw"Invalid arguments";if(n="object"==typeof n?n.toString():n+"",""===n)return null;var a,r,s,o,l=0,c=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof c?c:(new Date).getFullYear()%100+parseInt(c,10),d=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,p=(i?i.dayNames:null)||this._defaults.dayNames,h=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,f=(i?i.monthNames:null)||this._defaults.monthNames,g=-1,m=-1,v=-1,y=-1,b=!1,_=function(t){var n=a+1<e.length&&e.charAt(a+1)===t;return n&&a++,n},w=function(t){var e=_(t),i="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,a=new RegExp("^\\d{1,"+i+"}"),r=n.substring(l).match(a);if(!r)throw"Missing number at position "+l;return l+=r[0].length,parseInt(r[0],10)},k=function(e,i,a){var r=-1,s=t.map(_(e)?a:i,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(s,function(t,e){var i=e[1];return n.substr(l,i.length).toLowerCase()===i.toLowerCase()?(r=e[0],l+=i.length,!1):void 0}),-1!==r)return r+1;throw"Unknown name at position "+l},x=function(){if(n.charAt(l)!==e.charAt(a))throw"Unexpected literal at position "+l;l++};for(a=0;a<e.length;a++)if(b)"'"!==e.charAt(a)||_("'")?x():b=!1;else switch(e.charAt(a)){case"d":v=w("d");break;case"D":k("D",d,p);break;case"o":y=w("o");break;case"m":m=w("m");break;case"M":m=k("M",h,f);break;case"y":g=w("y");break;case"@":o=new Date(w("@")),g=o.getFullYear(),m=o.getMonth()+1,v=o.getDate();break;case"!":o=new Date((w("!")-this._ticksTo1970)/1e4),g=o.getFullYear(),m=o.getMonth()+1,v=o.getDate();break;case"'":_("'")?x():b=!0;break;default:x()}if(l<n.length&&(s=n.substr(l),!/^\s+/.test(s)))throw"Extra/unparsed characters found in date: "+s;if(-1===g?g=(new Date).getFullYear():100>g&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(u>=g?0:-100)),y>-1)for(m=1,v=y;;){if(r=this._getDaysInMonth(g,m-1),r>=v)break;m++,v-=r}if(o=this._daylightSavingAdjust(new Date(g,m-1,v)),o.getFullYear()!==g||o.getMonth()+1!==m||o.getDate()!==v)throw"Invalid date";return o},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(t,e,n){if(!e)return"";var i,a=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,r=(n?n.dayNames:null)||this._defaults.dayNames,s=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,o=(n?n.monthNames:null)||this._defaults.monthNames,l=function(e){var n=i+1<t.length&&t.charAt(i+1)===e;return n&&i++,n},c=function(t,e,n){var i=""+e;if(l(t))for(;i.length<n;)i="0"+i;return i},u=function(t,e,n,i){return l(t)?i[e]:n[e]},d="",p=!1;if(e)for(i=0;i<t.length;i++)if(p)"'"!==t.charAt(i)||l("'")?d+=t.charAt(i):p=!1;else switch(t.charAt(i)){case"d":d+=c("d",e.getDate(),2);break;case"D":d+=u("D",e.getDay(),a,r);break;case"o":d+=c("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":d+=c("m",e.getMonth()+1,2);break;case"M":d+=u("M",e.getMonth(),s,o);break;case"y":d+=l("y")?e.getFullYear():(e.getYear()%100<10?"0":"")+e.getYear()%100;break;case"@":d+=e.getTime();break;case"!":d+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?d+="'":p=!0;break;default:d+=t.charAt(i)}return d},_possibleChars:function(t){var e,n="",i=!1,a=function(n){var i=e+1<t.length&&t.charAt(e+1)===n;return i&&e++,i};for(e=0;e<t.length;e++)if(i)"'"!==t.charAt(e)||a("'")?n+=t.charAt(e):i=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":a("'")?n+="'":i=!0;break;default:n+=t.charAt(e)}return n},_get:function(t,n){return t.settings[n]!==e?t.settings[n]:this._defaults[n]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var n=this._get(t,"dateFormat"),i=t.lastVal=t.input?t.input.val():null,a=this._getDefaultDate(t),r=a,s=this._getFormatConfig(t);try{r=this.parseDate(n,i,s)||a}catch(o){i=e?"":i}t.selectedDay=r.getDate(),t.drawMonth=t.selectedMonth=r.getMonth(),t.drawYear=t.selectedYear=r.getFullYear(),t.currentDay=i?r.getDate():0,t.currentMonth=i?r.getMonth():0,t.currentYear=i?r.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,n,i){var a=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},r=function(n){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),n,t.datepicker._getFormatConfig(e))}catch(i){}for(var a=(n.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,r=a.getFullYear(),s=a.getMonth(),o=a.getDate(),l=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,c=l.exec(n);c;){switch(c[2]||"d"){case"d":case"D":o+=parseInt(c[1],10);break;case"w":case"W":o+=7*parseInt(c[1],10);break;case"m":case"M":s+=parseInt(c[1],10),o=Math.min(o,t.datepicker._getDaysInMonth(r,s));break;case"y":case"Y":r+=parseInt(c[1],10),o=Math.min(o,t.datepicker._getDaysInMonth(r,s))}c=l.exec(n)}return new Date(r,s,o)},s=null==n||""===n?i:"string"==typeof n?r(n):"number"==typeof n?isNaN(n)?i:a(n):new Date(n.getTime());return s=s&&"Invalid Date"===s.toString()?i:s,s&&(s.setHours(0),s.setMinutes(0),s.setSeconds(0),s.setMilliseconds(0)),this._daylightSavingAdjust(s)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,n){var i=!e,a=t.selectedMonth,r=t.selectedYear,s=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=s.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=s.getMonth(),t.drawYear=t.selectedYear=t.currentYear=s.getFullYear(),a===t.selectedMonth&&r===t.selectedYear||n||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(i?"":this._formatDate(t))},_getDate:function(t){var e=!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_attachHandlers:function(e){var n=this._get(e,"stepMonths"),i="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(i,-n,"M")},next:function(){t.datepicker._adjustDate(i,+n,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(i)},selectDay:function(){return t.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(i,this,"Y"),!1}};t(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,n,i,a,r,s,o,l,c,u,d,p,h,f,g,m,v,y,b,_,w,k,x,C,D,A,S,T,M,I,E,j,P,O,F,L,$,q,N,B=new Date,R=this._daylightSavingAdjust(new Date(B.getFullYear(),B.getMonth(),B.getDate())),Y=this._get(t,"isRTL"),U=this._get(t,"showButtonPanel"),z=this._get(t,"hideIfNoPrevNext"),V=this._get(t,"navigationAsDateFormat"),H=this._getNumberOfMonths(t),W=this._get(t,"showCurrentAtPos"),K=this._get(t,"stepMonths"),Z=1!==H[0]||1!==H[1],G=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),X=this._getMinMaxDate(t,"min"),Q=this._getMinMaxDate(t,"max"),J=t.drawMonth-W,tt=t.drawYear;if(0>J&&(J+=12,tt--),Q)for(e=this._daylightSavingAdjust(new Date(Q.getFullYear(),Q.getMonth()-H[0]*H[1]+1,Q.getDate())),e=X&&X>e?X:e;this._daylightSavingAdjust(new Date(tt,J,1))>e;)J--,0>J&&(J=11,tt--);for(t.drawMonth=J,t.drawYear=tt,n=this._get(t,"prevText"),n=V?this.formatDate(n,this._daylightSavingAdjust(new Date(tt,J-K,1)),this._getFormatConfig(t)):n,i=this._canAdjustMonth(t,-1,tt,J)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+n+"</span></a>":z?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+n+"</span></a>",a=this._get(t,"nextText"),a=V?this.formatDate(a,this._daylightSavingAdjust(new Date(tt,J+K,1)),this._getFormatConfig(t)):a,r=this._canAdjustMonth(t,1,tt,J)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+a+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+a+"</span></a>":z?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+a+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+a+"</span></a>",s=this._get(t,"currentText"),o=this._get(t,"gotoCurrent")&&t.currentDay?G:R,s=V?this.formatDate(s,o,this._getFormatConfig(t)):s,l=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",c=U?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(Y?l:"")+(this._isInRange(t,o)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+s+"</button>":"")+(Y?"":l)+"</div>":"",u=parseInt(this._get(t,"firstDay"),10),u=isNaN(u)?0:u,d=this._get(t,"showWeek"),p=this._get(t,"dayNames"),h=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),g=this._get(t,"monthNamesShort"),m=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),y=this._get(t,"selectOtherMonths"),b=this._getDefaultDate(t),_="",k=0;k<H[0];k++){for(x="",this.maxRows=4,C=0;C<H[1];C++){if(D=this._daylightSavingAdjust(new Date(tt,J,t.selectedDay)),A=" ui-corner-all",S="",Z){if(S+="<div class='ui-datepicker-group",H[1]>1)switch(C){case 0:S+=" ui-datepicker-group-first",A=" ui-corner-"+(Y?"right":"left");break;case H[1]-1:S+=" ui-datepicker-group-last",A=" ui-corner-"+(Y?"left":"right");break;default:S+=" ui-datepicker-group-middle",A=""}S+="'>"}for(S+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+A+"'>"+(/all|left/.test(A)&&0===k?Y?r:i:"")+(/all|right/.test(A)&&0===k?Y?i:r:"")+this._generateMonthYearHeader(t,J,tt,X,Q,k>0||C>0,f,g)+"</div><table class='ui-datepicker-calendar'><thead><tr>",T=d?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",w=0;7>w;w++)M=(w+u)%7,T+="<th"+((w+u+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+p[M]+"'>"+h[M]+"</span></th>";for(S+=T+"</tr></thead><tbody>",I=this._getDaysInMonth(tt,J),tt===t.selectedYear&&J===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,I)),E=(this._getFirstDayOfMonth(tt,J)-u+7)%7,j=Math.ceil((E+I)/7),P=Z&&this.maxRows>j?this.maxRows:j,this.maxRows=P,O=this._daylightSavingAdjust(new Date(tt,J,1-E)),F=0;P>F;F++){for(S+="<tr>",L=d?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(O)+"</td>":"",w=0;7>w;w++)$=m?m.apply(t.input?t.input[0]:null,[O]):[!0,""],q=O.getMonth()!==J,N=q&&!y||!$[0]||X&&X>O||Q&&O>Q,L+="<td class='"+((w+u+6)%7>=5?" ui-datepicker-week-end":"")+(q?" ui-datepicker-other-month":"")+(O.getTime()===D.getTime()&&J===t.selectedMonth&&t._keyEvent||b.getTime()===O.getTime()&&b.getTime()===D.getTime()?" "+this._dayOverClass:"")+(N?" "+this._unselectableClass+" ui-state-disabled":"")+(q&&!v?"":" "+$[1]+(O.getTime()===G.getTime()?" "+this._currentClass:"")+(O.getTime()===R.getTime()?" ui-datepicker-today":""))+"'"+(q&&!v||!$[2]?"":" title='"+$[2].replace(/'/g,"&#39;")+"'")+(N?"":" data-handler='selectDay' data-event='click' data-month='"+O.getMonth()+"' data-year='"+O.getFullYear()+"'")+">"+(q&&!v?"&#xa0;":N?"<span class='ui-state-default'>"+O.getDate()+"</span>":"<a class='ui-state-default"+(O.getTime()===R.getTime()?" ui-state-highlight":"")+(O.getTime()===G.getTime()?" ui-state-active":"")+(q?" ui-priority-secondary":"")+"' href='#'>"+O.getDate()+"</a>")+"</td>",O.setDate(O.getDate()+1),O=this._daylightSavingAdjust(O);S+=L+"</tr>"}J++,J>11&&(J=0,tt++),S+="</tbody></table>"+(Z?"</div>"+(H[0]>0&&C===H[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),x+=S}_+=x}return _+=c,t._keyEvent=!1,_},_generateMonthYearHeader:function(t,e,n,i,a,r,s,o){var l,c,u,d,p,h,f,g,m=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),y=this._get(t,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",_="";if(r||!m)_+="<span class='ui-datepicker-month'>"+s[e]+"</span>";else{for(l=i&&i.getFullYear()===n,c=a&&a.getFullYear()===n,_+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;12>u;u++)(!l||u>=i.getMonth())&&(!c||u<=a.getMonth())&&(_+="<option value='"+u+"'"+(u===e?" selected='selected'":"")+">"+o[u]+"</option>");_+="</select>"}if(y||(b+=_+(!r&&m&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",r||!v)b+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(d=this._get(t,"yearRange").split(":"),p=(new Date).getFullYear(),h=function(t){var e=t.match(/c[+\-].*/)?n+parseInt(t.substring(1),10):t.match(/[+\-].*/)?p+parseInt(t,10):parseInt(t,10);return isNaN(e)?p:e},f=h(d[0]),g=Math.max(f,h(d[1]||"")),f=i?Math.max(f,i.getFullYear()):f,g=a?Math.min(g,a.getFullYear()):g,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";g>=f;f++)t.yearshtml+="<option value='"+f+"'"+(f===n?" selected='selected'":"")+">"+f+"</option>";
t.yearshtml+="</select>",b+=t.yearshtml,t.yearshtml=null}return b+=this._get(t,"yearSuffix"),y&&(b+=(!r&&m&&v?"":"&#xa0;")+_),b+="</div>"},_adjustInstDate:function(t,e,n){var i=t.drawYear+("Y"===n?e:0),a=t.drawMonth+("M"===n?e:0),r=Math.min(t.selectedDay,this._getDaysInMonth(i,a))+("D"===n?e:0),s=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(i,a,r)));t.selectedDay=s.getDate(),t.drawMonth=t.selectedMonth=s.getMonth(),t.drawYear=t.selectedYear=s.getFullYear(),("M"===n||"Y"===n)&&this._notifyChange(t)},_restrictMinMax:function(t,e){var n=this._getMinMaxDate(t,"min"),i=this._getMinMaxDate(t,"max"),a=n&&n>e?n:e;return i&&a>i?i:a},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,n,i){var a=this._getNumberOfMonths(t),r=this._daylightSavingAdjust(new Date(n,i+(0>e?e:a[0]*a[1]),1));return 0>e&&r.setDate(this._getDaysInMonth(r.getFullYear(),r.getMonth())),this._isInRange(t,r)},_isInRange:function(t,e){var n,i,a=this._getMinMaxDate(t,"min"),r=this._getMinMaxDate(t,"max"),s=null,o=null,l=this._get(t,"yearRange");return l&&(n=l.split(":"),i=(new Date).getFullYear(),s=parseInt(n[0],10),o=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(s+=i),n[1].match(/[+\-].*/)&&(o+=i)),(!a||e.getTime()>=a.getTime())&&(!r||e.getTime()<=r.getTime())&&(!s||e.getFullYear()>=s)&&(!o||e.getFullYear()<=o)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,n,i){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var a=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(i,n,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),a,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).mousedown(t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(n)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(n)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(n))},t.datepicker=new n,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.10.4"}(i)},{"./core":162}],164:[function(t,e,n){!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof n?t("jquery"):jQuery)}(function(t){function e(t){return o.raw?t:encodeURIComponent(t)}function n(t){return o.raw?t:decodeURIComponent(t)}function i(t){return e(o.json?JSON.stringify(t):String(t))}function a(t){0===t.indexOf('"')&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return t=decodeURIComponent(t.replace(s," ")),o.json?JSON.parse(t):t}catch(e){}}function r(e,n){var i=o.raw?e:a(e);return t.isFunction(n)?n(i):i}var s=/\+/g,o=t.cookie=function(a,s,l){if(void 0!==s&&!t.isFunction(s)){if(l=t.extend({},o.defaults,l),"number"==typeof l.expires){var c=l.expires,u=l.expires=new Date;u.setTime(+u+864e5*c)}return document.cookie=[e(a),"=",i(s),l.expires?"; expires="+l.expires.toUTCString():"",l.path?"; path="+l.path:"",l.domain?"; domain="+l.domain:"",l.secure?"; secure":""].join("")}for(var d=a?void 0:{},p=document.cookie?document.cookie.split("; "):[],h=0,f=p.length;f>h;h++){var g=p[h].split("="),m=n(g.shift()),v=g.join("=");if(a&&a===m){d=r(v,s);break}a||void 0===(v=r(v))||(d[m]=v)}return d};o.defaults={},t.removeCookie=function(e,n){return void 0===t.cookie(e)?!1:(t.cookie(e,"",t.extend({},n,{expires:-1})),!t.cookie(e))}})},{}],165:[function(t,e,n){(function(){"use strict";function t(t,e){return e.test(t)}function n(t,e,n){var i=e.exec(t),a=i[2];return o[n].calcs(a)}function i(e,i,a){var r=!1;return t(e,i)&&(r=n(e,i,a)),r}function a(t){return t=t||"",t.toString().toUpperCase().replace(/(\s|-|\.)+/g,"")}function r(t,e){return t&&0!==t.length?-1===t.indexOf(e):!1}function s(t,e){for(var n=o[e].rules.regex,a=0;a<n.length;a++){var s=i(t,n[a],e);if(s)return s&&!r(l.config,e)}return!1}var o={},l={config:[],checkVAT:function(t){var e={value:a(t),isValid:!1,country:null};if(!t)return e;for(var n in o)if(o.hasOwnProperty(n)&&(e.isValid=s(e.value,n),e.isValid))return e.country=n,e;return e}};return o.austria={calcs:function(t){for(var e,n=0,i=0;7>i;i++)e=t.charAt(i)*this.rules.multipliers[i],n+=e>9?Math.floor(e/10)+e%10:e;return n=10-(n+4)%10,10===n&&(n=0),n===+t.slice(7,8)},rules:{multipliers:[1,2,1,2,1,2,1],regex:[/^(AT)U(\d{8})$/]}},o.belgium={calcs:function(t){if(9===t.length&&(t="0"+t),0===+t.slice(1,2))return!1;var e=97-+t.slice(0,8)%97;return e===+t.slice(8,10)},rules:{regex:[/^(BE)(0?\d{9})$/]}},o.bulgaria=function(){function t(t,e,n,i,a){for(var r=n;i>r;r++)t+=+e.charAt(r)*(r+a);return t}function e(t,e,n,i,a){for(var r=n;i>r;r++)t+=+e.charAt(r)*a[r];return t}function n(e){var n,i=0,a=+e.slice(8);return i=t(i,e,0,8,1),n=i%11,10!==n?n===a:(i=t(0,e,0,8,3),n=i%11,10===n&&(n=0),n===a)}function i(t,n){if(/^\d\d[0-5]\d[0-3]\d\d{4}$/.test(t)){var i=+t.slice(2,4);if(i>0&&13>i||i>20&&33>i||i>40&&53>i){var a=e(0,t,0,9,n.multipliers.physical);if(a%=11,10===a&&(a=0),a===+t.substr(9,1))return!0}}return!1}function a(t,n){var i=e(0,t,0,9,n.multipliers.foreigner);return i%10===+t.substr(9,1)?!0:void 0}function r(t,n){var i=e(0,t,0,9,n.multipliers.miscellaneous);if(i=11-i%11,10===i)return!1;11===i&&(i=0);var a=+t.substr(9,1);return i===a}return{calcs:function(t){return 9===t.length?n(t):i(t,this.rules)||a(t,this.rules)||r(t,this.rules)},rules:{multipliers:{physical:[2,4,8,5,10,9,7,3,6],foreigner:[21,19,17,13,11,9,7,3,1],miscellaneous:[4,3,2,7,6,5,4,3,2]},regex:[/^(BG)(\d{9,10})$/]}}}(),o.croatia={calcs:function(t){for(var e,n=10,i=0,a=0;10>a;a++)i=(+t.charAt(a)+n)%10,0===i&&(i=10),n=2*i%11;return e=+t.slice(10,11),(n+e)%10===1},rules:{regex:[/^(HR)(\d{11})$/]}},o.cyprus={calcs:function(t){var e,n=0;if(12===+t.slice(0,2))return!1;for(var i=0;8>i;i++){var a=+t.charAt(i);if(i%2===0)switch(a){case 0:a=1;break;case 1:a=0;break;case 2:a=5;break;case 3:a=7;break;case 4:a=9;break;default:a=2*a+3}n+=a}return n%=26,n=String.fromCharCode(n+65),e=t.substr(8,1),n===e},rules:{regex:[/^(CY)([0-59]\d{7}[A-Z])$/]}},o.czech_republic=function(){function t(t,e){var n=0;if(e.additional[0].test(t)){for(var i=0;7>i;i++)n+=+t.charAt(i)*e.multipliers[i];n=11-n%11,10===n&&(n=0),11===n&&(n=1);var a=+t.slice(7,8);return n===a}return!1}function e(t,e){var n=0;if(e.additional[2].test(t)){for(var i=0;7>i;i++)n+=+t.charAt(i+1)*e.multipliers[i];n=11-n%11,10===n&&(n=0),11===n&&(n=1);var a=+t.slice(8,9);return e.lookup[n-1]===a}return!1}function n(t,e){if(e.additional[3].test(t)){var n=+t.slice(0,2)+t.slice(2,4)+t.slice(4,6)+t.slice(6,8)+t.slice(8),i=+t%11===0;return!(n%11!==0||!i)}return!1}return{calcs:function(i){return t(i,this.rules)?!0:e(i,this.rules)?!0:n(i,this.rules)?!0:!1},rules:{multipliers:[8,7,6,5,4,3,2],lookup:[8,7,6,5,4,3,2,1,0,9,10],regex:[/^(CZ)(\d{8,10})(\d{3})?$/],additional:[/^\d{8}$/,/^[0-5][0-9][0|1|5|6]\d[0-3]\d\d{3}$/,/^6\d{8}$/,/^\d{2}[0-3|5-8]\d[0-3]\d\d{4}$/]}}}(),o.denmark={calcs:function(t){for(var e=0,n=0;8>n;n++)e+=+t.charAt(n)*this.rules.multipliers[n];return e%11===0},rules:{multipliers:[2,7,6,5,4,3,2,1],regex:[/^(DK)(\d{8})$/]}},o.estonia={calcs:function(t){for(var e,n=0,i=0;8>i;i++)n+=+t.charAt(i)*this.rules.multipliers[i];return n=10-n%10,10===n&&(n=0),e=+t.slice(8,9),n===e},rules:{multipliers:[3,7,1,3,7,1,3,7],regex:[/^(EE)(10\d{7})$/]}},o.europe={calcs:function(){return!0},rules:{regex:[/^(EU)(\d{9})$/]}},o.finland={calcs:function(t){for(var e,n=0,i=0;7>i;i++)n+=+t.charAt(i)*this.rules.multipliers[i];return n=11-n%11,n>9&&(n=0),e=+t.slice(7,8),n===e},rules:{multipliers:[7,9,10,5,8,4,2],regex:[/^(FI)(\d{8})$/]}},o.france={calcs:function(t){var e,n;return/^\d{11}$/.test(t)?(e=+t.substring(2),e=(100*e+12)%97,n=+t.slice(0,2),e===n):!0},rules:{regex:[/^(FR)(\d{11})$/,/^(FR)([A-HJ-NP-Z]\d{10})$/,/^(FR)(\d[A-HJ-NP-Z]\d{9})$/,/^(FR)([A-HJ-NP-Z]{2}\d{9})$/]}},o.germany={calcs:function(t){for(var e,n=10,i=0,a=0,r=0;8>r;r++)i=(+t.charAt(r)+n)%10,0===i&&(i=10),n=2*i%11;return a=11-n===10?0:11-n,e=+t.slice(8,9),a===e},rules:{regex:[/^(DE)([1-9]\d{8})$/]}},o.greece={calcs:function(t){var e,n=0;8===t.length&&(t="0"+t);for(var i=0;8>i;i++)n+=+t.charAt(i)*this.rules.multipliers[i];return n%=11,n>9&&(n=0),e=+t.slice(8,9),n===e},rules:{multipliers:[256,128,64,32,16,8,4,2],regex:[/^(EL)(\d{9})$/]}},o.hungary={calcs:function(t){for(var e,n=0,i=0;7>i;i++)n+=+t.charAt(i)*this.rules.multipliers[i];return n=10-n%10,10===n&&(n=0),e=+t.slice(7,8),n===e},rules:{multipliers:[9,7,3,1,9,7,3],regex:[/^(HU)(\d{8})$/]}},o.ireland={calcs:function(t){var e,n=0;this.rules.typeFormats.first.test(t)&&(t="0"+t.substring(2,7)+t.substring(0,1)+t.substring(7,8));for(var i=0;7>i;i++)n+=+t.charAt(i)*this.rules.multipliers[i];return this.rules.typeFormats.third.test(t)&&(n+="H"===t.charAt(8)?72:9),n%=23,n=0===n?"W":String.fromCharCode(n+64),e=t.slice(7,8),n===e},rules:{multipliers:[8,7,6,5,4,3,2],typeFormats:{first:/^\d[A-Z\*\+]/,third:/^\d{7}[A-Z][AH]$/},regex:[/^(IE)(\d{7}[A-W])$/,/^(IE)([7-9][A-Z\*\+)]\d{5}[A-W])$/,/^(IE)(\d{7}[A-W][AH])$/]}},o.italy={calcs:function(t){var e,n,i=0;if(0===+t.slice(0,7))return!1;if(e=+t.slice(7,10),1>e||e>201&&999!==e&&888!==e)return!1;for(var a=0;10>a;a++)e=+t.charAt(a)*this.rules.multipliers[a],i+=e>9?Math.floor(e/10)+e%10:e;return i=10-i%10,i>9&&(i=0),n=+t.slice(10,11),i===n},rules:{multipliers:[1,2,1,2,1,2,1,2,1,2],regex:[/^(IT)(\d{11})$/]}},o.latvia={calcs:function(t){var e,n=0;if(/^[0-3]/.test(t))return!!/^[0-3][0-9][0-1][0-9]/.test(t);for(var i=0;10>i;i++)n+=+t.charAt(i)*this.rules.multipliers[i];return n%11===4&&9===t[0]&&(n-=45),n%11===4?n=4-n%11:n%11>4?n=14-n%11:4>n%11&&(n=3-n%11),e=+t.slice(10,11),n===e},rules:{multipliers:[9,1,4,8,3,10,2,5,7,6],regex:[/^(LV)(\d{11})$/]}},o.lithunia=function(){function t(t,e,n){return+t.charAt(n)*e[n]}function e(e,n,i){if(n%11===10){n=0;for(var a=0;8>a;a++)n+=t(e,i.multipliers["short"],a)}return n}function n(t,e){for(var n=0;8>n;n++)e+=+t.charAt(n)*(n+1);return e}function i(t){return t%=11,10===t&&(t=0),t}function a(t,a){var r=0;if(9===t.length){if(!/^\d{7}1/.test(t))return!1;r=n(t,r),r=e(t,r,a),r=i(r);var s=+t.slice(8,9);return r===s}return!1}function r(e,n,i){for(var a=0;11>a;a++)n+=t(e,i.multipliers.med,a);return n}function s(e,n,i){if(n%11===10){n=0;for(var a=0;11>a;a++)n+=t(e,i.multipliers.alt,a)}return n}function o(t,e){var n=0;if(12===t.length){if(!e.check.test(t))return!1;n=r(t,n,e),n=s(t,n,e),n=i(n);var a=+t.slice(11,12);return n===a}return!1}return{calcs:function(t){return a(t,this.rules)||o(t,this.rules)},rules:{multipliers:{"short":[3,4,5,6,7,8,9,1],med:[1,2,3,4,5,6,7,8,9,1,2],alt:[3,4,5,6,7,8,9,1,2,3,4]},check:/^\d{10}1/,regex:[/^(LT)(\d{9}|\d{12})$/]}}}(),o.luxembourg={calcs:function(t){var e=+t.slice(6,8),n=+t.slice(0,6)%89;return n===e},rules:{regex:[/^(LU)(\d{8})$/]}},o.malta={calcs:function(t){for(var e,n=0,i=0;6>i;i++)n+=+t.charAt(i)*this.rules.multipliers[i];return n=37-n%37,e=+t.slice(6,8),n===e},rules:{multipliers:[3,4,6,7,8,9],regex:[/^(MT)([1-9]\d{7})$/]}},o.netherlands={calcs:function(t){for(var e,n=0,i=0;8>i;i++)n+=+t.charAt(i)*this.rules.multipliers[i];return n%=11,n>9&&(n=0),e=+t.slice(8,9),n===e},rules:{multipliers:[9,8,7,6,5,4,3,2],regex:[/^(NL)(\d{9})B\d{2}$/]}},o.norway={calcs:function(t){for(var e,n=0,i=0;8>i;i++)n+=+t.charAt(i)*this.rules.multipliers[i];return n=11-n%11,11===n&&(n=0),10>n?(e=+t.slice(8,9),n===e):void 0},rules:{multipliers:[3,2,7,6,5,4,3,2],regex:[/^(NO)(\d{9})$/]}},o.poland={calcs:function(t){for(var e,n=0,i=0;9>i;i++)n+=+t.charAt(i)*this.rules.multipliers[i];return n%=11,n>9&&(n=0),e=+t.slice(9,10),n===e},rules:{multipliers:[6,5,7,2,3,4,5,6,7],regex:[/^(PL)(\d{10})$/]}},o.portugal={calcs:function(t){for(var e,n=0,i=0;8>i;i++)n+=+t.charAt(i)*this.rules.multipliers[i];return n=11-n%11,n>9&&(n=0),e=+t.slice(8,9),n===e},rules:{multipliers:[9,8,7,6,5,4,3,2],regex:[/^(PT)(\d{9})$/]}},o.romania={calcs:function(t){for(var e,n=0,i=t.length,a=this.rules.multipliers.slice(10-i),r=0;r<t.length-1;r++)n+=+t.charAt(r)*a[r];return n=10*n%11,10===n&&(n=0),e=+t.slice(t.length-1,t.length),n===e},rules:{multipliers:[7,5,3,2,1,7,5,3,2],regex:[/^(RO)([1-9]\d{1,9})$/]}},o.russia=function(){function t(t,e){var n=0;if(10===t.length){for(var i=0;10>i;i++)n+=+t.charAt(i)*e.multipliers.m_1[i];n%=11,n>9&&(n%=10);var a=+t.slice(9,10);return n===a}return!1}function e(t,e){var n=0,i=0;if(12===t.length){for(var a=0;11>a;a++)n+=+t.charAt(a)*e.multipliers.m_2[a];n%=11,n>9&&(n%=10);for(var r=0;11>r;r++)i+=+t.charAt(r)*e.multipliers.m_3[r];i%=11,i>9&&(i%=10);var s=n===+t.slice(10,11),o=i===+t.slice(11,12);return s&&o}return!1}return{calcs:function(n){return t(n,this.rules)||e(n,this.rules)},rules:{multipliers:{m_1:[2,4,10,3,5,9,4,6,8,0],m_2:[7,2,4,10,3,5,9,4,6,8,0],m_3:[3,7,2,4,10,3,5,9,4,6,8,0]},regex:[/^(RU)(\d{10}|\d{12})$/]}}}(),o.serbia={calcs:function(t){for(var e,n=10,i=0,a=0;8>a;a++)i=(+t.charAt(a)+n)%10,0===i&&(i=10),n=2*i%11;var r=1;return e=(n+ +t.slice(8,9))%10,e===r},rules:{regex:[/^(RS)(\d{9})$/]}},o.slovakia_republic={calcs:function(t){var e=0,n=t%11;return n===e},rules:{regex:[/^(SK)([1-9]\d[2346-9]\d{7})$/]}},o.slovenia={calcs:function(t){for(var e,n=0,i=0;7>i;i++)n+=+t.charAt(i)*this.rules.multipliers[i];return n=11-n%11,10===n&&(n=0),e=+t.slice(7,8),!(11===n||n!==e)},rules:{multipliers:[8,7,6,5,4,3,2],regex:[/^(SI)([1-9]\d{7})$/]}},o.spain={calcs:function(t){var e,n,i=0,a=0;if(this.rules.additional[0].test(t)){for(i=0;7>i;i++)e=t.charAt(i+1)*this.rules.multipliers[i],a+=e>9?Math.floor(e/10)+e%10:e;return a=10-a%10,10===a&&(a=0),n=+t.slice(8,9),a===n}if(this.rules.additional[1].test(t)){for(i=0;7>i;i++)e=t.charAt(i+1)*this.rules.multipliers[i],a+=e>9?Math.floor(e/10)+e%10:e;return a=10-a%10,a=String.fromCharCode(a+64),n=t.slice(8,9),a===n}if(this.rules.additional[2].test(t)){var r=t;return"Y"===r.substring(0,1)&&(r=r.replace(/Y/,"1")),"Z"===r.substring(0,1)&&(r=r.replace(/Z/,"2")),n="TRWAGMYFPDXBNJZSQVHLCKE".charAt(+r.substring(0,8)%23),r.charAt(8)===n}return this.rules.additional[3].test(t)?(n="TRWAGMYFPDXBNJZSQVHLCKE".charAt(+t.substring(1,8)%23),t.charAt(8)===n):!1},rules:{multipliers:[2,1,2,1,2,1,2],regex:[/^(ES)([A-Z]\d{8})$/,/^(ES)([A-HN-SW]\d{7}[A-J])$/,/^(ES)([0-9YZ]\d{7}[A-Z])$/,/^(ES)([KLMX]\d{7}[A-Z])$/],additional:[/^[A-H|J|U|V]\d{8}$/,/^[A-H|N-S|W]\d{7}[A-J]$/,/^[0-9|Y|Z]\d{7}[A-Z]$/,/^[K|L|M|X]\d{7}[A-Z]$/]}},o.sweden={calcs:function(t){for(var e,n,i=0,a=0;9>a;a+=2)n=+t.charAt(a),i+=Math.floor(n/5)+2*n%10;for(var r=0,s=1;9>s;s+=2)r+=+t.charAt(s);var o=(10-(i+r)%10)%10;return e=+t.slice(9,10),o===e},rules:{regex:[/^(SE)(\d{10}01)$/]}},o.switzerland={calcs:function(t){for(var e=0,n=0;8>n;n++)e+=+t.charAt(n)*this.rules.multipliers[n];if(e=11-e%11,10===e)return!1;11===e&&(e=0);var i=+t.substr(8,1);return e===i},rules:{multipliers:[5,4,3,2,7,6,5,4],regex:[/^(CHE)(\d{9})(MWST)?$/]}},o.united_kingdom={calcs:function(t){var e,n=0;if("GD"===t.substr(0,2))return e=500,t.substr(2,3)<e;if("HA"===t.substr(0,2))return e=499,t.substr(2,3)>e;if(0===+t.slice(0))return!1;for(var i=+t.slice(0,7),a=0;7>a;a++)n+=+t.charAt(a)*this.rules.multipliers[a];for(var r=n;r>0;)r-=97;return r=Math.abs(r),r===+t.slice(7,9)&&9990001>i&&(1e5>i||i>999999)&&(9490001>i||i>97e5)?!0:(r>=55?r-=55:r+=42,e=+t.slice(7,9),!!(r===e&&i>1e6))},rules:{multipliers:[8,7,6,5,4,3,2],regex:[/^(GB)?(\d{9})$/,/^(GB)?(\d{12})$/,/^(GB)?(GD\d{3})$/,/^(GB)?(HA\d{3})$/]}},"object"==typeof e&&e.exports&&(e.exports=l),l})()},{}],166:[function(t,e,n){(function(t){(function(){function i(t,e,n){for(var i=(n||0)-1,a=t?t.length:0;++i<a;)if(t[i]===e)return i;return-1}function a(t,e){var n=typeof e;if(t=t.cache,"boolean"==n||null==e)return t[e]?0:-1;"number"!=n&&"string"!=n&&(n="object");var a="number"==n?e:_+e;return t=(t=t[n])&&t[a],"object"==n?t&&i(t,e)>-1?0:-1:t?0:-1}function r(t){var e=this.cache,n=typeof t;if("boolean"==n||null==t)e[t]=!0;else{"number"!=n&&"string"!=n&&(n="object");var i="number"==n?t:_+t,a=e[n]||(e[n]={});"object"==n?(a[i]||(a[i]=[])).push(t):a[i]=!0}}function s(t){return t.charCodeAt(0)}function o(t,e){for(var n=t.criteria,i=e.criteria,a=-1,r=n.length;++a<r;){var s=n[a],o=i[a];if(s!==o){if(s>o||"undefined"==typeof s)return 1;if(o>s||"undefined"==typeof o)return-1}}return t.index-e.index}function l(t){var e=-1,n=t.length,i=t[0],a=t[n/2|0],s=t[n-1];if(i&&"object"==typeof i&&a&&"object"==typeof a&&s&&"object"==typeof s)return!1;var o=d();o["false"]=o["null"]=o["true"]=o.undefined=!1;var l=d();for(l.array=t,l.cache=o,l.push=r;++e<n;)l.push(t[e]);return l}function c(t){return"\\"+G[t]}function u(){return v.pop()||[]}function d(){return y.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,value:null}}function p(t){t.length=0,v.length<k&&v.push(t)}function h(t){var e=t.cache;e&&h(e),t.array=t.cache=t.criteria=t.object=t.number=t.string=t.value=null,y.length<k&&y.push(t)}function f(t,e,n){e||(e=0),"undefined"==typeof n&&(n=t?t.length:0);for(var i=-1,a=n-e||0,r=Array(0>a?0:a);++i<a;)r[i]=t[e+i];return r}function g(t){function e(t){return t&&"object"==typeof t&&!Qn(t)&&On.call(t,"__wrapped__")?t:new n(t)}function n(t,e){this.__chain__=!!e,this.__wrapped__=t}function r(t){function e(){if(i){var t=f(i);Fn.apply(t,arguments)}if(this instanceof e){var r=y(n.prototype),s=n.apply(r,t||arguments);return It(s)?s:r}return n.apply(a,t||arguments)}var n=t[0],i=t[2],a=t[4];return Xn(e,t),e}function v(t,e,n,i,a){if(n){var r=n(t);if("undefined"!=typeof r)return r}var s=It(t);if(!s)return t;var o=Sn.call(t);if(!H[o])return t;var l=Zn[o];switch(o){case N:case B:return new l(+t);case Y:case V:return new l(t);case z:return r=l(t.source,T.exec(t)),r.lastIndex=t.lastIndex,r}var c=Qn(t);if(e){var d=!i;i||(i=u()),a||(a=u());for(var h=i.length;h--;)if(i[h]==t)return a[h];r=c?l(t.length):{}}else r=c?f(t):ri({},t);return c&&(On.call(t,"index")&&(r.index=t.index),On.call(t,"input")&&(r.input=t.input)),e?(i.push(t),a.push(r),(c?Gt:li)(t,function(t,s){r[s]=v(t,e,n,i,a)}),d&&(p(i),p(a)),r):r}function y(t,e){return It(t)?Bn(t):{}}function k(t,e,n){if("function"!=typeof t)return Xe;if("undefined"==typeof e||!("prototype"in t))return t;var i=t.__bindData__;if("undefined"==typeof i&&(Gn.funcNames&&(i=!t.name),i=i||!Gn.funcDecomp,!i)){var a=jn.call(t);Gn.funcNames||(i=!M.test(a)),i||(i=P.test(a),Xn(t,i))}if(i===!1||i!==!0&&1&i[1])return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,a){return t.call(e,n,i,a)};case 4:return function(n,i,a,r){return t.call(e,n,i,a,r)}}return Oe(t,e)}function G(t){function e(){var t=l?s:this;if(a){var h=f(a);Fn.apply(h,arguments)}if((r||u)&&(h||(h=f(arguments)),r&&Fn.apply(h,r),u&&h.length<o))return i|=16,G([n,d?i:-4&i,h,null,s,o]);if(h||(h=arguments),c&&(n=t[p]),this instanceof e){t=y(n.prototype);var g=n.apply(t,h);return It(g)?g:t}return n.apply(t,h)}var n=t[0],i=t[1],a=t[2],r=t[3],s=t[4],o=t[5],l=1&i,c=2&i,u=4&i,d=8&i,p=n;return Xn(e,t),e}function Q(t,e){var n=-1,r=lt(),s=t?t.length:0,o=s>=w&&r===i,c=[];if(o){var u=l(e);u?(r=a,e=u):o=!1}for(;++n<s;){var d=t[n];r(e,d)<0&&c.push(d)}return o&&h(e),c}function J(t,e,n,i){for(var a=(i||0)-1,r=t?t.length:0,s=[];++a<r;){var o=t[a];if(o&&"object"==typeof o&&"number"==typeof o.length&&(Qn(o)||pt(o))){e||(o=J(o,e,n));var l=-1,c=o.length,u=s.length;for(s.length+=c;++l<c;)s[u++]=o[l]}else n||s.push(o)}return s}function tt(t,e,n,i,a,r){if(n){var s=n(t,e);if("undefined"!=typeof s)return!!s}if(t===e)return 0!==t||1/t==1/e;var o=typeof t,l=typeof e;if(!(t!==t||t&&Z[o]||e&&Z[l]))return!1;if(null==t||null==e)return t===e;var c=Sn.call(t),d=Sn.call(e);if(c==$&&(c=U),d==$&&(d=U),c!=d)return!1;switch(c){case N:case B:return+t==+e;case Y:return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case z:case V:return t==kn(e)}var h=c==q;if(!h){var f=On.call(t,"__wrapped__"),g=On.call(e,"__wrapped__");if(f||g)return tt(f?t.__wrapped__:t,g?e.__wrapped__:e,n,i,a,r);if(c!=U)return!1;var m=t.constructor,v=e.constructor;if(m!=v&&!(Mt(m)&&m instanceof m&&Mt(v)&&v instanceof v)&&"constructor"in t&&"constructor"in e)return!1}var y=!a;a||(a=u()),r||(r=u());for(var b=a.length;b--;)if(a[b]==t)return r[b]==e;var _=0;if(s=!0,a.push(t),r.push(e),h){if(b=t.length,_=e.length,s=_==b,s||i)for(;_--;){var w=b,k=e[_];if(i)for(;w--&&!(s=tt(t[w],k,n,i,a,r)););else if(!(s=tt(t[_],k,n,i,a,r)))break}}else oi(e,function(e,o,l){return On.call(l,o)?(_++,s=On.call(t,o)&&tt(t[o],e,n,i,a,r)):void 0}),s&&!i&&oi(t,function(t,e,n){return On.call(n,e)?s=--_>-1:void 0});return a.pop(),r.pop(),y&&(p(a),p(r)),s}function et(t,e,n,i,a){(Qn(e)?Gt:li)(e,function(e,r){var s,o,l=e,c=t[r];if(e&&((o=Qn(e))||ci(e))){for(var u=i.length;u--;)if(s=i[u]==e){c=a[u];break}if(!s){var d;n&&(l=n(c,e),(d="undefined"!=typeof l)&&(c=l)),d||(c=o?Qn(c)?c:[]:ci(c)?c:{}),i.push(e),a.push(c),d||et(c,e,n,i,a)}}else n&&(l=n(c,e),"undefined"==typeof l&&(l=e)),"undefined"!=typeof l&&(c=l);t[r]=c})}function it(t,e){return t+En(Kn()*(e-t+1))}function at(t,e,n){var r=-1,s=lt(),o=t?t.length:0,c=[],d=!e&&o>=w&&s===i,f=n||d?u():c;if(d){var g=l(f);s=a,f=g}for(;++r<o;){var m=t[r],v=n?n(m,r,t):m;(e?!r||f[f.length-1]!==v:s(f,v)<0)&&((n||d)&&f.push(v),c.push(m))}return d?(p(f.array),h(f)):n&&p(f),c}function rt(t){return function(n,i,a){var r={};i=e.createCallback(i,a,3);var s=-1,o=n?n.length:0;if("number"==typeof o)for(;++s<o;){var l=n[s];t(r,l,i(l,s,n),n)}else li(n,function(e,n,a){t(r,e,i(e,n,a),a)});return r}}function st(t,e,n,i,a,s){var o=1&e,l=2&e,c=4&e,u=16&e,d=32&e;if(!l&&!Mt(t))throw new xn;u&&!n.length&&(e&=-17,u=n=!1),d&&!i.length&&(e&=-33,d=i=!1);var p=t&&t.__bindData__;if(p&&p!==!0)return p=f(p),p[2]&&(p[2]=f(p[2])),p[3]&&(p[3]=f(p[3])),!o||1&p[1]||(p[4]=a),!o&&1&p[1]&&(e|=8),!c||4&p[1]||(p[5]=s),u&&Fn.apply(p[2]||(p[2]=[]),n),d&&qn.apply(p[3]||(p[3]=[]),i),p[1]|=e,st.apply(null,p);var h=1==e||17===e?r:G;return h([t,e,n,i,a,s])}function ot(t){return ei[t]}function lt(){var t=(t=e.indexOf)===ve?i:t;return t}function ct(t){return"function"==typeof t&&Tn.test(t)}function ut(t){var e,n;return t&&Sn.call(t)==U&&(e=t.constructor,!Mt(e)||e instanceof e)?(oi(t,function(t,e){n=e}),"undefined"==typeof n||On.call(t,n)):!1}function dt(t){return ni[t]}function pt(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Sn.call(t)==$||!1}function ht(t,e,n,i){return"boolean"!=typeof e&&null!=e&&(i=n,n=e,e=!1),v(t,e,"function"==typeof n&&k(n,i,1))}function ft(t,e,n){return v(t,!0,"function"==typeof e&&k(e,n,1))}function gt(t,e){var n=y(t);return e?ri(n,e):n}function mt(t,n,i){var a;return n=e.createCallback(n,i,3),li(t,function(t,e,i){return n(t,e,i)?(a=e,!1):void 0}),a}function vt(t,n,i){var a;return n=e.createCallback(n,i,3),bt(t,function(t,e,i){return n(t,e,i)?(a=e,!1):void 0}),a}function yt(t,e,n){var i=[];oi(t,function(t,e){i.push(e,t)});var a=i.length;for(e=k(e,n,3);a--&&e(i[a--],i[a],t)!==!1;);return t}function bt(t,e,n){var i=ti(t),a=i.length;for(e=k(e,n,3);a--;){var r=i[a];if(e(t[r],r,t)===!1)break}return t}function _t(t){var e=[];return oi(t,function(t,n){Mt(t)&&e.push(n)}),e.sort()}function wt(t,e){return t?On.call(t,e):!1}function kt(t){for(var e=-1,n=ti(t),i=n.length,a={};++e<i;){var r=n[e];a[t[r]]=r}return a}function xt(t){return t===!0||t===!1||t&&"object"==typeof t&&Sn.call(t)==N||!1}function Ct(t){return t&&"object"==typeof t&&Sn.call(t)==B||!1}function Dt(t){return t&&1===t.nodeType||!1}function At(t){var e=!0;if(!t)return e;var n=Sn.call(t),i=t.length;return n==q||n==V||n==$||n==U&&"number"==typeof i&&Mt(t.splice)?!i:(li(t,function(){return e=!1}),e)}function St(t,e,n,i){return tt(t,e,"function"==typeof n&&k(n,i,2))}function Tt(t){return Yn(t)&&!Un(parseFloat(t))}function Mt(t){return"function"==typeof t}function It(t){return!(!t||!Z[typeof t])}function Et(t){return Pt(t)&&t!=+t}function jt(t){return null===t}function Pt(t){return"number"==typeof t||t&&"object"==typeof t&&Sn.call(t)==Y||!1}function Ot(t){return t&&"object"==typeof t&&Sn.call(t)==z||!1}function Ft(t){return"string"==typeof t||t&&"object"==typeof t&&Sn.call(t)==V||!1}function Lt(t){return"undefined"==typeof t}function $t(t,n,i){var a={};return n=e.createCallback(n,i,3),li(t,function(t,e,i){a[e]=n(t,e,i)}),a}function qt(t){var e=arguments,n=2;if(!It(t))return t;if("number"!=typeof e[2]&&(n=e.length),n>3&&"function"==typeof e[n-2])var i=k(e[--n-1],e[n--],2);else n>2&&"function"==typeof e[n-1]&&(i=e[--n]);for(var a=f(arguments,1,n),r=-1,s=u(),o=u();++r<n;)et(t,a[r],i,s,o);return p(s),p(o),t}function Nt(t,n,i){var a={};if("function"!=typeof n){var r=[];oi(t,function(t,e){r.push(e)}),r=Q(r,J(arguments,!0,!1,1));for(var s=-1,o=r.length;++s<o;){var l=r[s];a[l]=t[l]}}else n=e.createCallback(n,i,3),oi(t,function(t,e,i){n(t,e,i)||(a[e]=t)});return a}function Bt(t){for(var e=-1,n=ti(t),i=n.length,a=fn(i);++e<i;){var r=n[e];a[e]=[r,t[r]]}return a}function Rt(t,n,i){var a={};if("function"!=typeof n)for(var r=-1,s=J(arguments,!0,!1,1),o=It(t)?s.length:0;++r<o;){var l=s[r];l in t&&(a[l]=t[l])}else n=e.createCallback(n,i,3),oi(t,function(t,e,i){n(t,e,i)&&(a[e]=t)});return a}function Yt(t,n,i,a){var r=Qn(t);if(null==i)if(r)i=[];else{var s=t&&t.constructor,o=s&&s.prototype;i=y(o)}return n&&(n=e.createCallback(n,a,4),(r?Gt:li)(t,function(t,e,a){return n(i,t,e,a)})),i}function Ut(t){for(var e=-1,n=ti(t),i=n.length,a=fn(i);++e<i;)a[e]=t[n[e]];return a}function zt(t){for(var e=arguments,n=-1,i=J(e,!0,!1,1),a=e[2]&&e[2][e[1]]===t?1:i.length,r=fn(a);++n<a;)r[n]=t[i[n]];return r}function Vt(t,e,n){var i=-1,a=lt(),r=t?t.length:0,s=!1;return n=(0>n?Vn(0,r+n):n)||0,Qn(t)?s=a(t,e,n)>-1:"number"==typeof r?s=(Ft(t)?t.indexOf(e,n):a(t,e,n))>-1:li(t,function(t){return++i>=n?!(s=t===e):void 0}),s}function Ht(t,n,i){var a=!0;n=e.createCallback(n,i,3);var r=-1,s=t?t.length:0;if("number"==typeof s)for(;++r<s&&(a=!!n(t[r],r,t)););else li(t,function(t,e,i){return a=!!n(t,e,i)});return a}function Wt(t,n,i){var a=[];n=e.createCallback(n,i,3);var r=-1,s=t?t.length:0;if("number"==typeof s)for(;++r<s;){var o=t[r];n(o,r,t)&&a.push(o)}else li(t,function(t,e,i){n(t,e,i)&&a.push(t)});return a}function Kt(t,n,i){n=e.createCallback(n,i,3);var a=-1,r=t?t.length:0;if("number"!=typeof r){var s;return li(t,function(t,e,i){return n(t,e,i)?(s=t,!1):void 0}),s}for(;++a<r;){var o=t[a];if(n(o,a,t))return o}}function Zt(t,n,i){var a;return n=e.createCallback(n,i,3),Xt(t,function(t,e,i){return n(t,e,i)?(a=t,!1):void 0}),a}function Gt(t,e,n){var i=-1,a=t?t.length:0;if(e=e&&"undefined"==typeof n?e:k(e,n,3),"number"==typeof a)for(;++i<a&&e(t[i],i,t)!==!1;);else li(t,e);return t}function Xt(t,e,n){var i=t?t.length:0;if(e=e&&"undefined"==typeof n?e:k(e,n,3),"number"==typeof i)for(;i--&&e(t[i],i,t)!==!1;);else{var a=ti(t);i=a.length,li(t,function(t,n,r){return n=a?a[--i]:--i,e(r[n],n,r)})}return t}function Qt(t,e){var n=f(arguments,2),i=-1,a="function"==typeof e,r=t?t.length:0,s=fn("number"==typeof r?r:0);return Gt(t,function(t){s[++i]=(a?e:t[e]).apply(t,n)}),s}function Jt(t,n,i){var a=-1,r=t?t.length:0;if(n=e.createCallback(n,i,3),"number"==typeof r)for(var s=fn(r);++a<r;)s[a]=n(t[a],a,t);else s=[],li(t,function(t,e,i){s[++a]=n(t,e,i)});return s}function te(t,n,i){var a=-(1/0),r=a;if("function"!=typeof n&&i&&i[n]===t&&(n=null),null==n&&Qn(t))for(var o=-1,l=t.length;++o<l;){var c=t[o];c>r&&(r=c)}else n=null==n&&Ft(t)?s:e.createCallback(n,i,3),Gt(t,function(t,e,i){var s=n(t,e,i);s>a&&(a=s,r=t)});return r}function ee(t,n,i){var a=1/0,r=a;if("function"!=typeof n&&i&&i[n]===t&&(n=null),null==n&&Qn(t))for(var o=-1,l=t.length;++o<l;){var c=t[o];r>c&&(r=c)}else n=null==n&&Ft(t)?s:e.createCallback(n,i,3),Gt(t,function(t,e,i){var s=n(t,e,i);a>s&&(a=s,r=t)});return r}function ne(t,n,i,a){if(!t)return i;var r=arguments.length<3;n=e.createCallback(n,a,4);var s=-1,o=t.length;if("number"==typeof o)for(r&&(i=t[++s]);++s<o;)i=n(i,t[s],s,t);else li(t,function(t,e,a){i=r?(r=!1,t):n(i,t,e,a)});return i}function ie(t,n,i,a){var r=arguments.length<3;return n=e.createCallback(n,a,4),Xt(t,function(t,e,a){i=r?(r=!1,t):n(i,t,e,a)}),i}function ae(t,n,i){return n=e.createCallback(n,i,3),Wt(t,function(t,e,i){return!n(t,e,i)})}function re(t,e,n){if(t&&"number"!=typeof t.length&&(t=Ut(t)),null==e||n)return t?t[it(0,t.length-1)]:m;var i=se(t);return i.length=Hn(Vn(0,e),i.length),i}function se(t){var e=-1,n=t?t.length:0,i=fn("number"==typeof n?n:0);return Gt(t,function(t){var n=it(0,++e);i[e]=i[n],i[n]=t}),i}function oe(t){var e=t?t.length:0;return"number"==typeof e?e:ti(t).length}function le(t,n,i){var a;n=e.createCallback(n,i,3);var r=-1,s=t?t.length:0;if("number"==typeof s)for(;++r<s&&!(a=n(t[r],r,t)););else li(t,function(t,e,i){return!(a=n(t,e,i))});return!!a}function ce(t,n,i){var a=-1,r=Qn(n),s=t?t.length:0,l=fn("number"==typeof s?s:0);for(r||(n=e.createCallback(n,i,3)),Gt(t,function(t,e,i){var s=l[++a]=d();r?s.criteria=Jt(n,function(e){return t[e]}):(s.criteria=u())[0]=n(t,e,i),s.index=a,s.value=t}),s=l.length,l.sort(o);s--;){var c=l[s];l[s]=c.value,r||p(c.criteria),h(c)}return l}function ue(t){return t&&"number"==typeof t.length?f(t):Ut(t)}function de(t){for(var e=-1,n=t?t.length:0,i=[];++e<n;){var a=t[e];a&&i.push(a)}return i}function pe(t){return Q(t,J(arguments,!0,!0,1))}function he(t,n,i){var a=-1,r=t?t.length:0;for(n=e.createCallback(n,i,3);++a<r;)if(n(t[a],a,t))return a;return-1}function fe(t,n,i){var a=t?t.length:0;for(n=e.createCallback(n,i,3);a--;)if(n(t[a],a,t))return a;return-1}function ge(t,n,i){var a=0,r=t?t.length:0;if("number"!=typeof n&&null!=n){var s=-1;for(n=e.createCallback(n,i,3);++s<r&&n(t[s],s,t);)a++}else if(a=n,null==a||i)return t?t[0]:m;return f(t,0,Hn(Vn(0,a),r))}function me(t,e,n,i){return"boolean"!=typeof e&&null!=e&&(i=n,n="function"!=typeof e&&i&&i[e]===t?null:e,e=!1),null!=n&&(t=Jt(t,n,i)),J(t,e)}function ve(t,e,n){if("number"==typeof n){var a=t?t.length:0;n=0>n?Vn(0,a+n):n||0}else if(n){var r=Ae(t,e);return t[r]===e?r:-1}return i(t,e,n)}function ye(t,n,i){var a=0,r=t?t.length:0;if("number"!=typeof n&&null!=n){var s=r;for(n=e.createCallback(n,i,3);s--&&n(t[s],s,t);)a++}else a=null==n||i?1:n||a;return f(t,0,Hn(Vn(0,r-a),r))}function be(){for(var t=[],e=-1,n=arguments.length,r=u(),s=lt(),o=s===i,c=u();++e<n;){var d=arguments[e];(Qn(d)||pt(d))&&(t.push(d),r.push(o&&d.length>=w&&l(e?t[e]:c)))}var f=t[0],g=-1,m=f?f.length:0,v=[];t:for(;++g<m;){var y=r[0];if(d=f[g],(y?a(y,d):s(c,d))<0){for(e=n,(y||c).push(d);--e;)if(y=r[e],(y?a(y,d):s(t[e],d))<0)continue t;v.push(d)}}for(;n--;)y=r[n],y&&h(y);return p(r),p(c),v}function _e(t,n,i){var a=0,r=t?t.length:0;if("number"!=typeof n&&null!=n){var s=r;for(n=e.createCallback(n,i,3);s--&&n(t[s],s,t);)a++}else if(a=n,null==a||i)return t?t[r-1]:m;return f(t,Vn(0,r-a))}function we(t,e,n){var i=t?t.length:0;for("number"==typeof n&&(i=(0>n?Vn(0,i+n):Hn(n,i-1))+1);i--;)if(t[i]===e)return i;return-1}function ke(t){for(var e=arguments,n=0,i=e.length,a=t?t.length:0;++n<i;)for(var r=-1,s=e[n];++r<a;)t[r]===s&&($n.call(t,r--,1),a--);
return t}function xe(t,e,n){t=+t||0,n="number"==typeof n?n:+n||1,null==e&&(e=t,t=0);for(var i=-1,a=Vn(0,Mn((e-t)/(n||1))),r=fn(a);++i<a;)r[i]=t,t+=n;return r}function Ce(t,n,i){var a=-1,r=t?t.length:0,s=[];for(n=e.createCallback(n,i,3);++a<r;){var o=t[a];n(o,a,t)&&(s.push(o),$n.call(t,a--,1),r--)}return s}function De(t,n,i){if("number"!=typeof n&&null!=n){var a=0,r=-1,s=t?t.length:0;for(n=e.createCallback(n,i,3);++r<s&&n(t[r],r,t);)a++}else a=null==n||i?1:Vn(0,n);return f(t,a)}function Ae(t,n,i,a){var r=0,s=t?t.length:r;for(i=i?e.createCallback(i,a,1):Xe,n=i(n);s>r;){var o=r+s>>>1;i(t[o])<n?r=o+1:s=o}return r}function Se(){return at(J(arguments,!0,!0))}function Te(t,n,i,a){return"boolean"!=typeof n&&null!=n&&(a=i,i="function"!=typeof n&&a&&a[n]===t?null:n,n=!1),null!=i&&(i=e.createCallback(i,a,3)),at(t,n,i)}function Me(t){return Q(t,f(arguments,1))}function Ie(){for(var t=-1,e=arguments.length;++t<e;){var n=arguments[t];if(Qn(n)||pt(n))var i=i?at(Q(i,n).concat(Q(n,i))):n}return i||[]}function Ee(){for(var t=arguments.length>1?arguments:arguments[0],e=-1,n=t?te(hi(t,"length")):0,i=fn(0>n?0:n);++e<n;)i[e]=hi(t,e);return i}function je(t,e){var n=-1,i=t?t.length:0,a={};for(e||!i||Qn(t[0])||(e=[]);++n<i;){var r=t[n];e?a[r]=e[n]:r&&(a[r[0]]=r[1])}return a}function Pe(t,e){if(!Mt(e))throw new xn;return function(){return--t<1?e.apply(this,arguments):void 0}}function Oe(t,e){return arguments.length>2?st(t,17,f(arguments,2),null,e):st(t,1,null,null,e)}function Fe(t){for(var e=arguments.length>1?J(arguments,!0,!1,1):_t(t),n=-1,i=e.length;++n<i;){var a=e[n];t[a]=st(t[a],1,null,null,t)}return t}function Le(t,e){return arguments.length>2?st(e,19,f(arguments,2),null,t):st(e,3,null,null,t)}function $e(){for(var t=arguments,e=t.length;e--;)if(!Mt(t[e]))throw new xn;return function(){for(var e=arguments,n=t.length;n--;)e=[t[n].apply(this,e)];return e[0]}}function qe(t,e){return e="number"==typeof e?e:+e||t.length,st(t,4,null,null,null,e)}function Ne(t,e,n){var i,a,r,s,o,l,c,u=0,d=!1,p=!0;if(!Mt(t))throw new xn;if(e=Vn(0,e)||0,n===!0){var h=!0;p=!1}else It(n)&&(h=n.leading,d="maxWait"in n&&(Vn(e,n.maxWait)||0),p="trailing"in n?n.trailing:p);var f=function(){var n=e-(gi()-s);if(0>=n){a&&In(a);var d=c;a=l=c=m,d&&(u=gi(),r=t.apply(o,i),l||a||(i=o=null))}else l=Ln(f,n)},g=function(){l&&In(l),a=l=c=m,(p||d!==e)&&(u=gi(),r=t.apply(o,i),l||a||(i=o=null))};return function(){if(i=arguments,s=gi(),o=this,c=p&&(l||!h),d===!1)var n=h&&!l;else{a||h||(u=s);var m=d-(s-u),v=0>=m;v?(a&&(a=In(a)),u=s,r=t.apply(o,i)):a||(a=Ln(g,m))}return v&&l?l=In(l):l||e===d||(l=Ln(f,e)),n&&(v=!0,r=t.apply(o,i)),!v||l||a||(i=o=null),r}}function Be(t){if(!Mt(t))throw new xn;var e=f(arguments,1);return Ln(function(){t.apply(m,e)},1)}function Re(t,e){if(!Mt(t))throw new xn;var n=f(arguments,2);return Ln(function(){t.apply(m,n)},e)}function Ye(t,e){if(!Mt(t))throw new xn;var n=function(){var i=n.cache,a=e?e.apply(this,arguments):_+arguments[0];return On.call(i,a)?i[a]:i[a]=t.apply(this,arguments)};return n.cache={},n}function Ue(t){var e,n;if(!Mt(t))throw new xn;return function(){return e?n:(e=!0,n=t.apply(this,arguments),t=null,n)}}function ze(t){return st(t,16,f(arguments,1))}function Ve(t){return st(t,32,null,f(arguments,1))}function He(t,e,n){var i=!0,a=!0;if(!Mt(t))throw new xn;return n===!1?i=!1:It(n)&&(i="leading"in n?n.leading:i,a="trailing"in n?n.trailing:a),W.leading=i,W.maxWait=e,W.trailing=a,Ne(t,e,W)}function We(t,e){return st(e,16,[t])}function Ke(t){return function(){return t}}function Ze(t,e,n){var i=typeof t;if(null==t||"function"==i)return k(t,e,n);if("object"!=i)return en(t);var a=ti(t),r=a[0],s=t[r];return 1!=a.length||s!==s||It(s)?function(e){for(var n=a.length,i=!1;n--&&(i=tt(e[a[n]],t[a[n]],null,!0)););return i}:function(t){var e=t[r];return s===e&&(0!==s||1/s==1/e)}}function Ge(t){return null==t?"":kn(t).replace(ai,ot)}function Xe(t){return t}function Qe(t,i,a){var r=!0,s=i&&_t(i);i&&(a||s.length)||(null==a&&(a=i),o=n,i=t,t=e,s=_t(i)),a===!1?r=!1:It(a)&&"chain"in a&&(r=a.chain);var o=t,l=Mt(o);Gt(s,function(e){var n=t[e]=i[e];l&&(o.prototype[e]=function(){var e=this.__chain__,i=this.__wrapped__,a=[i];Fn.apply(a,arguments);var s=n.apply(t,a);if(r||e){if(i===s&&It(s))return this;s=new o(s),s.__chain__=e}return s})})}function Je(){return t._=An,this}function tn(){}function en(t){return function(e){return e[t]}}function nn(t,e,n){var i=null==t,a=null==e;if(null==n&&("boolean"==typeof t&&a?(n=t,t=1):a||"boolean"!=typeof e||(n=e,a=!0)),i&&a&&(e=1),t=+t||0,a?(e=t,t=0):e=+e||0,n||t%1||e%1){var r=Kn();return Hn(t+r*(e-t+parseFloat("1e-"+((r+"").length-1))),e)}return it(t,e)}function an(t,e){if(t){var n=t[e];return Mt(n)?t[e]():n}}function rn(t,n,i){var a=e.templateSettings;t=kn(t||""),i=si({},i,a);var r,s=si({},i.imports,a.imports),o=ti(s),l=Ut(s),u=0,d=i.interpolate||j,p="__p += '",h=wn((i.escape||j).source+"|"+d.source+"|"+(d===I?S:j).source+"|"+(i.evaluate||j).source+"|$","g");t.replace(h,function(e,n,i,a,s,o){return i||(i=a),p+=t.slice(u,o).replace(O,c),n&&(p+="' +\n__e("+n+") +\n'"),s&&(r=!0,p+="';\n"+s+";\n__p += '"),i&&(p+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),u=o+e.length,e}),p+="';\n";var f=i.variable,g=f;g||(f="obj",p="with ("+f+") {\n"+p+"\n}\n"),p=(r?p.replace(C,""):p).replace(D,"$1").replace(A,"$1;"),p="function("+f+") {\n"+(g?"":f+" || ("+f+" = {});\n")+"var __t, __p = '', __e = _.escape"+(r?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var v="\n/*\n//# sourceURL="+(i.sourceURL||"/lodash/template/source["+L++ +"]")+"\n*/";try{var y=vn(o,"return "+p+v).apply(m,l)}catch(b){throw b.source=p,b}return n?y(n):(y.source=p,y)}function sn(t,e,n){t=(t=+t)>-1?t:0;var i=-1,a=fn(t);for(e=k(e,n,1);++i<t;)a[i]=e(i);return a}function on(t){return null==t?"":kn(t).replace(ii,dt)}function ln(t){var e=++b;return kn(null==t?"":t)+e}function cn(t){return t=new n(t),t.__chain__=!0,t}function un(t,e){return e(t),t}function dn(){return this.__chain__=!0,this}function pn(){return kn(this.__wrapped__)}function hn(){return this.__wrapped__}t=t?nt.defaults(X.Object(),t,nt.pick(X,F)):X;var fn=t.Array,gn=t.Boolean,mn=t.Date,vn=t.Function,yn=t.Math,bn=t.Number,_n=t.Object,wn=t.RegExp,kn=t.String,xn=t.TypeError,Cn=[],Dn=_n.prototype,An=t._,Sn=Dn.toString,Tn=wn("^"+kn(Sn).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),Mn=yn.ceil,In=t.clearTimeout,En=yn.floor,jn=vn.prototype.toString,Pn=ct(Pn=_n.getPrototypeOf)&&Pn,On=Dn.hasOwnProperty,Fn=Cn.push,Ln=t.setTimeout,$n=Cn.splice,qn=Cn.unshift,Nn=function(){try{var t={},e=ct(e=_n.defineProperty)&&e,n=e(t,t,t)&&e}catch(i){}return n}(),Bn=ct(Bn=_n.create)&&Bn,Rn=ct(Rn=fn.isArray)&&Rn,Yn=t.isFinite,Un=t.isNaN,zn=ct(zn=_n.keys)&&zn,Vn=yn.max,Hn=yn.min,Wn=t.parseInt,Kn=yn.random,Zn={};Zn[q]=fn,Zn[N]=gn,Zn[B]=mn,Zn[R]=vn,Zn[U]=_n,Zn[Y]=bn,Zn[z]=wn,Zn[V]=kn,n.prototype=e.prototype;var Gn=e.support={};Gn.funcDecomp=!ct(t.WinRTError)&&P.test(g),Gn.funcNames="string"==typeof vn.name,e.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:I,variable:"",imports:{_:e}},Bn||(y=function(){function e(){}return function(n){if(It(n)){e.prototype=n;var i=new e;e.prototype=null}return i||t.Object()}}());var Xn=Nn?function(t,e){K.value=e,Nn(t,"__bindData__",K)}:tn,Qn=Rn||function(t){return t&&"object"==typeof t&&"number"==typeof t.length&&Sn.call(t)==q||!1},Jn=function(t){var e,n=t,i=[];if(!n)return i;if(!Z[typeof t])return i;for(e in n)On.call(n,e)&&i.push(e);return i},ti=zn?function(t){return It(t)?zn(t):[]}:Jn,ei={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ni=kt(ei),ii=wn("("+ti(ni).join("|")+")","g"),ai=wn("["+ti(ei).join("")+"]","g"),ri=function(t,e,n){var i,a=t,r=a;if(!a)return r;var s=arguments,o=0,l="number"==typeof n?2:s.length;if(l>3&&"function"==typeof s[l-2])var c=k(s[--l-1],s[l--],2);else l>2&&"function"==typeof s[l-1]&&(c=s[--l]);for(;++o<l;)if(a=s[o],a&&Z[typeof a])for(var u=-1,d=Z[typeof a]&&ti(a),p=d?d.length:0;++u<p;)i=d[u],r[i]=c?c(r[i],a[i]):a[i];return r},si=function(t,e,n){var i,a=t,r=a;if(!a)return r;for(var s=arguments,o=0,l="number"==typeof n?2:s.length;++o<l;)if(a=s[o],a&&Z[typeof a])for(var c=-1,u=Z[typeof a]&&ti(a),d=u?u.length:0;++c<d;)i=u[c],"undefined"==typeof r[i]&&(r[i]=a[i]);return r},oi=function(t,e,n){var i,a=t,r=a;if(!a)return r;if(!Z[typeof a])return r;e=e&&"undefined"==typeof n?e:k(e,n,3);for(i in a)if(e(a[i],i,t)===!1)return r;return r},li=function(t,e,n){var i,a=t,r=a;if(!a)return r;if(!Z[typeof a])return r;e=e&&"undefined"==typeof n?e:k(e,n,3);for(var s=-1,o=Z[typeof a]&&ti(a),l=o?o.length:0;++s<l;)if(i=o[s],e(a[i],i,t)===!1)return r;return r},ci=Pn?function(t){if(!t||Sn.call(t)!=U)return!1;var e=t.valueOf,n=ct(e)&&(n=Pn(e))&&Pn(n);return n?t==n||Pn(t)==n:ut(t)}:ut,ui=rt(function(t,e,n){On.call(t,n)?t[n]++:t[n]=1}),di=rt(function(t,e,n){(On.call(t,n)?t[n]:t[n]=[]).push(e)}),pi=rt(function(t,e,n){t[n]=e}),hi=Jt,fi=Wt,gi=ct(gi=mn.now)&&gi||function(){return(new mn).getTime()},mi=8==Wn(x+"08")?Wn:function(t,e){return Wn(Ft(t)?t.replace(E,""):t,e||0)};return e.after=Pe,e.assign=ri,e.at=zt,e.bind=Oe,e.bindAll=Fe,e.bindKey=Le,e.chain=cn,e.compact=de,e.compose=$e,e.constant=Ke,e.countBy=ui,e.create=gt,e.createCallback=Ze,e.curry=qe,e.debounce=Ne,e.defaults=si,e.defer=Be,e.delay=Re,e.difference=pe,e.filter=Wt,e.flatten=me,e.forEach=Gt,e.forEachRight=Xt,e.forIn=oi,e.forInRight=yt,e.forOwn=li,e.forOwnRight=bt,e.functions=_t,e.groupBy=di,e.indexBy=pi,e.initial=ye,e.intersection=be,e.invert=kt,e.invoke=Qt,e.keys=ti,e.map=Jt,e.mapValues=$t,e.max=te,e.memoize=Ye,e.merge=qt,e.min=ee,e.omit=Nt,e.once=Ue,e.pairs=Bt,e.partial=ze,e.partialRight=Ve,e.pick=Rt,e.pluck=hi,e.property=en,e.pull=ke,e.range=xe,e.reject=ae,e.remove=Ce,e.rest=De,e.shuffle=se,e.sortBy=ce,e.tap=un,e.throttle=He,e.times=sn,e.toArray=ue,e.transform=Yt,e.union=Se,e.uniq=Te,e.values=Ut,e.where=fi,e.without=Me,e.wrap=We,e.xor=Ie,e.zip=Ee,e.zipObject=je,e.collect=Jt,e.drop=De,e.each=Gt,e.eachRight=Xt,e.extend=ri,e.methods=_t,e.object=je,e.select=Wt,e.tail=De,e.unique=Te,e.unzip=Ee,Qe(e),e.clone=ht,e.cloneDeep=ft,e.contains=Vt,e.escape=Ge,e.every=Ht,e.find=Kt,e.findIndex=he,e.findKey=mt,e.findLast=Zt,e.findLastIndex=fe,e.findLastKey=vt,e.has=wt,e.identity=Xe,e.indexOf=ve,e.isArguments=pt,e.isArray=Qn,e.isBoolean=xt,e.isDate=Ct,e.isElement=Dt,e.isEmpty=At,e.isEqual=St,e.isFinite=Tt,e.isFunction=Mt,e.isNaN=Et,e.isNull=jt,e.isNumber=Pt,e.isObject=It,e.isPlainObject=ci,e.isRegExp=Ot,e.isString=Ft,e.isUndefined=Lt,e.lastIndexOf=we,e.mixin=Qe,e.noConflict=Je,e.noop=tn,e.now=gi,e.parseInt=mi,e.random=nn,e.reduce=ne,e.reduceRight=ie,e.result=an,e.runInContext=g,e.size=oe,e.some=le,e.sortedIndex=Ae,e.template=rn,e.unescape=on,e.uniqueId=ln,e.all=Ht,e.any=le,e.detect=Kt,e.findWhere=Kt,e.foldl=ne,e.foldr=ie,e.include=Vt,e.inject=ne,Qe(function(){var t={};return li(e,function(n,i){e.prototype[i]||(t[i]=n)}),t}(),!1),e.first=ge,e.last=_e,e.sample=re,e.take=ge,e.head=ge,li(e,function(t,i){var a="sample"!==i;e.prototype[i]||(e.prototype[i]=function(e,i){var r=this.__chain__,s=t(this.__wrapped__,e,i);return r||null!=e&&(!i||a&&"function"==typeof e)?new n(s,r):s})}),e.VERSION="2.4.1",e.prototype.chain=dn,e.prototype.toString=pn,e.prototype.value=hn,e.prototype.valueOf=hn,Gt(["join","pop","shift"],function(t){var i=Cn[t];e.prototype[t]=function(){var t=this.__chain__,e=i.apply(this.__wrapped__,arguments);return t?new n(e,t):e}}),Gt(["push","reverse","sort","unshift"],function(t){var n=Cn[t];e.prototype[t]=function(){return n.apply(this.__wrapped__,arguments),this}}),Gt(["concat","slice","splice"],function(t){var i=Cn[t];e.prototype[t]=function(){return new n(i.apply(this.__wrapped__,arguments),this.__chain__)}}),e}var m,v=[],y=[],b=0,_=+new Date+"",w=75,k=40,x=" 	\f\ufeff\n\r\u2028\u2029",C=/\b__p \+= '';/g,D=/\b(__p \+=) '' \+/g,A=/(__e\(.*?\)|\b__t\)) \+\n'';/g,S=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,T=/\w*$/,M=/^\s*function[ \n\r\t]+\w/,I=/<%=([\s\S]+?)%>/g,E=RegExp("^["+x+"]*0+(?=.$)"),j=/($^)/,P=/\bthis\b/,O=/['\n\r\t\u2028\u2029\\]/g,F=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],L=0,$="[object Arguments]",q="[object Array]",N="[object Boolean]",B="[object Date]",R="[object Function]",Y="[object Number]",U="[object Object]",z="[object RegExp]",V="[object String]",H={};H[R]=!1,H[$]=H[q]=H[N]=H[B]=H[Y]=H[U]=H[z]=H[V]=!0;var W={leading:!1,maxWait:0,trailing:!1},K={configurable:!1,enumerable:!1,value:null,writable:!1},Z={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},G={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},X=Z[typeof window]&&window||this,Q=Z[typeof n]&&n&&!n.nodeType&&n,J=Z[typeof e]&&e&&!e.nodeType&&e,tt=J&&J.exports===Q&&Q,et=Z[typeof t]&&t;!et||et.global!==et&&et.window!==et||(X=et);var nt=g();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(X._=nt,define(function(){return nt})):Q&&J?tt?(J.exports=nt)._=nt:Q._=nt:X._=nt}).call(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],167:[function(t,e,n){(function(i){!function(a){"function"==typeof define&&define.amd?define(["moment"],a):"object"==typeof n?e.exports=a(t("../moment")):a(("undefined"!=typeof i?i:this).moment)}(function(t){return t.defineLocale("fr",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Aujourd'hui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinalParse:/\d{1,2}(er|)/,ordinal:function(t){return t+(1===t?"er":"")},week:{dow:1,doy:4}})})}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../moment":168}],168:[function(t,e,n){(function(n){(function(i){function a(t,e,n){switch(arguments.length){case 2:return null!=t?t:e;case 3:return null!=t?t:null!=e?e:n;default:throw new Error("Implement me")}}function r(t,e){return It.call(t,e)}function s(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function o(t){Ct.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function l(t,e){var n=!0;return v(function(){return n&&(o(t),n=!1),e.apply(this,arguments)},e)}function c(t,e){we[t]||(o(e),we[t]=!0)}function u(t,e){return function(n){return _(t.call(this,n),e)}}function d(t,e){return function(n){return this.localeData().ordinal(t.call(this,n),e)}}function p(t,e){var n,i,a=12*(e.year()-t.year())+(e.month()-t.month()),r=t.clone().add(a,"months");return 0>e-r?(n=t.clone().add(a-1,"months"),i=(e-r)/(r-n)):(n=t.clone().add(a+1,"months"),i=(e-r)/(n-r)),-(a+i)}function h(t,e,n){var i;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?(i=t.isPM(n),i&&12>e&&(e+=12),i||12!==e||(e=0),e):e}function f(){}function g(t,e){e!==!1&&L(t),y(this,t),this._d=new Date(+t._d),xe===!1&&(xe=!0,Ct.updateOffset(this),xe=!1)}function m(t){var e=M(t),n=e.year||0,i=e.quarter||0,a=e.month||0,r=e.week||0,s=e.day||0,o=e.hour||0,l=e.minute||0,c=e.second||0,u=e.millisecond||0;this._milliseconds=+u+1e3*c+6e4*l+36e5*o,this._days=+s+7*r,this._months=+a+3*i+12*n,this._data={},this._locale=Ct.localeData(),this._bubble()}function v(t,e){for(var n in e)r(e,n)&&(t[n]=e[n]);return r(e,"toString")&&(t.toString=e.toString),r(e,"valueOf")&&(t.valueOf=e.valueOf),t}function y(t,e){var n,i,a;if("undefined"!=typeof e._isAMomentObject&&(t._isAMomentObject=e._isAMomentObject),"undefined"!=typeof e._i&&(t._i=e._i),"undefined"!=typeof e._f&&(t._f=e._f),"undefined"!=typeof e._l&&(t._l=e._l),"undefined"!=typeof e._strict&&(t._strict=e._strict),"undefined"!=typeof e._tzm&&(t._tzm=e._tzm),"undefined"!=typeof e._isUTC&&(t._isUTC=e._isUTC),"undefined"!=typeof e._offset&&(t._offset=e._offset),"undefined"!=typeof e._pf&&(t._pf=e._pf),"undefined"!=typeof e._locale&&(t._locale=e._locale),Nt.length>0)for(n in Nt)i=Nt[n],a=e[i],"undefined"!=typeof a&&(t[i]=a);return t}function b(t){return 0>t?Math.ceil(t):Math.floor(t)}function _(t,e,n){for(var i=""+Math.abs(t),a=t>=0;i.length<e;)i="0"+i;return(a?n?"+":"":"-")+i}function w(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function k(t,e){var n;return e=R(e,t),t.isBefore(e)?n=w(t,e):(n=w(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function x(t,e){return function(n,i){var a,r;return null===i||isNaN(+i)||(c(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),r=n,n=i,i=r),n="string"==typeof n?+n:n,a=Ct.duration(n,i),C(this,a,t),this}}function C(t,e,n,i){var a=e._milliseconds,r=e._days,s=e._months;i=null==i?!0:i,a&&t._d.setTime(+t._d+a*n),r&&yt(t,"Date",vt(t,"Date")+r*n),s&&mt(t,vt(t,"Month")+s*n),i&&Ct.updateOffset(t,r||s)}function D(t){return"[object Array]"===Object.prototype.toString.call(t)}function A(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}function S(t,e,n){var i,a=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),s=0;for(i=0;a>i;i++)(n&&t[i]!==e[i]||!n&&E(t[i])!==E(e[i]))&&s++;return s+r}function T(t){if(t){var e=t.toLowerCase().replace(/(.)s$/,"$1");t=fe[t]||ge[e]||e}return t}function M(t){var e,n,i={};for(n in t)r(t,n)&&(e=T(n),e&&(i[e]=t[n]));return i}function I(t){var e,n;if(0===t.indexOf("week"))e=7,n="day";else{if(0!==t.indexOf("month"))return;e=12,n="month"}Ct[t]=function(a,r){var s,o,l=Ct._locale[t],c=[];if("number"==typeof a&&(r=a,a=i),o=function(t){var e=Ct().utc().set(n,t);return l.call(Ct._locale,e,a||"")},null!=r)return o(r);for(s=0;e>s;s++)c.push(o(s));return c}}function E(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=e>=0?Math.floor(e):Math.ceil(e)),n}function j(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function P(t,e,n){return pt(Ct([t,11,31+e-n]),e,n).week}function O(t){return F(t)?366:365}function F(t){return t%4===0&&t%100!==0||t%400===0}function L(t){var e;t._a&&-2===t._pf.overflow&&(e=t._a[jt]<0||t._a[jt]>11?jt:t._a[Pt]<1||t._a[Pt]>j(t._a[Et],t._a[jt])?Pt:t._a[Ot]<0||t._a[Ot]>24||24===t._a[Ot]&&(0!==t._a[Ft]||0!==t._a[Lt]||0!==t._a[$t])?Ot:t._a[Ft]<0||t._a[Ft]>59?Ft:t._a[Lt]<0||t._a[Lt]>59?Lt:t._a[$t]<0||t._a[$t]>999?$t:-1,t._pf._overflowDayOfYear&&(Et>e||e>Pt)&&(e=Pt),t._pf.overflow=e)}function $(t){return null==t._isValid&&(t._isValid=!isNaN(t._d.getTime())&&t._pf.overflow<0&&!t._pf.empty&&!t._pf.invalidMonth&&!t._pf.nullInput&&!t._pf.invalidFormat&&!t._pf.userInvalidated,t._strict&&(t._isValid=t._isValid&&0===t._pf.charsLeftOver&&0===t._pf.unusedTokens.length&&t._pf.bigHour===i)),t._isValid}function q(t){return t?t.toLowerCase().replace("_","-"):t}function N(t){for(var e,n,i,a,r=0;r<t.length;){for(a=q(t[r]).split("-"),e=a.length,n=q(t[r+1]),n=n?n.split("-"):null;e>0;){if(i=B(a.slice(0,e).join("-")))return i;if(n&&n.length>=e&&S(a,n,!0)>=e-1)break;e--}r++}return null}function B(e){var n=null;if(!qt[e]&&Bt)try{n=Ct.locale(),t("./locale/"+e),Ct.locale(n)}catch(i){}return qt[e]}function R(t,e){var n,i;return e._isUTC?(n=e.clone(),i=(Ct.isMoment(t)||A(t)?+t:+Ct(t))-+n,n._d.setTime(+n._d+i),Ct.updateOffset(n,!1),n):Ct(t).local()}function Y(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function U(t){var e,n,i=t.match(zt);for(e=0,n=i.length;n>e;e++)_e[i[e]]?i[e]=_e[i[e]]:i[e]=Y(i[e]);return function(a){var r="";for(e=0;n>e;e++)r+=i[e]instanceof Function?i[e].call(a,t):i[e];return r}}function z(t,e){return t.isValid()?(e=V(e,t.localeData()),me[e]||(me[e]=U(e)),me[e](t)):t.localeData().invalidDate()}function V(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for(Vt.lastIndex=0;i>=0&&Vt.test(t);)t=t.replace(Vt,n),Vt.lastIndex=0,i-=1;return t}function H(t,e){var n,i=e._strict;switch(t){case"Q":return ne;case"DDDD":return ae;case"YYYY":case"GGGG":case"gggg":return i?re:Kt;case"Y":case"G":case"g":return oe;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return i?se:Zt;case"S":if(i)return ne;case"SS":if(i)return ie;case"SSS":if(i)return ae;case"DDD":return Wt;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Xt;case"a":case"A":return e._locale._meridiemParse;case"x":return te;case"X":return ee;case"Z":case"ZZ":return Qt;case"T":return Jt;case"SSSS":return Gt;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return i?ie:Ht;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return Ht;case"Do":return i?e._locale._ordinalParse:e._locale._ordinalParseLenient;default:return n=new RegExp(et(tt(t.replace("\\","")),"i"))}}function W(t){t=t||"";var e=t.match(Qt)||[],n=e[e.length-1]||[],i=(n+"").match(pe)||["-",0,0],a=+(60*i[1])+E(i[2]);return"+"===i[0]?a:-a}function K(t,e,n){var i,a=n._a;switch(t){case"Q":null!=e&&(a[jt]=3*(E(e)-1));break;case"M":case"MM":null!=e&&(a[jt]=E(e)-1);break;case"MMM":case"MMMM":i=n._locale.monthsParse(e,t,n._strict),null!=i?a[jt]=i:n._pf.invalidMonth=e;break;case"D":case"DD":null!=e&&(a[Pt]=E(e));break;case"Do":null!=e&&(a[Pt]=E(parseInt(e.match(/\d{1,2}/)[0],10)));break;case"DDD":case"DDDD":null!=e&&(n._dayOfYear=E(e));break;case"YY":a[Et]=Ct.parseTwoDigitYear(e);break;case"YYYY":case"YYYYY":case"YYYYYY":a[Et]=E(e);break;case"a":case"A":n._meridiem=e;break;case"h":case"hh":n._pf.bigHour=!0;case"H":case"HH":a[Ot]=E(e);break;case"m":case"mm":a[Ft]=E(e);break;case"s":case"ss":a[Lt]=E(e);break;case"S":case"SS":case"SSS":case"SSSS":a[$t]=E(1e3*("0."+e));break;case"x":n._d=new Date(E(e));break;case"X":n._d=new Date(1e3*parseFloat(e));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=W(e);break;case"dd":case"ddd":case"dddd":i=n._locale.weekdaysParse(e),null!=i?(n._w=n._w||{},n._w.d=i):n._pf.invalidWeekday=e;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":t=t.substr(0,1);case"gggg":case"GGGG":case"GGGGG":t=t.substr(0,2),e&&(n._w=n._w||{},n._w[t]=E(e));break;case"gg":case"GG":n._w=n._w||{},n._w[t]=Ct.parseTwoDigitYear(e)}}function Z(t){var e,n,i,r,s,o,l;e=t._w,null!=e.GG||null!=e.W||null!=e.E?(s=1,o=4,n=a(e.GG,t._a[Et],pt(Ct(),1,4).year),i=a(e.W,1),r=a(e.E,1)):(s=t._locale._week.dow,o=t._locale._week.doy,n=a(e.gg,t._a[Et],pt(Ct(),s,o).year),i=a(e.w,1),null!=e.d?(r=e.d,s>r&&++i):r=null!=e.e?e.e+s:s),l=ht(n,i,r,o,s),t._a[Et]=l.year,t._dayOfYear=l.dayOfYear}function G(t){var e,n,i,r,s=[];if(!t._d){for(i=Q(t),t._w&&null==t._a[Pt]&&null==t._a[jt]&&Z(t),t._dayOfYear&&(r=a(t._a[Et],i[Et]),t._dayOfYear>O(r)&&(t._pf._overflowDayOfYear=!0),n=lt(r,0,t._dayOfYear),t._a[jt]=n.getUTCMonth(),t._a[Pt]=n.getUTCDate()),e=0;3>e&&null==t._a[e];++e)t._a[e]=s[e]=i[e];for(;7>e;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[Ot]&&0===t._a[Ft]&&0===t._a[Lt]&&0===t._a[$t]&&(t._nextDay=!0,t._a[Ot]=0),t._d=(t._useUTC?lt:ot).apply(null,s),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Ot]=24)}}function X(t){var e;t._d||(e=M(t._i),t._a=[e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],G(t))}function Q(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function J(t){if(t._f===Ct.ISO_8601)return void it(t);t._a=[],t._pf.empty=!0;var e,n,a,r,s,o=""+t._i,l=o.length,c=0;for(a=V(t._f,t._locale).match(zt)||[],e=0;e<a.length;e++)r=a[e],n=(o.match(H(r,t))||[])[0],n&&(s=o.substr(0,o.indexOf(n)),s.length>0&&t._pf.unusedInput.push(s),o=o.slice(o.indexOf(n)+n.length),c+=n.length),_e[r]?(n?t._pf.empty=!1:t._pf.unusedTokens.push(r),K(r,n,t)):t._strict&&!n&&t._pf.unusedTokens.push(r);t._pf.charsLeftOver=l-c,o.length>0&&t._pf.unusedInput.push(o),t._pf.bigHour===!0&&t._a[Ot]<=12&&(t._pf.bigHour=i),t._a[Ot]=h(t._locale,t._a[Ot],t._meridiem),G(t),L(t)}function tt(t){return t.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,a){return e||n||i||a})}function et(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function nt(t){var e,n,i,a,r;if(0===t._f.length)return t._pf.invalidFormat=!0,void(t._d=new Date(NaN));for(a=0;a<t._f.length;a++)r=0,e=y({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._pf=s(),e._f=t._f[a],J(e),$(e)&&(r+=e._pf.charsLeftOver,r+=10*e._pf.unusedTokens.length,e._pf.score=r,(null==i||i>r)&&(i=r,n=e));v(t,n||e)}function it(t){var e,n,i=t._i,a=le.exec(i);if(a){for(t._pf.iso=!0,e=0,n=ue.length;n>e;e++)if(ue[e][1].exec(i)){t._f=ue[e][0]+(a[6]||" ");break}for(e=0,n=de.length;n>e;e++)if(de[e][1].exec(i)){t._f+=de[e][0];break}i.match(Qt)&&(t._f+="Z"),J(t)}else t._isValid=!1}function at(t){it(t),t._isValid===!1&&(delete t._isValid,Ct.createFromInputFallback(t))}function rt(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function st(t){var e,n=t._i;n===i?t._d=new Date:A(n)?t._d=new Date(+n):null!==(e=Rt.exec(n))?t._d=new Date(+e[1]):"string"==typeof n?at(t):D(n)?(t._a=rt(n.slice(0),function(t){return parseInt(t,10)}),G(t)):"object"==typeof n?X(t):"number"==typeof n?t._d=new Date(n):Ct.createFromInputFallback(t)}function ot(t,e,n,i,a,r,s){var o=new Date(t,e,n,i,a,r,s);return 1970>t&&o.setFullYear(t),o}function lt(t){var e=new Date(Date.UTC.apply(null,arguments));return 1970>t&&e.setUTCFullYear(t),e}function ct(t,e){if("string"==typeof t)if(isNaN(t)){if(t=e.weekdaysParse(t),"number"!=typeof t)return null}else t=parseInt(t,10);return t}function ut(t,e,n,i,a){return a.relativeTime(e||1,!!n,t,i)}function dt(t,e,n){var i=Ct.duration(t).abs(),a=Mt(i.as("s")),r=Mt(i.as("m")),s=Mt(i.as("h")),o=Mt(i.as("d")),l=Mt(i.as("M")),c=Mt(i.as("y")),u=a<ve.s&&["s",a]||1===r&&["m"]||r<ve.m&&["mm",r]||1===s&&["h"]||s<ve.h&&["hh",s]||1===o&&["d"]||o<ve.d&&["dd",o]||1===l&&["M"]||l<ve.M&&["MM",l]||1===c&&["y"]||["yy",c];return u[2]=e,u[3]=+t>0,u[4]=n,ut.apply({},u)}function pt(t,e,n){var i,a=n-e,r=n-t.day();return r>a&&(r-=7),a-7>r&&(r+=7),i=Ct(t).add(r,"d"),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function ht(t,e,n,i,a){var r,s,o=lt(t,0,1).getUTCDay();return o=0===o?7:o,n=null!=n?n:a,r=a-o+(o>i?7:0)-(a>o?7:0),s=7*(e-1)+(n-a)+r+1,{year:s>0?t:t-1,dayOfYear:s>0?s:O(t-1)+s}}function ft(t){var e,n=t._i,a=t._f;return t._locale=t._locale||Ct.localeData(t._l),null===n||a===i&&""===n?Ct.invalid({nullInput:!0}):("string"==typeof n&&(t._i=n=t._locale.preparse(n)),Ct.isMoment(n)?new g(n,!0):(a?D(a)?nt(t):J(t):st(t),e=new g(t),e._nextDay&&(e.add(1,"d"),e._nextDay=i),e))}function gt(t,e){var n,i;if(1===e.length&&D(e[0])&&(e=e[0]),!e.length)return Ct();for(n=e[0],i=1;i<e.length;++i)e[i][t](n)&&(n=e[i]);return n}function mt(t,e){var n;return"string"==typeof e&&(e=t.localeData().monthsParse(e),"number"!=typeof e)?t:(n=Math.min(t.date(),j(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t)}function vt(t,e){return t._d["get"+(t._isUTC?"UTC":"")+e]()}function yt(t,e,n){return"Month"===e?mt(t,n):t._d["set"+(t._isUTC?"UTC":"")+e](n)}function bt(t,e){return function(n){return null!=n?(yt(this,t,n),Ct.updateOffset(this,e),this):vt(this,t)}}function _t(t){return 400*t/146097}function wt(t){return 146097*t/400}function kt(t){Ct.duration.fn[t]=function(){return this._data[t]}}function xt(t){"undefined"==typeof ender&&(Dt=Tt.moment,t?Tt.moment=l("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",Ct):Tt.moment=Ct)}for(var Ct,Dt,At,St="2.9.0",Tt="undefined"==typeof n||"undefined"!=typeof window&&window!==n.window?this:n,Mt=Math.round,It=Object.prototype.hasOwnProperty,Et=0,jt=1,Pt=2,Ot=3,Ft=4,Lt=5,$t=6,qt={},Nt=[],Bt="undefined"!=typeof e&&e&&e.exports,Rt=/^\/?Date\((\-?\d+)/i,Yt=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Ut=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,zt=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Vt=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ht=/\d\d?/,Wt=/\d{1,3}/,Kt=/\d{1,4}/,Zt=/[+\-]?\d{1,6}/,Gt=/\d+/,Xt=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Qt=/Z|[\+\-]\d\d:?\d\d/gi,Jt=/T/i,te=/[\+\-]?\d+/,ee=/[\+\-]?\d+(\.\d{1,3})?/,ne=/\d/,ie=/\d\d/,ae=/\d{3}/,re=/\d{4}/,se=/[+-]?\d{6}/,oe=/[+-]?\d+/,le=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ce="YYYY-MM-DDTHH:mm:ssZ",ue=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],de=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],pe=/([\+\-]|\d\d)/gi,he=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),fe={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},ge={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},me={},ve={s:45,m:45,h:22,d:26,M:11},ye="DDD w W M D d".split(" "),be="M D H h m s w W".split(" "),_e={M:function(){return this.month()+1},MMM:function(t){return this.localeData().monthsShort(this,t)},MMMM:function(t){return this.localeData().months(this,t)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(t){return this.localeData().weekdaysMin(this,t)},ddd:function(t){return this.localeData().weekdaysShort(this,t)},dddd:function(t){return this.localeData().weekdays(this,t)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return _(this.year()%100,2)},YYYY:function(){return _(this.year(),4)},YYYYY:function(){return _(this.year(),5)},YYYYYY:function(){var t=this.year(),e=t>=0?"+":"-";return e+_(Math.abs(t),6)},gg:function(){return _(this.weekYear()%100,2)},gggg:function(){return _(this.weekYear(),4)},ggggg:function(){return _(this.weekYear(),5)},GG:function(){return _(this.isoWeekYear()%100,2)},GGGG:function(){return _(this.isoWeekYear(),4)},GGGGG:function(){return _(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return E(this.milliseconds()/100)},SS:function(){return _(E(this.milliseconds()/10),2)},SSS:function(){return _(this.milliseconds(),3)},SSSS:function(){return _(this.milliseconds(),3)},Z:function(){var t=this.utcOffset(),e="+";return 0>t&&(t=-t,e="-"),e+_(E(t/60),2)+":"+_(E(t)%60,2)},ZZ:function(){var t=this.utcOffset(),e="+";return 0>t&&(t=-t,e="-"),e+_(E(t/60),2)+_(E(t)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){
return this.unix()},Q:function(){return this.quarter()}},we={},ke=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"],xe=!1;ye.length;)At=ye.pop(),_e[At+"o"]=d(_e[At],At);for(;be.length;)At=be.pop(),_e[At+At]=u(_e[At],2);_e.DDDD=u(_e.DDD,3),v(f.prototype,{set:function(t){var e,n;for(n in t)e=t[n],"function"==typeof e?this[n]=e:this["_"+n]=e;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(t){return this._months[t.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(t){return this._monthsShort[t.month()]},monthsParse:function(t,e,n){var i,a,r;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(a=Ct.utc([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(r="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[i]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(t){return this._weekdays[t.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(t){return this._weekdaysShort[t.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(t){return this._weekdaysMin[t.day()]},weekdaysParse:function(t){var e,n,i;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;7>e;e++)if(this._weekdaysParse[e]||(n=Ct([2e3,1]).day(e),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[e]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e},isPM:function(t){return"p"===(t+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(t,e,n){var i=this._calendar[t];return"function"==typeof i?i.apply(e,[n]):i},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(t,e,n,i){var a=this._relativeTime[n];return"function"==typeof a?a(t,e,n,i):a.replace(/%d/i,t)},pastFuture:function(t,e){var n=this._relativeTime[t>0?"future":"past"];return"function"==typeof n?n(e):n.replace(/%s/i,e)},ordinal:function(t){return this._ordinal.replace("%d",t)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(t){return t},postformat:function(t){return t},week:function(t){return pt(t,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},firstDayOfWeek:function(){return this._week.dow},firstDayOfYear:function(){return this._week.doy},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),Ct=function(t,e,n,a){var r;return"boolean"==typeof n&&(a=n,n=i),r={},r._isAMomentObject=!0,r._i=t,r._f=e,r._l=n,r._strict=a,r._isUTC=!1,r._pf=s(),ft(r)},Ct.suppressDeprecationWarnings=!1,Ct.createFromInputFallback=l("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),Ct.min=function(){var t=[].slice.call(arguments,0);return gt("isBefore",t)},Ct.max=function(){var t=[].slice.call(arguments,0);return gt("isAfter",t)},Ct.utc=function(t,e,n,a){var r;return"boolean"==typeof n&&(a=n,n=i),r={},r._isAMomentObject=!0,r._useUTC=!0,r._isUTC=!0,r._l=n,r._i=t,r._f=e,r._strict=a,r._pf=s(),ft(r).utc()},Ct.unix=function(t){return Ct(1e3*t)},Ct.duration=function(t,e){var n,i,a,s,o=t,l=null;return Ct.isDuration(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(o={},e?o[e]=t:o.milliseconds=t):(l=Yt.exec(t))?(n="-"===l[1]?-1:1,o={y:0,d:E(l[Pt])*n,h:E(l[Ot])*n,m:E(l[Ft])*n,s:E(l[Lt])*n,ms:E(l[$t])*n}):(l=Ut.exec(t))?(n="-"===l[1]?-1:1,a=function(t){var e=t&&parseFloat(t.replace(",","."));return(isNaN(e)?0:e)*n},o={y:a(l[2]),M:a(l[3]),d:a(l[4]),h:a(l[5]),m:a(l[6]),s:a(l[7]),w:a(l[8])}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(s=k(Ct(o.from),Ct(o.to)),o={},o.ms=s.milliseconds,o.M=s.months),i=new m(o),Ct.isDuration(t)&&r(t,"_locale")&&(i._locale=t._locale),i},Ct.version=St,Ct.defaultFormat=ce,Ct.ISO_8601=function(){},Ct.momentProperties=Nt,Ct.updateOffset=function(){},Ct.relativeTimeThreshold=function(t,e){return ve[t]===i?!1:e===i?ve[t]:(ve[t]=e,!0)},Ct.lang=l("moment.lang is deprecated. Use moment.locale instead.",function(t,e){return Ct.locale(t,e)}),Ct.locale=function(t,e){var n;return t&&(n="undefined"!=typeof e?Ct.defineLocale(t,e):Ct.localeData(t),n&&(Ct.duration._locale=Ct._locale=n)),Ct._locale._abbr},Ct.defineLocale=function(t,e){return null!==e?(e.abbr=t,qt[t]||(qt[t]=new f),qt[t].set(e),Ct.locale(t),qt[t]):(delete qt[t],null)},Ct.langData=l("moment.langData is deprecated. Use moment.localeData instead.",function(t){return Ct.localeData(t)}),Ct.localeData=function(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Ct._locale;if(!D(t)){if(e=B(t))return e;t=[t]}return N(t)},Ct.isMoment=function(t){return t instanceof g||null!=t&&r(t,"_isAMomentObject")},Ct.isDuration=function(t){return t instanceof m};for(At=ke.length-1;At>=0;--At)I(ke[At]);Ct.normalizeUnits=function(t){return T(t)},Ct.invalid=function(t){var e=Ct.utc(NaN);return null!=t?v(e._pf,t):e._pf.userInvalidated=!0,e},Ct.parseZone=function(){return Ct.apply(null,arguments).parseZone()},Ct.parseTwoDigitYear=function(t){return E(t)+(E(t)>68?1900:2e3)},Ct.isDate=A,v(Ct.fn=g.prototype,{clone:function(){return Ct(this)},valueOf:function(){return+this._d-6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var t=Ct(this).utc();return 0<t.year()&&t.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():z(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):z(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds()]},isValid:function(){return $(this)},isDSTShifted:function(){return this._a?this.isValid()&&S(this._a,(this._isUTC?Ct.utc(this._a):Ct(this._a)).toArray())>0:!1},parsingFlags:function(){return v({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(t){return this.utcOffset(0,t)},local:function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(this._dateUtcOffset(),"m")),this},format:function(t){var e=z(this,t||Ct.defaultFormat);return this.localeData().postformat(e)},add:x(1,"add"),subtract:x(-1,"subtract"),diff:function(t,e,n){var i,a,r=R(t,this),s=6e4*(r.utcOffset()-this.utcOffset());return e=T(e),"year"===e||"month"===e||"quarter"===e?(a=p(this,r),"quarter"===e?a/=3:"year"===e&&(a/=12)):(i=this-r,a="second"===e?i/1e3:"minute"===e?i/6e4:"hour"===e?i/36e5:"day"===e?(i-s)/864e5:"week"===e?(i-s)/6048e5:i),n?a:b(a)},from:function(t,e){return Ct.duration({to:this,from:t}).locale(this.locale()).humanize(!e)},fromNow:function(t){return this.from(Ct(),t)},calendar:function(t){var e=t||Ct(),n=R(e,this).startOf("day"),i=this.diff(n,"days",!0),a=-6>i?"sameElse":-1>i?"lastWeek":0>i?"lastDay":1>i?"sameDay":2>i?"nextDay":7>i?"nextWeek":"sameElse";return this.format(this.localeData().calendar(a,this,Ct(e)))},isLeapYear:function(){return F(this.year())},isDST:function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=ct(t,this.localeData()),this.add(t-e,"d")):e},month:bt("Month",!0),startOf:function(t){switch(t=T(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t?this.weekday(0):"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(t){return t=T(t),t===i||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")},isAfter:function(t,e){var n;return e=T("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=Ct.isMoment(t)?t:Ct(t),+this>+t):(n=Ct.isMoment(t)?+t:+Ct(t),n<+this.clone().startOf(e))},isBefore:function(t,e){var n;return e=T("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=Ct.isMoment(t)?t:Ct(t),+t>+this):(n=Ct.isMoment(t)?+t:+Ct(t),+this.clone().endOf(e)<n)},isBetween:function(t,e,n){return this.isAfter(t,n)&&this.isBefore(e,n)},isSame:function(t,e){var n;return e=T(e||"millisecond"),"millisecond"===e?(t=Ct.isMoment(t)?t:Ct(t),+this===+t):(n=+Ct(t),+this.clone().startOf(e)<=n&&n<=+this.clone().endOf(e))},min:l("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(t){return t=Ct.apply(null,arguments),this>t?this:t}),max:l("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(t){return t=Ct.apply(null,arguments),t>this?this:t}),zone:l("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}),utcOffset:function(t,e){var n,i=this._offset||0;return null!=t?("string"==typeof t&&(t=W(t)),Math.abs(t)<16&&(t=60*t),!this._isUTC&&e&&(n=this._dateUtcOffset()),this._offset=t,this._isUTC=!0,null!=n&&this.add(n,"m"),i!==t&&(!e||this._changeInProgress?C(this,Ct.duration(t-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,Ct.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?i:this._dateUtcOffset()},isLocal:function(){return!this._isUTC},isUtcOffset:function(){return this._isUTC},isUtc:function(){return this._isUTC&&0===this._offset},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(W(this._i)),this},hasAlignedHourOffset:function(t){return t=t?Ct(t).utcOffset():0,(this.utcOffset()-t)%60===0},daysInMonth:function(){return j(this.year(),this.month())},dayOfYear:function(t){var e=Mt((Ct(this).startOf("day")-Ct(this).startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},quarter:function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},weekYear:function(t){var e=pt(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==t?e:this.add(t-e,"y")},isoWeekYear:function(t){var e=pt(this,1,4).year;return null==t?e:this.add(t-e,"y")},week:function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},isoWeek:function(t){var e=pt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},weekday:function(t){var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},isoWeekday:function(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)},isoWeeksInYear:function(){return P(this.year(),1,4)},weeksInYear:function(){var t=this.localeData()._week;return P(this.year(),t.dow,t.doy)},get:function(t){return t=T(t),this[t]()},set:function(t,e){var n;if("object"==typeof t)for(n in t)this.set(n,t[n]);else t=T(t),"function"==typeof this[t]&&this[t](e);return this},locale:function(t){var e;return t===i?this._locale._abbr:(e=Ct.localeData(t),null!=e&&(this._locale=e),this)},lang:l("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===i?this.localeData():this.locale(t)}),localeData:function(){return this._locale},_dateUtcOffset:function(){return 15*-Math.round(this._d.getTimezoneOffset()/15)}}),Ct.fn.millisecond=Ct.fn.milliseconds=bt("Milliseconds",!1),Ct.fn.second=Ct.fn.seconds=bt("Seconds",!1),Ct.fn.minute=Ct.fn.minutes=bt("Minutes",!1),Ct.fn.hour=Ct.fn.hours=bt("Hours",!0),Ct.fn.date=bt("Date",!0),Ct.fn.dates=l("dates accessor is deprecated. Use date instead.",bt("Date",!0)),Ct.fn.year=bt("FullYear",!0),Ct.fn.years=l("years accessor is deprecated. Use year instead.",bt("FullYear",!0)),Ct.fn.days=Ct.fn.day,Ct.fn.months=Ct.fn.month,Ct.fn.weeks=Ct.fn.week,Ct.fn.isoWeeks=Ct.fn.isoWeek,Ct.fn.quarters=Ct.fn.quarter,Ct.fn.toJSON=Ct.fn.toISOString,Ct.fn.isUTC=Ct.fn.isUtc,v(Ct.duration.fn=m.prototype,{_bubble:function(){var t,e,n,i=this._milliseconds,a=this._days,r=this._months,s=this._data,o=0;s.milliseconds=i%1e3,t=b(i/1e3),s.seconds=t%60,e=b(t/60),s.minutes=e%60,n=b(e/60),s.hours=n%24,a+=b(n/24),o=b(_t(a)),a-=b(wt(o)),r+=b(a/30),a%=30,o+=b(r/12),r%=12,s.days=a,s.months=r,s.years=o},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return b(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*E(this._months/12)},humanize:function(t){var e=dt(this,!t,this.localeData());return t&&(e=this.localeData().pastFuture(+this,e)),this.localeData().postformat(e)},add:function(t,e){var n=Ct.duration(t,e);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(t,e){var n=Ct.duration(t,e);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(t){return t=T(t),this[t.toLowerCase()+"s"]()},as:function(t){var e,n;if(t=T(t),"month"===t||"year"===t)return e=this._days+this._milliseconds/864e5,n=this._months+12*_t(e),"month"===t?n:n/12;switch(e=this._days+Math.round(wt(this._months/12)),t){case"week":return e/7+this._milliseconds/6048e5;case"day":return e+this._milliseconds/864e5;case"hour":return 24*e+this._milliseconds/36e5;case"minute":return 24*e*60+this._milliseconds/6e4;case"second":return 24*e*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*e*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+t)}},lang:Ct.fn.lang,locale:Ct.fn.locale,toIsoString:l("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var t=Math.abs(this.years()),e=Math.abs(this.months()),n=Math.abs(this.days()),i=Math.abs(this.hours()),a=Math.abs(this.minutes()),r=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(t?t+"Y":"")+(e?e+"M":"")+(n?n+"D":"")+(i||a||r?"T":"")+(i?i+"H":"")+(a?a+"M":"")+(r?r+"S":""):"P0D"},localeData:function(){return this._locale},toJSON:function(){return this.toISOString()}}),Ct.duration.fn.toString=Ct.duration.fn.toISOString;for(At in he)r(he,At)&&kt(At.toLowerCase());Ct.duration.fn.asMilliseconds=function(){return this.as("ms")},Ct.duration.fn.asSeconds=function(){return this.as("s")},Ct.duration.fn.asMinutes=function(){return this.as("m")},Ct.duration.fn.asHours=function(){return this.as("h")},Ct.duration.fn.asDays=function(){return this.as("d")},Ct.duration.fn.asWeeks=function(){return this.as("weeks")},Ct.duration.fn.asMonths=function(){return this.as("M")},Ct.duration.fn.asYears=function(){return this.as("y")},Ct.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=1===E(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),Bt?e.exports=Ct:"function"==typeof define&&define.amd?(define(function(t,e,n){return n.config&&n.config()&&n.config().noGlobal===!0&&(Tt.moment=Dt),Ct}),xt(!0)):xt()}).call(this)}).call(this,"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],169:[function(t,e,n){function i(t,e){if(isNaN(t)||t.length!=e)return!1;for(var n=0,i=0,a=e-1;a>=0;a--){var r=(t.charCodeAt(a)-48)*(n+1);i+=r>9?r-9:r,n=1-n}return i%10==0?!0:!1}var a=function(t){return i(t,14)},r=function(t){return i(t,9)};e.exports=a,e.exports.isSIRET=a,e.exports.isSIREN=r},{}],170:[function(t,e,n){e.exports={Bloodhound:t("typeahead.js/dist/bloodhound.js"),loadjQueryPlugin:function(){t("typeahead.js")}}},{"typeahead.js":172,"typeahead.js/dist/bloodhound.js":171}],171:[function(t,e,n){!function(i,a){"function"==typeof define&&define.amd?define("bloodhound",["jquery"],function(t){return i.Bloodhound=a(t)}):"object"==typeof n?e.exports=a(t("jquery")):i.Bloodhound=a(jQuery)}(this,function(t){var e=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return"undefined"==typeof t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(e){return e instanceof t},toStr:function(t){return e.isUndefined(t)||null===t?"":t+""},bind:t.proxy,each:function(e,n){function i(t,e){return n(e,t)}t.each(e,i)},map:t.map,filter:t.grep,every:function(e,n){var i=!0;return e?(t.each(e,function(t,a){return(i=n.call(null,a,t,e))?void 0:!1}),!!i):i},some:function(e,n){var i=!1;return e?(t.each(e,function(t,a){return(i=n.call(null,a,t,e))?!1:void 0}),!!i):i},mixin:t.extend,identity:function(t){return t},clone:function(e){return t.extend(!0,{},e)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function(e){function n(){return String(e)}return t.isFunction(e)?e:n},defer:function(t){setTimeout(t,0)},debounce:function(t,e,n){var i,a;return function(){var r,s,o=this,l=arguments;return r=function(){i=null,n||(a=t.apply(o,l))},s=n&&!i,clearTimeout(i),i=setTimeout(r,e),s&&(a=t.apply(o,l)),a}},throttle:function(t,e){var n,i,a,r,s,o;return s=0,o=function(){s=new Date,a=null,r=t.apply(n,i)},function(){var l=new Date,c=e-(l-s);return n=this,i=arguments,0>=c?(clearTimeout(a),a=null,s=l,r=t.apply(n,i)):a||(a=setTimeout(o,c)),r}},stringify:function(t){return e.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),n="0.11.1",i=function(){"use strict";function t(t){return t=e.toStr(t),t?t.split(/\s+/):[]}function n(t){return t=e.toStr(t),t?t.split(/\W+/):[]}function i(t){return function(n){return n=e.isArray(n)?n:[].slice.call(arguments,0),function(i){var a=[];return e.each(n,function(n){a=a.concat(t(e.toStr(i[n])))}),a}}}return{nonword:n,whitespace:t,obj:{nonword:i(n),whitespace:i(t)}}}(),a=function(){"use strict";function n(n){this.maxSize=e.isNumber(n)?n:100,this.reset(),this.maxSize<=0&&(this.set=this.get=t.noop)}function i(){this.head=this.tail=null}function a(t,e){this.key=t,this.val=e,this.prev=this.next=null}return e.mixin(n.prototype,{set:function(t,e){var n,i=this.list.tail;this.size>=this.maxSize&&(this.list.remove(i),delete this.hash[i.key],this.size--),(n=this.hash[t])?(n.val=e,this.list.moveToFront(n)):(n=new a(t,e),this.list.add(n),this.hash[t]=n,this.size++)},get:function(t){var e=this.hash[t];return e?(this.list.moveToFront(e),e.val):void 0},reset:function(){this.size=0,this.hash={},this.list=new i}}),e.mixin(i.prototype,{add:function(t){this.head&&(t.next=this.head,this.head.prev=t),this.head=t,this.tail=this.tail||t},remove:function(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev},moveToFront:function(t){this.remove(t),this.add(t)}}),n}(),r=function(){"use strict";function n(t,n){this.prefix=["__",t,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+e.escapeRegExChars(this.prefix)),this.ls=n||o,!this.ls&&this._noop()}function i(){return(new Date).getTime()}function a(t){return JSON.stringify(e.isUndefined(t)?null:t)}function r(e){return t.parseJSON(e)}function s(t){var e,n,i=[],a=o.length;for(e=0;a>e;e++)(n=o.key(e)).match(t)&&i.push(n.replace(t,""));return i}var o;try{o=window.localStorage,o.setItem("~~~","!"),o.removeItem("~~~")}catch(l){o=null}return e.mixin(n.prototype,{_prefix:function(t){return this.prefix+t},_ttlKey:function(t){return this._prefix(t)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=e.noop},_safeSet:function(t,e){try{this.ls.setItem(t,e)}catch(n){"QuotaExceededError"===n.name&&(this.clear(),this._noop())}},get:function(t){return this.isExpired(t)&&this.remove(t),r(this.ls.getItem(this._prefix(t)))},set:function(t,n,r){return e.isNumber(r)?this._safeSet(this._ttlKey(t),a(i()+r)):this.ls.removeItem(this._ttlKey(t)),this._safeSet(this._prefix(t),a(n))},remove:function(t){return this.ls.removeItem(this._ttlKey(t)),this.ls.removeItem(this._prefix(t)),this},clear:function(){var t,e=s(this.keyMatcher);for(t=e.length;t--;)this.remove(e[t]);return this},isExpired:function(t){var n=r(this.ls.getItem(this._ttlKey(t)));return e.isNumber(n)&&i()>n?!0:!1}}),n}(),s=function(){"use strict";function n(t){t=t||{},this.cancelled=!1,this.lastReq=null,this._send=t.transport,this._get=t.limiter?t.limiter(this._get):this._get,this._cache=t.cache===!1?new a(0):o}var i=0,r={},s=6,o=new a(10);return n.setMaxPendingRequests=function(t){s=t},n.resetCache=function(){o.reset()},e.mixin(n.prototype,{_fingerprint:function(e){return e=e||{},e.url+e.type+t.param(e.data||{})},_get:function(t,e){function n(t){e(null,t),u._cache.set(l,t)}function a(){e(!0)}function o(){i--,delete r[l],u.onDeckRequestArgs&&(u._get.apply(u,u.onDeckRequestArgs),u.onDeckRequestArgs=null)}var l,c,u=this;l=this._fingerprint(t),this.cancelled||l!==this.lastReq||((c=r[l])?c.done(n).fail(a):s>i?(i++,r[l]=this._send(t).done(n).fail(a).always(o)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(n,i){var a,r;i=i||t.noop,n=e.isString(n)?{url:n}:n||{},r=this._fingerprint(n),this.cancelled=!1,this.lastReq=r,(a=this._cache.get(r))?i(null,a):this._get(n,i)},cancel:function(){this.cancelled=!0}}),n}(),o=window.SearchIndex=function(){"use strict";function n(n){n=n||{},n.datumTokenizer&&n.queryTokenizer||t.error("datumTokenizer and queryTokenizer are both required"),this.identify=n.identify||e.stringify,this.datumTokenizer=n.datumTokenizer,this.queryTokenizer=n.queryTokenizer,this.reset()}function i(t){return t=e.filter(t,function(t){return!!t}),t=e.map(t,function(t){return t.toLowerCase()})}function a(){var t={};return t[l]=[],t[o]={},t}function r(t){for(var e={},n=[],i=0,a=t.length;a>i;i++)e[t[i]]||(e[t[i]]=!0,n.push(t[i]));return n}function s(t,e){var n=0,i=0,a=[];t=t.sort(),e=e.sort();for(var r=t.length,s=e.length;r>n&&s>i;)t[n]<e[i]?n++:t[n]>e[i]?i++:(a.push(t[n]),n++,i++);return a}var o="c",l="i";return e.mixin(n.prototype,{bootstrap:function(t){this.datums=t.datums,this.trie=t.trie},add:function(t){var n=this;t=e.isArray(t)?t:[t],e.each(t,function(t){var r,s;n.datums[r=n.identify(t)]=t,s=i(n.datumTokenizer(t)),e.each(s,function(t){var e,i,s;for(e=n.trie,i=t.split("");s=i.shift();)e=e[o][s]||(e[o][s]=a()),e[l].push(r)})})},get:function(t){var n=this;return e.map(t,function(t){return n.datums[t]})},search:function(t){var n,a,c=this;return n=i(this.queryTokenizer(t)),e.each(n,function(t){var e,n,i,r;if(a&&0===a.length)return!1;for(e=c.trie,n=t.split("");e&&(i=n.shift());)e=e[o][i];return e&&0===n.length?(r=e[l].slice(0),void(a=a?s(a,r):r)):(a=[],!1)}),a?e.map(r(a),function(t){return c.datums[t]}):[]},all:function(){var t=[];for(var e in this.datums)t.push(this.datums[e]);return t},reset:function(){this.datums={},this.trie=a()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),n}(),l=function(){"use strict";function t(t){this.url=t.url,this.ttl=t.ttl,this.cache=t.cache,this.prepare=t.prepare,this.transform=t.transform,this.transport=t.transport,this.thumbprint=t.thumbprint,this.storage=new r(t.cacheKey)}var n;return n={data:"data",protocol:"protocol",thumbprint:"thumbprint"},e.mixin(t.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},store:function(t){this.cache&&(this.storage.set(n.data,t,this.ttl),this.storage.set(n.protocol,location.protocol,this.ttl),this.storage.set(n.thumbprint,this.thumbprint,this.ttl))},fromCache:function(){var t,e={};return this.cache?(e.data=this.storage.get(n.data),e.protocol=this.storage.get(n.protocol),e.thumbprint=this.storage.get(n.thumbprint),t=e.thumbprint!==this.thumbprint||e.protocol!==location.protocol,e.data&&!t?e.data:null):null},fromNetwork:function(t){function e(){t(!0)}function n(e){t(null,a.transform(e))}var i,a=this;t&&(i=this.prepare(this._settings()),this.transport(i).fail(e).done(n))},clear:function(){return this.storage.clear(),this}}),t}(),c=function(){"use strict";function t(t){this.url=t.url,this.prepare=t.prepare,this.transform=t.transform,this.transport=new s({cache:t.cache,limiter:t.limiter,transport:t.transport})}return e.mixin(t.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},get:function(t,e){function n(t,n){e(t?[]:a.transform(n))}var i,a=this;if(e)return t=t||"",i=this.prepare(t,this._settings()),this.transport.get(i,n)},cancelLastRequest:function(){this.transport.cancel()}}),t}(),u=function(){"use strict";function i(i){var a;return i?(a={url:null,ttl:864e5,cache:!0,cacheKey:null,thumbprint:"",prepare:e.identity,transform:e.identity,transport:null},i=e.isString(i)?{url:i}:i,i=e.mixin(a,i),!i.url&&t.error("prefetch requires url to be set"),i.transform=i.filter||i.transform,i.cacheKey=i.cacheKey||i.url,i.thumbprint=n+i.thumbprint,i.transport=i.transport?o(i.transport):t.ajax,i):null}function a(n){var i;if(n)return i={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:e.identity,transport:null},n=e.isString(n)?{url:n}:n,n=e.mixin(i,n),!n.url&&t.error("remote requires url to be set"),n.transform=n.filter||n.transform,n.prepare=r(n),n.limiter=s(n),n.transport=n.transport?o(n.transport):t.ajax,delete n.replace,delete n.wildcard,delete n.rateLimitBy,delete n.rateLimitWait,n}function r(t){function e(t,e){return e.url=r(e.url,t),e}function n(t,e){return e.url=e.url.replace(s,encodeURIComponent(t)),e}function i(t,e){return e}var a,r,s;return a=t.prepare,r=t.replace,s=t.wildcard,a?a:a=r?e:t.wildcard?n:i}function s(t){function n(t){return function(n){return e.debounce(n,t)}}function i(t){return function(n){return e.throttle(n,t)}}var a,r,s;return a=t.limiter,r=t.rateLimitBy,s=t.rateLimitWait,a||(a=/^throttle$/i.test(r)?i(s):n(s)),a}function o(n){return function(i){function a(t){e.defer(function(){s.resolve(t)})}function r(t){e.defer(function(){s.reject(t)})}var s=t.Deferred();return n(i,a,r),s}}return function(n){var r,s;return r={initialize:!0,identify:e.stringify,datumTokenizer:null,queryTokenizer:null,sufficient:5,sorter:null,local:[],prefetch:null,remote:null},n=e.mixin(r,n||{}),!n.datumTokenizer&&t.error("datumTokenizer is required"),!n.queryTokenizer&&t.error("queryTokenizer is required"),s=n.sorter,n.sorter=s?function(t){return t.sort(s)}:e.identity,n.local=e.isFunction(n.local)?n.local():n.local,n.prefetch=i(n.prefetch),n.remote=a(n.remote),n}}(),d=function(){"use strict";function n(t){t=u(t),this.sorter=t.sorter,this.identify=t.identify,this.sufficient=t.sufficient,this.local=t.local,this.remote=t.remote?new c(t.remote):null,this.prefetch=t.prefetch?new l(t.prefetch):null,this.index=new o({identify:this.identify,datumTokenizer:t.datumTokenizer,queryTokenizer:t.queryTokenizer}),t.initialize!==!1&&this.initialize()}var a;return a=window&&window.Bloodhound,n.noConflict=function(){return window&&(window.Bloodhound=a),n},n.tokenizers=i,e.mixin(n.prototype,{__ttAdapter:function(){function t(t,e,i){return n.search(t,e,i)}function e(t,e){return n.search(t,e)}var n=this;return this.remote?t:e},_loadPrefetch:function(){function e(t,e){return t?n.reject():(a.add(e),a.prefetch.store(a.index.serialize()),void n.resolve())}var n,i,a=this;return n=t.Deferred(),this.prefetch?(i=this.prefetch.fromCache())?(this.index.bootstrap(i),n.resolve()):this.prefetch.fromNetwork(e):n.resolve(),n.promise()},_initialize:function(){function t(){e.add(e.local)}var e=this;return this.clear(),(this.initPromise=this._loadPrefetch()).done(t),this.initPromise},initialize:function(t){return!this.initPromise||t?this._initialize():this.initPromise},add:function(t){return this.index.add(t),this},get:function(t){return t=e.isArray(t)?t:[].slice.call(arguments),this.index.get(t)},search:function(t,n,i){function a(t){var n=[];e.each(t,function(t){!e.some(r,function(e){return s.identify(t)===s.identify(e)})&&n.push(t)}),i&&i(n)}var r,s=this;return r=this.sorter(this.index.search(t)),n(this.remote?r.slice():r),this.remote&&r.length<this.sufficient?this.remote.get(t,a):this.remote&&this.remote.cancelLastRequest(),this},all:function(){return this.index.all()},clear:function(){return this.index.reset(),this},clearPrefetchCache:function(){return this.prefetch&&this.prefetch.clear(),this},clearRemoteCache:function(){return s.resetCache(),this},ttAdapter:function(){return this.__ttAdapter()}}),n}();return d})},{}],172:[function(t,e,n){!function(i,a){"function"==typeof define&&define.amd?define("bloodhound",["jquery"],function(t){return i.Bloodhound=a(t)}):"object"==typeof n?e.exports=a(t("jquery")):i.Bloodhound=a(jQuery)}(this,function(t){var e=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return"undefined"==typeof t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(e){return e instanceof t},toStr:function(t){return e.isUndefined(t)||null===t?"":t+""},bind:t.proxy,each:function(e,n){function i(t,e){return n(e,t)}t.each(e,i)},map:t.map,filter:t.grep,every:function(e,n){var i=!0;return e?(t.each(e,function(t,a){return(i=n.call(null,a,t,e))?void 0:!1}),!!i):i},some:function(e,n){var i=!1;return e?(t.each(e,function(t,a){return(i=n.call(null,a,t,e))?!1:void 0}),!!i):i},mixin:t.extend,identity:function(t){return t},clone:function(e){return t.extend(!0,{},e)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function(e){function n(){return String(e)}return t.isFunction(e)?e:n},defer:function(t){setTimeout(t,0)},debounce:function(t,e,n){
var i,a;return function(){var r,s,o=this,l=arguments;return r=function(){i=null,n||(a=t.apply(o,l))},s=n&&!i,clearTimeout(i),i=setTimeout(r,e),s&&(a=t.apply(o,l)),a}},throttle:function(t,e){var n,i,a,r,s,o;return s=0,o=function(){s=new Date,a=null,r=t.apply(n,i)},function(){var l=new Date,c=e-(l-s);return n=this,i=arguments,0>=c?(clearTimeout(a),a=null,s=l,r=t.apply(n,i)):a||(a=setTimeout(o,c)),r}},stringify:function(t){return e.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),n="0.11.1",i=function(){"use strict";function t(t){return t=e.toStr(t),t?t.split(/\s+/):[]}function n(t){return t=e.toStr(t),t?t.split(/\W+/):[]}function i(t){return function(n){return n=e.isArray(n)?n:[].slice.call(arguments,0),function(i){var a=[];return e.each(n,function(n){a=a.concat(t(e.toStr(i[n])))}),a}}}return{nonword:n,whitespace:t,obj:{nonword:i(n),whitespace:i(t)}}}(),a=function(){"use strict";function n(n){this.maxSize=e.isNumber(n)?n:100,this.reset(),this.maxSize<=0&&(this.set=this.get=t.noop)}function i(){this.head=this.tail=null}function a(t,e){this.key=t,this.val=e,this.prev=this.next=null}return e.mixin(n.prototype,{set:function(t,e){var n,i=this.list.tail;this.size>=this.maxSize&&(this.list.remove(i),delete this.hash[i.key],this.size--),(n=this.hash[t])?(n.val=e,this.list.moveToFront(n)):(n=new a(t,e),this.list.add(n),this.hash[t]=n,this.size++)},get:function(t){var e=this.hash[t];return e?(this.list.moveToFront(e),e.val):void 0},reset:function(){this.size=0,this.hash={},this.list=new i}}),e.mixin(i.prototype,{add:function(t){this.head&&(t.next=this.head,this.head.prev=t),this.head=t,this.tail=this.tail||t},remove:function(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev},moveToFront:function(t){this.remove(t),this.add(t)}}),n}(),r=function(){"use strict";function n(t,n){this.prefix=["__",t,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+e.escapeRegExChars(this.prefix)),this.ls=n||o,!this.ls&&this._noop()}function i(){return(new Date).getTime()}function a(t){return JSON.stringify(e.isUndefined(t)?null:t)}function r(e){return t.parseJSON(e)}function s(t){var e,n,i=[],a=o.length;for(e=0;a>e;e++)(n=o.key(e)).match(t)&&i.push(n.replace(t,""));return i}var o;try{o=window.localStorage,o.setItem("~~~","!"),o.removeItem("~~~")}catch(l){o=null}return e.mixin(n.prototype,{_prefix:function(t){return this.prefix+t},_ttlKey:function(t){return this._prefix(t)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=e.noop},_safeSet:function(t,e){try{this.ls.setItem(t,e)}catch(n){"QuotaExceededError"===n.name&&(this.clear(),this._noop())}},get:function(t){return this.isExpired(t)&&this.remove(t),r(this.ls.getItem(this._prefix(t)))},set:function(t,n,r){return e.isNumber(r)?this._safeSet(this._ttlKey(t),a(i()+r)):this.ls.removeItem(this._ttlKey(t)),this._safeSet(this._prefix(t),a(n))},remove:function(t){return this.ls.removeItem(this._ttlKey(t)),this.ls.removeItem(this._prefix(t)),this},clear:function(){var t,e=s(this.keyMatcher);for(t=e.length;t--;)this.remove(e[t]);return this},isExpired:function(t){var n=r(this.ls.getItem(this._ttlKey(t)));return e.isNumber(n)&&i()>n?!0:!1}}),n}(),s=function(){"use strict";function n(t){t=t||{},this.cancelled=!1,this.lastReq=null,this._send=t.transport,this._get=t.limiter?t.limiter(this._get):this._get,this._cache=t.cache===!1?new a(0):o}var i=0,r={},s=6,o=new a(10);return n.setMaxPendingRequests=function(t){s=t},n.resetCache=function(){o.reset()},e.mixin(n.prototype,{_fingerprint:function(e){return e=e||{},e.url+e.type+t.param(e.data||{})},_get:function(t,e){function n(t){e(null,t),u._cache.set(l,t)}function a(){e(!0)}function o(){i--,delete r[l],u.onDeckRequestArgs&&(u._get.apply(u,u.onDeckRequestArgs),u.onDeckRequestArgs=null)}var l,c,u=this;l=this._fingerprint(t),this.cancelled||l!==this.lastReq||((c=r[l])?c.done(n).fail(a):s>i?(i++,r[l]=this._send(t).done(n).fail(a).always(o)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(n,i){var a,r;i=i||t.noop,n=e.isString(n)?{url:n}:n||{},r=this._fingerprint(n),this.cancelled=!1,this.lastReq=r,(a=this._cache.get(r))?i(null,a):this._get(n,i)},cancel:function(){this.cancelled=!0}}),n}(),o=window.SearchIndex=function(){"use strict";function n(n){n=n||{},n.datumTokenizer&&n.queryTokenizer||t.error("datumTokenizer and queryTokenizer are both required"),this.identify=n.identify||e.stringify,this.datumTokenizer=n.datumTokenizer,this.queryTokenizer=n.queryTokenizer,this.reset()}function i(t){return t=e.filter(t,function(t){return!!t}),t=e.map(t,function(t){return t.toLowerCase()})}function a(){var t={};return t[l]=[],t[o]={},t}function r(t){for(var e={},n=[],i=0,a=t.length;a>i;i++)e[t[i]]||(e[t[i]]=!0,n.push(t[i]));return n}function s(t,e){var n=0,i=0,a=[];t=t.sort(),e=e.sort();for(var r=t.length,s=e.length;r>n&&s>i;)t[n]<e[i]?n++:t[n]>e[i]?i++:(a.push(t[n]),n++,i++);return a}var o="c",l="i";return e.mixin(n.prototype,{bootstrap:function(t){this.datums=t.datums,this.trie=t.trie},add:function(t){var n=this;t=e.isArray(t)?t:[t],e.each(t,function(t){var r,s;n.datums[r=n.identify(t)]=t,s=i(n.datumTokenizer(t)),e.each(s,function(t){var e,i,s;for(e=n.trie,i=t.split("");s=i.shift();)e=e[o][s]||(e[o][s]=a()),e[l].push(r)})})},get:function(t){var n=this;return e.map(t,function(t){return n.datums[t]})},search:function(t){var n,a,c=this;return n=i(this.queryTokenizer(t)),e.each(n,function(t){var e,n,i,r;if(a&&0===a.length)return!1;for(e=c.trie,n=t.split("");e&&(i=n.shift());)e=e[o][i];return e&&0===n.length?(r=e[l].slice(0),void(a=a?s(a,r):r)):(a=[],!1)}),a?e.map(r(a),function(t){return c.datums[t]}):[]},all:function(){var t=[];for(var e in this.datums)t.push(this.datums[e]);return t},reset:function(){this.datums={},this.trie=a()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),n}(),l=function(){"use strict";function t(t){this.url=t.url,this.ttl=t.ttl,this.cache=t.cache,this.prepare=t.prepare,this.transform=t.transform,this.transport=t.transport,this.thumbprint=t.thumbprint,this.storage=new r(t.cacheKey)}var n;return n={data:"data",protocol:"protocol",thumbprint:"thumbprint"},e.mixin(t.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},store:function(t){this.cache&&(this.storage.set(n.data,t,this.ttl),this.storage.set(n.protocol,location.protocol,this.ttl),this.storage.set(n.thumbprint,this.thumbprint,this.ttl))},fromCache:function(){var t,e={};return this.cache?(e.data=this.storage.get(n.data),e.protocol=this.storage.get(n.protocol),e.thumbprint=this.storage.get(n.thumbprint),t=e.thumbprint!==this.thumbprint||e.protocol!==location.protocol,e.data&&!t?e.data:null):null},fromNetwork:function(t){function e(){t(!0)}function n(e){t(null,a.transform(e))}var i,a=this;t&&(i=this.prepare(this._settings()),this.transport(i).fail(e).done(n))},clear:function(){return this.storage.clear(),this}}),t}(),c=function(){"use strict";function t(t){this.url=t.url,this.prepare=t.prepare,this.transform=t.transform,this.transport=new s({cache:t.cache,limiter:t.limiter,transport:t.transport})}return e.mixin(t.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},get:function(t,e){function n(t,n){e(t?[]:a.transform(n))}var i,a=this;if(e)return t=t||"",i=this.prepare(t,this._settings()),this.transport.get(i,n)},cancelLastRequest:function(){this.transport.cancel()}}),t}(),u=function(){"use strict";function i(i){var a;return i?(a={url:null,ttl:864e5,cache:!0,cacheKey:null,thumbprint:"",prepare:e.identity,transform:e.identity,transport:null},i=e.isString(i)?{url:i}:i,i=e.mixin(a,i),!i.url&&t.error("prefetch requires url to be set"),i.transform=i.filter||i.transform,i.cacheKey=i.cacheKey||i.url,i.thumbprint=n+i.thumbprint,i.transport=i.transport?o(i.transport):t.ajax,i):null}function a(n){var i;if(n)return i={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:e.identity,transport:null},n=e.isString(n)?{url:n}:n,n=e.mixin(i,n),!n.url&&t.error("remote requires url to be set"),n.transform=n.filter||n.transform,n.prepare=r(n),n.limiter=s(n),n.transport=n.transport?o(n.transport):t.ajax,delete n.replace,delete n.wildcard,delete n.rateLimitBy,delete n.rateLimitWait,n}function r(t){function e(t,e){return e.url=r(e.url,t),e}function n(t,e){return e.url=e.url.replace(s,encodeURIComponent(t)),e}function i(t,e){return e}var a,r,s;return a=t.prepare,r=t.replace,s=t.wildcard,a?a:a=r?e:t.wildcard?n:i}function s(t){function n(t){return function(n){return e.debounce(n,t)}}function i(t){return function(n){return e.throttle(n,t)}}var a,r,s;return a=t.limiter,r=t.rateLimitBy,s=t.rateLimitWait,a||(a=/^throttle$/i.test(r)?i(s):n(s)),a}function o(n){return function(i){function a(t){e.defer(function(){s.resolve(t)})}function r(t){e.defer(function(){s.reject(t)})}var s=t.Deferred();return n(i,a,r),s}}return function(n){var r,s;return r={initialize:!0,identify:e.stringify,datumTokenizer:null,queryTokenizer:null,sufficient:5,sorter:null,local:[],prefetch:null,remote:null},n=e.mixin(r,n||{}),!n.datumTokenizer&&t.error("datumTokenizer is required"),!n.queryTokenizer&&t.error("queryTokenizer is required"),s=n.sorter,n.sorter=s?function(t){return t.sort(s)}:e.identity,n.local=e.isFunction(n.local)?n.local():n.local,n.prefetch=i(n.prefetch),n.remote=a(n.remote),n}}(),d=function(){"use strict";function n(t){t=u(t),this.sorter=t.sorter,this.identify=t.identify,this.sufficient=t.sufficient,this.local=t.local,this.remote=t.remote?new c(t.remote):null,this.prefetch=t.prefetch?new l(t.prefetch):null,this.index=new o({identify:this.identify,datumTokenizer:t.datumTokenizer,queryTokenizer:t.queryTokenizer}),t.initialize!==!1&&this.initialize()}var a;return a=window&&window.Bloodhound,n.noConflict=function(){return window&&(window.Bloodhound=a),n},n.tokenizers=i,e.mixin(n.prototype,{__ttAdapter:function(){function t(t,e,i){return n.search(t,e,i)}function e(t,e){return n.search(t,e)}var n=this;return this.remote?t:e},_loadPrefetch:function(){function e(t,e){return t?n.reject():(a.add(e),a.prefetch.store(a.index.serialize()),void n.resolve())}var n,i,a=this;return n=t.Deferred(),this.prefetch?(i=this.prefetch.fromCache())?(this.index.bootstrap(i),n.resolve()):this.prefetch.fromNetwork(e):n.resolve(),n.promise()},_initialize:function(){function t(){e.add(e.local)}var e=this;return this.clear(),(this.initPromise=this._loadPrefetch()).done(t),this.initPromise},initialize:function(t){return!this.initPromise||t?this._initialize():this.initPromise},add:function(t){return this.index.add(t),this},get:function(t){return t=e.isArray(t)?t:[].slice.call(arguments),this.index.get(t)},search:function(t,n,i){function a(t){var n=[];e.each(t,function(t){!e.some(r,function(e){return s.identify(t)===s.identify(e)})&&n.push(t)}),i&&i(n)}var r,s=this;return r=this.sorter(this.index.search(t)),n(this.remote?r.slice():r),this.remote&&r.length<this.sufficient?this.remote.get(t,a):this.remote&&this.remote.cancelLastRequest(),this},all:function(){return this.index.all()},clear:function(){return this.index.reset(),this},clearPrefetchCache:function(){return this.prefetch&&this.prefetch.clear(),this},clearRemoteCache:function(){return s.resetCache(),this},ttAdapter:function(){return this.__ttAdapter()}}),n}();return d}),function(i,a){"function"==typeof define&&define.amd?define("typeahead.js",["jquery"],function(t){return a(t)}):"object"==typeof n?e.exports=a(t("jquery")):a(jQuery)}(this,function(t){var e=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return"undefined"==typeof t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(e){return e instanceof t},toStr:function(t){return e.isUndefined(t)||null===t?"":t+""},bind:t.proxy,each:function(e,n){function i(t,e){return n(e,t)}t.each(e,i)},map:t.map,filter:t.grep,every:function(e,n){var i=!0;return e?(t.each(e,function(t,a){return(i=n.call(null,a,t,e))?void 0:!1}),!!i):i},some:function(e,n){var i=!1;return e?(t.each(e,function(t,a){return(i=n.call(null,a,t,e))?!1:void 0}),!!i):i},mixin:t.extend,identity:function(t){return t},clone:function(e){return t.extend(!0,{},e)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function(e){function n(){return String(e)}return t.isFunction(e)?e:n},defer:function(t){setTimeout(t,0)},debounce:function(t,e,n){var i,a;return function(){var r,s,o=this,l=arguments;return r=function(){i=null,n||(a=t.apply(o,l))},s=n&&!i,clearTimeout(i),i=setTimeout(r,e),s&&(a=t.apply(o,l)),a}},throttle:function(t,e){var n,i,a,r,s,o;return s=0,o=function(){s=new Date,a=null,r=t.apply(n,i)},function(){var l=new Date,c=e-(l-s);return n=this,i=arguments,0>=c?(clearTimeout(a),a=null,s=l,r=t.apply(n,i)):a||(a=setTimeout(o,c)),r}},stringify:function(t){return e.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),n=function(){"use strict";function t(t){var s,o;return o=e.mixin({},r,t),s={css:a(),classes:o,html:n(o),selectors:i(o)},{css:s.css,html:s.html,classes:s.classes,selectors:s.selectors,mixin:function(t){e.mixin(t,s)}}}function n(t){return{wrapper:'<span class="'+t.wrapper+'"></span>',menu:'<div class="'+t.menu+'"></div>'}}function i(t){var n={};return e.each(t,function(t,e){n[e]="."+t}),n}function a(){var t={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return e.isMsie()&&e.mixin(t.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),t}var r={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return t}(),i=function(){"use strict";function n(e){e&&e.el||t.error("EventBus initialized without el"),this.$el=t(e.el)}var i,a;return i="typeahead:",a={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},e.mixin(n.prototype,{_trigger:function(e,n){var a;return a=t.Event(i+e),(n=n||[]).unshift(a),this.$el.trigger.apply(this.$el,n),a},before:function(t){var e,n;return e=[].slice.call(arguments,1),n=this._trigger("before"+t,e),n.isDefaultPrevented()},trigger:function(t){var e;this._trigger(t,[].slice.call(arguments,1)),(e=a[t])&&this._trigger(e,[].slice.call(arguments,1))}}),n}(),a=function(){"use strict";function t(t,e,n,i){var a;if(!n)return this;for(e=e.split(l),n=i?o(n,i):n,this._callbacks=this._callbacks||{};a=e.shift();)this._callbacks[a]=this._callbacks[a]||{sync:[],async:[]},this._callbacks[a][t].push(n);return this}function e(e,n,i){return t.call(this,"async",e,n,i)}function n(e,n,i){return t.call(this,"sync",e,n,i)}function i(t){var e;if(!this._callbacks)return this;for(t=t.split(l);e=t.shift();)delete this._callbacks[e];return this}function a(t){var e,n,i,a,s;if(!this._callbacks)return this;for(t=t.split(l),i=[].slice.call(arguments,1);(e=t.shift())&&(n=this._callbacks[e]);)a=r(n.sync,this,[e].concat(i)),s=r(n.async,this,[e].concat(i)),a()&&c(s);return this}function r(t,e,n){function i(){for(var i,a=0,r=t.length;!i&&r>a;a+=1)i=t[a].apply(e,n)===!1;return!i}return i}function s(){var t;return t=window.setImmediate?function(t){setImmediate(function(){t()})}:function(t){setTimeout(function(){t()},0)}}function o(t,e){return t.bind?t.bind(e):function(){t.apply(e,[].slice.call(arguments,0))}}var l=/\s+/,c=s();return{onSync:n,onAsync:e,off:i,trigger:a}}(),r=function(t){"use strict";function n(t,n,i){for(var a,r=[],s=0,o=t.length;o>s;s++)r.push(e.escapeRegExChars(t[s]));return a=i?"\\b("+r.join("|")+")\\b":"("+r.join("|")+")",n?new RegExp(a):new RegExp(a,"i")}var i={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(a){function r(e){var n,i,r;return(n=o.exec(e.data))&&(r=t.createElement(a.tagName),a.className&&(r.className=a.className),i=e.splitText(n.index),i.splitText(n[0].length),r.appendChild(i.cloneNode(!0)),e.parentNode.replaceChild(r,i)),!!n}function s(t,e){for(var n,i=3,a=0;a<t.childNodes.length;a++)n=t.childNodes[a],n.nodeType===i?a+=e(n)?1:0:s(n,e)}var o;a=e.mixin({},i,a),a.node&&a.pattern&&(a.pattern=e.isArray(a.pattern)?a.pattern:[a.pattern],o=n(a.pattern,a.caseSensitive,a.wordsOnly),s(a.node,r))}}(window.document),s=function(){"use strict";function n(n,a){n=n||{},n.input||t.error("input is missing"),a.mixin(this),this.$hint=t(n.hint),this.$input=t(n.input),this.query=this.$input.val(),this.queryWhenFocused=this.hasFocus()?this.query:null,this.$overflowHelper=i(this.$input),this._checkLanguageDirection(),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=e.noop)}function i(e){return t('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:e.css("font-family"),fontSize:e.css("font-size"),fontStyle:e.css("font-style"),fontVariant:e.css("font-variant"),fontWeight:e.css("font-weight"),wordSpacing:e.css("word-spacing"),letterSpacing:e.css("letter-spacing"),textIndent:e.css("text-indent"),textRendering:e.css("text-rendering"),textTransform:e.css("text-transform")}).insertAfter(e)}function r(t,e){return n.normalizeQuery(t)===n.normalizeQuery(e)}function s(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey}var o;return o={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},n.normalizeQuery=function(t){return e.toStr(t).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},e.mixin(n.prototype,a,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query,this.trigger("focused")},_onKeydown:function(t){var e=o[t.which||t.keyCode];this._managePreventDefault(e,t),e&&this._shouldTrigger(e,t)&&this.trigger(e+"Keyed",t)},_onInput:function(){this._setQuery(this.getInputValue()),this.clearHintIfInvalid(),this._checkLanguageDirection()},_managePreventDefault:function(t,e){var n;switch(t){case"up":case"down":n=!s(e);break;default:n=!1}n&&e.preventDefault()},_shouldTrigger:function(t,e){var n;switch(t){case"tab":n=!s(e);break;default:n=!0}return n},_checkLanguageDirection:function(){var t=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==t&&(this.dir=t,this.$hint.attr("dir",t),this.trigger("langDirChanged",t))},_setQuery:function(t,e){var n,i;n=r(t,this.query),i=n?this.query.length!==t.length:!1,this.query=t,e||n?!e&&i&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},bind:function(){var t,n,i,a,r=this;return t=e.bind(this._onBlur,this),n=e.bind(this._onFocus,this),i=e.bind(this._onKeydown,this),a=e.bind(this._onInput,this),this.$input.on("blur.tt",t).on("focus.tt",n).on("keydown.tt",i),!e.isMsie()||e.isMsie()>9?this.$input.on("input.tt",a):this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(t){o[t.which||t.keyCode]||e.defer(e.bind(r._onInput,r,t))}),this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(t,e){this.setInputValue(t),this._setQuery(t,e)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(t){this.$input.val(t),this.clearHintIfInvalid(),this._checkLanguageDirection()},resetInputValue:function(){this.setInputValue(this.query)},getHint:function(){return this.$hint.val()},setHint:function(t){this.$hint.val(t)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var t,e,n,i;t=this.getInputValue(),e=this.getHint(),n=t!==e&&0===e.indexOf(t),i=""!==t&&n&&!this.hasOverflow(),!i&&this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var t=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=t},isCursorAtEnd:function(){var t,n,i;return t=this.$input.val().length,n=this.$input[0].selectionStart,e.isNumber(n)?n===t:document.selection?(i=document.selection.createRange(),i.moveStart("character",-t),t===i.text.length):!0},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$overflowHelper.remove(),this.$hint=this.$input=this.$overflowHelper=t("<div>")}}),n}(),o=function(){"use strict";function n(n,a){n=n||{},n.templates=n.templates||{},n.templates.notFound=n.templates.notFound||n.templates.empty,n.source||t.error("missing source"),n.node||t.error("missing node"),n.name&&!o(n.name)&&t.error("invalid dataset name: "+n.name),a.mixin(this),this.highlight=!!n.highlight,this.name=n.name||c(),this.limit=n.limit||5,this.displayFn=i(n.display||n.displayKey),this.templates=s(n.templates,this.displayFn),this.source=n.source.__ttAdapter?n.source.__ttAdapter():n.source,this.async=e.isUndefined(n.async)?this.source.length>2:!!n.async,this._resetLastSuggestion(),this.$el=t(n.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}function i(t){function n(e){return e[t]}return t=t||e.stringify,e.isFunction(t)?t:n}function s(n,i){function a(e){return t("<div>").text(i(e))}return{notFound:n.notFound&&e.templatify(n.notFound),pending:n.pending&&e.templatify(n.pending),header:n.header&&e.templatify(n.header),footer:n.footer&&e.templatify(n.footer),suggestion:n.suggestion||a}}function o(t){return/^[_a-zA-Z0-9-]+$/.test(t)}var l,c;return l={val:"tt-selectable-display",obj:"tt-selectable-object"},c=e.getIdGenerator(),n.extractData=function(e){var n=t(e);return n.data(l.obj)?{val:n.data(l.val)||"",obj:n.data(l.obj)||null}:null},e.mixin(n.prototype,a,{_overwrite:function(t,e){e=e||[],e.length?this._renderSuggestions(t,e):this.async&&this.templates.pending?this._renderPending(t):!this.async&&this.templates.notFound?this._renderNotFound(t):this._empty(),this.trigger("rendered",this.name,e,!1)},_append:function(t,e){e=e||[],e.length&&this.$lastSuggestion.length?this._appendSuggestions(t,e):e.length?this._renderSuggestions(t,e):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(t),this.trigger("rendered",this.name,e,!0)},_renderSuggestions:function(t,e){var n;n=this._getSuggestionsFragment(t,e),this.$lastSuggestion=n.children().last(),this.$el.html(n).prepend(this._getHeader(t,e)).append(this._getFooter(t,e))},_appendSuggestions:function(t,e){var n,i;n=this._getSuggestionsFragment(t,e),i=n.children().last(),this.$lastSuggestion.after(n),this.$lastSuggestion=i},_renderPending:function(t){var e=this.templates.pending;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_renderNotFound:function(t){var e=this.templates.notFound;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_empty:function(){this.$el.empty(),this._resetLastSuggestion()},_getSuggestionsFragment:function(n,i){var a,s=this;return a=document.createDocumentFragment(),e.each(i,function(e){var i,r;r=s._injectQuery(n,e),i=t(s.templates.suggestion(r)).data(l.obj,e).data(l.val,s.displayFn(e)).addClass(s.classes.suggestion+" "+s.classes.selectable),a.appendChild(i[0])}),this.highlight&&r({className:this.classes.highlight,node:a,pattern:n}),t(a)},_getFooter:function(t,e){return this.templates.footer?this.templates.footer({query:t,suggestions:e,dataset:this.name}):null},_getHeader:function(t,e){return this.templates.header?this.templates.header({query:t,suggestions:e,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=t()},_injectQuery:function(t,n){return e.isObject(n)?e.mixin({_query:t},n):n},update:function(e){function n(t){s||(s=!0,t=(t||[]).slice(0,a.limit),o=t.length,a._overwrite(e,t),o<a.limit&&a.async&&a.trigger("asyncRequested",e))}function i(n){n=n||[],!r&&o<a.limit&&(a.cancel=t.noop,o+=n.length,a._append(e,n.slice(0,a.limit-o)),a.async&&a.trigger("asyncReceived",e))}var a=this,r=!1,s=!1,o=0;this.cancel(),this.cancel=function(){r=!0,a.cancel=t.noop,a.async&&a.trigger("asyncCanceled",e)},this.source(e,n,i),!s&&n([])},cancel:t.noop,clear:function(){this._empty(),this.cancel(),this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=t("<div>")}}),n}(),l=function(){"use strict";function n(n,i){function a(e){var n=r.$node.find(e.node).first();return e.node=n.length?n:t("<div>").appendTo(r.$node),new o(e,i)}var r=this;n=n||{},n.node||t.error("node is required"),i.mixin(this),this.$node=t(n.node),this.query=null,this.datasets=e.map(n.datasets,a)}return e.mixin(n.prototype,a,{_onSelectableClick:function(e){this.trigger("selectableClicked",t(e.currentTarget))},_onRendered:function(t,e,n,i){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetRendered",e,n,i)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetCleared")},_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){function t(t){return t.isEmpty()}return e.every(this.datasets,t)},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:function(){var t=this.getActiveSelectable();t&&t.removeClass(this.classes.cursor)},_ensureVisible:function(t){var e,n,i,a;e=t.position().top,n=e+t.outerHeight(!0),i=this.$node.scrollTop(),a=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10),0>e?this.$node.scrollTop(i+e):n>a&&this.$node.scrollTop(i+(n-a))},bind:function(){var t,n=this;return t=e.bind(this._onSelectableClick,this),this.$node.on("click.tt",this.selectors.selectable,t),e.each(this.datasets,function(t){t.onSync("asyncRequested",n._propagate,n).onSync("asyncCanceled",n._propagate,n).onSync("asyncReceived",n._propagate,n).onSync("rendered",n._onRendered,n).onSync("cleared",n._onCleared,n)}),this},isOpen:function(){return this.$node.hasClass(this.classes.open)},open:function(){this.$node.addClass(this.classes.open)},close:function(){this.$node.removeClass(this.classes.open),this._removeCursor()},setLanguageDirection:function(t){this.$node.attr("dir",t)},selectableRelativeToCursor:function(t){var e,n,i,a;return n=this.getActiveSelectable(),e=this._getSelectables(),i=n?e.index(n):-1,a=i+t,a=(a+1)%(e.length+1)-1,a=-1>a?e.length-1:a,-1===a?null:e.eq(a)},setCursor:function(t){this._removeCursor(),(t=t&&t.first())&&(t.addClass(this.classes.cursor),this._ensureVisible(t))},getSelectableData:function(t){return t&&t.length?o.extractData(t):null},getActiveSelectable:function(){var t=this._getSelectables().filter(this.selectors.cursor).first();return t.length?t:null},getTopSelectable:function(){var t=this._getSelectables().first();return t.length?t:null},update:function(t){function n(e){e.update(t)}var i=t!==this.query;return i&&(this.query=t,e.each(this.datasets,n)),i},empty:function(){function t(t){t.clear()}e.each(this.datasets,t),this.query=null,this.$node.addClass(this.classes.empty)},destroy:function(){function n(t){t.destroy()}this.$node.off(".tt"),this.$node=t("<div>"),e.each(this.datasets,n)}}),n}(),c=function(){"use strict";function t(){l.apply(this,[].slice.call(arguments,0))}var n=l.prototype;return e.mixin(t.prototype,l.prototype,{open:function(){return!this._allDatasetsEmpty()&&this._show(),n.open.apply(this,[].slice.call(arguments,0))},close:function(){return this._hide(),n.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),n._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),n._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(t){return this.$node.css("ltr"===t?this.css.ltr:this.css.rtl),n.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}}),t}(),u=function(){"use strict";function n(n,a){var r,s,o,l,c,u,d,p,h,f,g;n=n||{},n.input||t.error("missing input"),n.menu||t.error("missing menu"),n.eventBus||t.error("missing event bus"),a.mixin(this),this.eventBus=n.eventBus,this.minLength=e.isNumber(n.minLength)?n.minLength:1,this.input=n.input,this.menu=n.menu,this.enabled=!0,this.active=!1,this.input.hasFocus()&&this.activate(),this.dir=this.input.getLangDir(),this._hacks(),this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this),r=i(this,"activate","open","_onFocused"),s=i(this,"deactivate","_onBlurred"),o=i(this,"isActive","isOpen","_onEnterKeyed"),l=i(this,"isActive","isOpen","_onTabKeyed"),c=i(this,"isActive","_onEscKeyed"),u=i(this,"isActive","open","_onUpKeyed"),d=i(this,"isActive","open","_onDownKeyed"),p=i(this,"isActive","isOpen","_onLeftKeyed"),h=i(this,"isActive","isOpen","_onRightKeyed"),f=i(this,"_openIfActive","_onQueryChanged"),g=i(this,"_openIfActive","_onWhitespaceChanged"),this.input.bind().onSync("focused",r,this).onSync("blurred",s,this).onSync("enterKeyed",o,this).onSync("tabKeyed",l,this).onSync("escKeyed",c,this).onSync("upKeyed",u,this).onSync("downKeyed",d,this).onSync("leftKeyed",p,this).onSync("rightKeyed",h,this).onSync("queryChanged",f,this).onSync("whitespaceChanged",g,this).onSync("langDirChanged",this._onLangDirChanged,this)}function i(t){var n=[].slice.call(arguments,1);return function(){var i=[].slice.call(arguments);e.each(n,function(e){return t[e].apply(t,i)})}}return e.mixin(n.prototype,{_hacks:function(){var n,i;n=this.input.$input||t("<div>"),i=this.menu.$node||t("<div>"),n.on("blur.tt",function(t){var a,r,s;a=document.activeElement,r=i.is(a),s=i.has(a).length>0,e.isMsie()&&(r||s)&&(t.preventDefault(),t.stopImmediatePropagation(),e.defer(function(){n.focus()}))}),i.on("mousedown.tt",function(t){t.preventDefault()})},_onSelectableClicked:function(t,e){this.select(e)},_onDatasetCleared:function(){this._updateHint()},_onDatasetRendered:function(t,e,n,i){this._updateHint(),this.eventBus.trigger("render",n,i,e)},_onAsyncRequested:function(t,e,n){this.eventBus.trigger("asyncrequest",n,e)},_onAsyncCanceled:function(t,e,n){this.eventBus.trigger("asynccancel",n,e)},_onAsyncReceived:function(t,e,n){this.eventBus.trigger("asyncreceive",n,e)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function(t,e){var n;(n=this.menu.getActiveSelectable())&&this.select(n)&&e.preventDefault()},_onTabKeyed:function(t,e){var n;(n=this.menu.getActiveSelectable())?this.select(n)&&e.preventDefault():(n=this.menu.getTopSelectable())&&this.autocomplete(n)&&e.preventDefault()},_onEscKeyed:function(){this.close()},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){"rtl"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onRightKeyed:function(){"ltr"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable());
},_onQueryChanged:function(t,e){this._minLengthMet(e)?this.menu.update(e):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(t,e){this.dir!==e&&(this.dir=e,this.menu.setLanguageDirection(e))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(t){return t=e.isString(t)?t:this.input.getQuery()||"",t.length>=this.minLength},_updateHint:function(){var t,n,i,a,r,o,l;t=this.menu.getTopSelectable(),n=this.menu.getSelectableData(t),i=this.input.getInputValue(),!n||e.isBlankString(i)||this.input.hasOverflow()?this.input.clearHint():(a=s.normalizeQuery(i),r=e.escapeRegExChars(a),o=new RegExp("^(?:"+r+")(.+$)","i"),l=o.exec(n.val),l&&this.input.setHint(i+l[1]))},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},activate:function(){return this.isActive()?!0:!this.isEnabled()||this.eventBus.before("active")?!1:(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function(){return this.isActive()?this.eventBus.before("idle")?!1:(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0):!0},isOpen:function(){return this.menu.isOpen()},open:function(){return this.isOpen()||this.eventBus.before("open")||(this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function(){return this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function(t){this.input.setQuery(e.toStr(t))},getVal:function(){return this.input.getQuery()},select:function(t){var e=this.menu.getSelectableData(t);return e&&!this.eventBus.before("select",e.obj)?(this.input.setQuery(e.val,!0),this.eventBus.trigger("select",e.obj),this.close(),!0):!1},autocomplete:function(t){var e,n,i;return e=this.input.getQuery(),n=this.menu.getSelectableData(t),i=n&&e!==n.val,i&&!this.eventBus.before("autocomplete",n.obj)?(this.input.setQuery(n.val),this.eventBus.trigger("autocomplete",n.obj),!0):!1},moveCursor:function(t){var e,n,i,a,r;return e=this.input.getQuery(),n=this.menu.selectableRelativeToCursor(t),i=this.menu.getSelectableData(n),a=i?i.obj:null,r=this._minLengthMet()&&this.menu.update(e),r||this.eventBus.before("cursorchange",a)?!1:(this.menu.setCursor(n),i?this.input.setInputValue(i.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",a),!0)},destroy:function(){this.input.destroy(),this.menu.destroy()}}),n}();!function(){"use strict";function a(e,n){e.each(function(){var e,i=t(this);(e=i.data(g.typeahead))&&n(e,i)})}function r(t,e){return t.clone().addClass(e.classes.hint).removeData().css(e.css.hint).css(d(t)).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1})}function o(t,e){t.data(g.attrs,{dir:t.attr("dir"),autocomplete:t.attr("autocomplete"),spellcheck:t.attr("spellcheck"),style:t.attr("style")}),t.addClass(e.classes.input).attr({autocomplete:"off",spellcheck:!1});try{!t.attr("dir")&&t.attr("dir","auto")}catch(n){}return t}function d(t){return{backgroundAttachment:t.css("background-attachment"),backgroundClip:t.css("background-clip"),backgroundColor:t.css("background-color"),backgroundImage:t.css("background-image"),backgroundOrigin:t.css("background-origin"),backgroundPosition:t.css("background-position"),backgroundRepeat:t.css("background-repeat"),backgroundSize:t.css("background-size")}}function p(t){var n,i;n=t.data(g.www),i=t.parent().filter(n.selectors.wrapper),e.each(t.data(g.attrs),function(n,i){e.isUndefined(n)?t.removeAttr(i):t.attr(i,n)}),t.removeData(g.typeahead).removeData(g.www).removeData(g.attr).removeClass(n.classes.input),i.length&&(t.detach().insertAfter(i),i.remove())}function h(n){var i,a;return i=e.isJQuery(n)||e.isElement(n),a=i?t(n).first():[],a.length?a:null}var f,g,m;f=t.fn.typeahead,g={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"},m={initialize:function(a,d){function p(){var n,p,m,v,y,b,_,w,k,x,C;e.each(d,function(t){t.highlight=!!a.highlight}),n=t(this),p=t(f.html.wrapper),m=h(a.hint),v=h(a.menu),y=a.hint!==!1&&!m,b=a.menu!==!1&&!v,y&&(m=r(n,f)),b&&(v=t(f.html.menu).css(f.css.menu)),m&&m.val(""),n=o(n,f),(y||b)&&(p.css(f.css.wrapper),n.css(y?f.css.input:f.css.inputWithNoHint),n.wrap(p).parent().prepend(y?m:null).append(b?v:null)),C=b?c:l,_=new i({el:n}),w=new s({hint:m,input:n},f),k=new C({node:v,datasets:d},f),x=new u({input:w,menu:k,eventBus:_,minLength:a.minLength},f),n.data(g.www,f),n.data(g.typeahead,x)}var f;return d=e.isArray(d)?d:[].slice.call(arguments,1),a=a||{},f=n(a.classNames),this.each(p)},isEnabled:function(){var t;return a(this.first(),function(e){t=e.isEnabled()}),t},enable:function(){return a(this,function(t){t.enable()}),this},disable:function(){return a(this,function(t){t.disable()}),this},isActive:function(){var t;return a(this.first(),function(e){t=e.isActive()}),t},activate:function(){return a(this,function(t){t.activate()}),this},deactivate:function(){return a(this,function(t){t.deactivate()}),this},isOpen:function(){var t;return a(this.first(),function(e){t=e.isOpen()}),t},open:function(){return a(this,function(t){t.open()}),this},close:function(){return a(this,function(t){t.close()}),this},select:function(e){var n=!1,i=t(e);return a(this.first(),function(t){n=t.select(i)}),n},autocomplete:function(e){var n=!1,i=t(e);return a(this.first(),function(t){n=t.autocomplete(i)}),n},moveCursor:function(t){var e=!1;return a(this.first(),function(n){e=n.moveCursor(t)}),e},val:function(t){var e;return arguments.length?(a(this,function(e){e.setVal(t)}),this):(a(this.first(),function(t){e=t.getVal()}),e)},destroy:function(){return a(this,function(t,e){p(e),t.destroy()}),this}},t.fn.typeahead=function(t){return m[t]?m[t].apply(this,[].slice.call(arguments,1)):m.initialize.apply(this,arguments)},t.fn.typeahead.noConflict=function(){return t.fn.typeahead=f,this}}()})},{}],173:[function(t,e,n){!function(t,n,i,a){function r(t){for(var e=-1,n=t?t.length:0,i=[];++e<n;){var a=t[e];a&&i.push(a)}return i}function s(t){var e=v.data(t,d);return null===e?a:e}function o(t){return function(e){return Math.round(e*t)*(1/t)}}function l(t,e){var n=t;return m.isString(t)?y.Easings[t]||(n=!1):n=m.isArray(t)&&1===t.length?o.apply(null,t):m.isArray(t)&&2===t.length?_.apply(null,t.concat([e])):m.isArray(t)&&4===t.length?b.apply(null,t):!1,n===!1&&(n=y.Easings[y.defaults.easing]?y.defaults.easing:h),n}function c(t){if(t)for(var e=(new Date).getTime(),n=0,i=y.State.calls.length;i>n;n++)if(y.State.calls[n]){var r=y.State.calls[n],o=r[0],l=r[2],d=r[3];d||(d=y.State.calls[n][3]=e-16);for(var p=Math.min((e-d)/l.duration,1),h=0,f=o.length;f>h;h++){var v=o[h],b=v.element;if(s(b)){var _=!1;l.display&&"none"!==l.display&&w.setPropertyValue(b,"display",l.display);for(var k in v)if("element"!==k){var x,C=v[k],D=m.isString(C.easing)?y.Easings[C.easing]:C.easing;if(x=1===p?C.endValue:C.startValue+(C.endValue-C.startValue)*D(p),C.currentValue=x,w.Hooks.registered[k]){var A=w.Hooks.getRoot(k),S=s(b).rootPropertyValueCache[A];S&&(C.rootPropertyValue=S)}var T=w.setPropertyValue(b,k,C.currentValue+(0===parseFloat(x)?"":C.unitType),C.rootPropertyValue,C.scrollData);w.Hooks.registered[k]&&(w.Normalizations.registered[A]?s(b).rootPropertyValueCache[A]=w.Normalizations.registered[A]("extract",null,T[1]):s(b).rootPropertyValueCache[A]=T[1]),"transform"===T[0]&&(_=!0)}l.mobileHA&&s(b).transformCache.translate3d===a&&(s(b).transformCache.translate3d="(0px, 0px, 0px)",_=!0),_&&w.flushTransformCache(b)}}l.display&&"none"!==l.display&&(y.State.calls[n][2].display=!1),l.progress&&l.progress.call(r[1],r[1],p,Math.max(0,d+l.duration-e),d),1===p&&u(n)}y.State.isTicking&&g(c)}function u(t,e){if(!y.State.calls[t])return!1;for(var n=y.State.calls[t][0],i=y.State.calls[t][1],r=y.State.calls[t][2],o=!1,l=0,c=n.length;c>l;l++){var u=n[l].element;if(e||"none"!==r.display||r.loop||w.setPropertyValue(u,"display",r.display),(v.queue(u)[1]===a||!/\.velocityQueueEntryFlag/i.test(v.queue(u)[1]))&&s(u)){s(u).isAnimating=!1,s(u).rootPropertyValueCache={};var d,p=["transformPerspective","translateZ","rotateX","rotateY"],h=!1;for(var f in p)d=p[f],/^\(0[^.]/.test(s(u).transformCache[d])&&(h=!0,delete s(u).transformCache[d]);r.mobileHA&&(h=!0,delete s(u).transformCache.translate3d),h&&w.flushTransformCache(u)}e||!r.complete||r.loop||l!==c-1||r.complete.call(i,i),r.queue!==!1&&v.dequeue(u,r.queue)}y.State.calls[t]=!1;for(var g=0,m=y.State.calls.length;m>g;g++)if(y.State.calls[g]!==!1){o=!0;break}o===!1&&(y.State.isTicking=!1,delete y.State.calls,y.State.calls=[])}var d="velocity",p=400,h="swing",f=function(){if(i.documentMode)return i.documentMode;for(var t=7;t>4;t--){var e=i.createElement("div");if(e.innerHTML="<!--[if IE "+t+"]><span></span><![endif]-->",e.getElementsByTagName("span").length)return e=null,t}return a}(),g=n.requestAnimationFrame||function(){var t=0;return n.webkitRequestAnimationFrame||n.mozRequestAnimationFrame||function(e){var n,i=(new Date).getTime();return n=Math.max(0,16-(i-t)),t=i+n,setTimeout(function(){e(i+n)},n)}}(),m={isString:function(t){return"string"==typeof t},isArray:Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},isFunction:function(t){return"[object Function]"===Object.prototype.toString.call(t)},isNodeList:function(t){return"object"==typeof t&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(t))&&t.length!==a&&(0===t.length||"object"==typeof t[0]&&t[0].nodeType>0)},isWrapped:function(t){return t&&(t.jquery||n.Zepto&&n.Zepto.zepto.isZ(t))}},v=n.jQuery||t.Velocity&&t.Velocity.Utilities;if(!v)throw new Error("Velocity: Either jQuery or Velocity's jQuery shim must first be loaded.");if(t.Velocity!==a&&!t.Velocity.Utilities)throw new Error("Velocity: Namespace is occupied.");if(7>=f){if(n.jQuery)return void(n.jQuery.fn.velocity=n.jQuery.fn.animate);throw new Error("Velocity: For IE<=7, Velocity falls back to jQuery, which must first be loaded.")}if(8===f&&!n.jQuery)throw new Error("Velocity: For IE8, Velocity requires jQuery to be loaded. (Velocity's jQuery shim does not work with IE8.)");var y=t.Velocity=t.velocity={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),prefixElement:i.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},Utilities:n.jQuery?{}:v,Sequences:{},Easings:{},defaults:{queue:"",duration:p,easing:h,begin:null,complete:null,progress:null,display:null,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0},animate:function(){},mock:!1,debug:!1};n.pageYOffset!==a?(y.State.scrollAnchor=n,y.State.scrollPropertyLeft="pageXOffset",y.State.scrollPropertyTop="pageYOffset"):(y.State.scrollAnchor=i.documentElement||i.body.parentNode||i.body,y.State.scrollPropertyLeft="scrollLeft",y.State.scrollPropertyTop="scrollTop");var b=function(){function t(t,e){return 1-3*e+3*t}function e(t,e){return 3*e-6*t}function n(t){return 3*t}function i(i,a,r){return((t(a,r)*i+e(a,r))*i+n(a))*i}function a(i,a,r){return 3*t(a,r)*i*i+2*e(a,r)*i+n(a)}return function(t,e,n,r){function s(e){for(var r=e,s=0;8>s;++s){var o=a(r,t,n);if(0===o)return r;var l=i(r,t,n)-e;r-=l/o}return r}if(4!==arguments.length)return!1;for(var o=0;4>o;++o)if("number"!=typeof arguments[o]||isNaN(arguments[o])||!isFinite(arguments[o]))return!1;return t=Math.min(t,1),n=Math.min(n,1),t=Math.max(t,0),n=Math.max(n,0),function(a){return t===e&&n===r?a:i(s(a),e,r)}}}(),_=function(){function t(t){return-t.tension*t.x-t.friction*t.v}function e(e,n,i){var a={x:e.x+i.dx*n,v:e.v+i.dv*n,tension:e.tension,friction:e.friction};return{dx:a.v,dv:t(a)}}function n(n,i){var a={dx:n.v,dv:t(n)},r=e(n,.5*i,a),s=e(n,.5*i,r),o=e(n,i,s),l=1/6*(a.dx+2*(r.dx+s.dx)+o.dx),c=1/6*(a.dv+2*(r.dv+s.dv)+o.dv);return n.x=n.x+l*i,n.v=n.v+c*i,n}return function i(t,e,a){var r,s,o,l={x:-1,v:0,tension:null,friction:null},c=[0],u=0,d=1e-4,p=.016;for(t=parseFloat(t)||600,e=parseFloat(e)||20,a=a||null,l.tension=t,l.friction=e,r=null!==a,r?(u=i(t,e),s=u/a*p):s=p;;)if(o=n(o||l,s),c.push(1+o.x),u+=16,!(Math.abs(o.x)>d&&Math.abs(o.v)>d))break;return r?function(t){return c[t*(c.length-1)|0]}:u}}();!function(){y.Easings.linear=function(t){return t},y.Easings.swing=function(t){return.5-Math.cos(t*Math.PI)/2},y.Easings.ease=b(.25,.1,.25,1),y.Easings["ease-in"]=b(.42,0,1,1),y.Easings["ease-out"]=b(0,0,.58,1),y.Easings["ease-in-out"]=b(.42,0,.58,1);var t={};v.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,n){t[n]=function(t){return Math.pow(t,e+2)}}),v.extend(t,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,n=4;t<((e=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*e-2)/22-t,2)}}),v.each(t,function(t,e){y.Easings["easeIn"+t]=e,y.Easings["easeOut"+t]=function(t){return 1-e(1-t)},y.Easings["easeInOut"+t]=function(t){return.5>t?e(2*t)/2:1-e(-2*t+2)/2}}),y.Easings.spring=function(t){return 1-Math.cos(4.5*t*Math.PI)*Math.exp(6*-t)}}();var w=y.CSS={RegEx:{valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Hooks:{templates:{color:["Red Green Blue Alpha","255 255 255 1"],backgroundColor:["Red Green Blue Alpha","255 255 255 1"],borderColor:["Red Green Blue Alpha","255 255 255 1"],borderTopColor:["Red Green Blue Alpha","255 255 255 1"],borderRightColor:["Red Green Blue Alpha","255 255 255 1"],borderBottomColor:["Red Green Blue Alpha","255 255 255 1"],borderLeftColor:["Red Green Blue Alpha","255 255 255 1"],outlineColor:["Red Green Blue Alpha","255 255 255 1"],textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0%"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){var t,e,n;if(f)for(t in w.Hooks.templates){e=w.Hooks.templates[t],n=e[0].split(" ");var i=e[1].match(w.RegEx.valueSplit);"Color"===n[0]&&(n.push(n.shift()),i.push(i.shift()),w.Hooks.templates[t]=[n.join(" "),i.join(" ")])}for(t in w.Hooks.templates){e=w.Hooks.templates[t],n=e[0].split(" ");for(var a in n){var r=t+n[a],s=a;w.Hooks.registered[r]=[t,s]}}},getRoot:function(t){var e=w.Hooks.registered[t];return e?e[0]:t},cleanRootPropertyValue:function(t,e){return w.RegEx.valueUnwrap.test(e)&&(e=e.match(w.Hooks.RegEx.valueUnwrap)[1]),w.Values.isCSSNullValue(e)&&(e=w.Hooks.templates[t][1]),e},extractValue:function(t,e){var n=w.Hooks.registered[t];if(n){var i=n[0],a=n[1];return e=w.Hooks.cleanRootPropertyValue(i,e),e.toString().match(w.RegEx.valueSplit)[a]}return e},injectValue:function(t,e,n){var i=w.Hooks.registered[t];if(i){var a,r,s=i[0],o=i[1];return n=w.Hooks.cleanRootPropertyValue(s,n),a=n.toString().match(w.RegEx.valueSplit),a[o]=e,r=a.join(" ")}return n}},Normalizations:{registered:{clip:function(t,e,n){switch(t){case"name":return"clip";case"extract":var i;return w.RegEx.wrappedValueAlreadyExtracted.test(n)?i=n:(i=n.toString().match(w.RegEx.valueUnwrap),i=i?i[1].replace(/,(\s+)?/g," "):n),i;case"inject":return"rect("+n+")"}},opacity:function(t,e,n){if(8>=f)switch(t){case"name":return"filter";case"extract":var i=n.toString().match(/alpha\(opacity=(.*)\)/i);return n=i?i[1]/100:1;case"inject":return e.style.zoom=1,parseFloat(n)>=1?"":"alpha(opacity="+parseInt(100*parseFloat(n),10)+")"}else switch(t){case"name":return"opacity";case"extract":return n;case"inject":return n}}},register:function(){function t(t){var e,n=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;return t=t.replace(n,function(t,e,n,i){return e+e+n+n+i+i}),e=i.exec(t),e?"rgb("+(parseInt(e[1],16)+" "+parseInt(e[2],16)+" "+parseInt(e[3],16))+")":"rgb(0 0 0)"}var e=["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"];9>=f||y.State.isGingerbread||(e=e.concat(["transformPerspective","translateZ","scaleZ","rotateX","rotateY"]));for(var n=0,i=e.length;i>n;n++)!function(){var t=e[n];w.Normalizations.registered[t]=function(e,n,i){switch(e){case"name":return"transform";case"extract":return s(n).transformCache[t]===a?/^scale/i.test(t)?1:0:s(n).transformCache[t].replace(/[()]/g,"");case"inject":var r=!1;switch(t.substr(0,t.length-1)){case"translate":r=!/(%|px|em|rem|\d)$/i.test(i);break;case"scal":case"scale":y.State.isAndroid&&s(n).transformCache[t]===a&&(i=1),r=!/(\d)$/i.test(i);break;case"skew":r=!/(deg|\d)$/i.test(i);break;case"rotate":r=!/(deg|\d)$/i.test(i)}return r||(s(n).transformCache[t]="("+i+")"),s(n).transformCache[t]}}}();for(var r=["color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],n=0,o=r.length;o>n;n++)!function(){var e=r[n];w.Normalizations.registered[e]=function(n,i,r){switch(n){case"name":return e;case"extract":var s;if(w.RegEx.wrappedValueAlreadyExtracted.test(r))s=r;else{var o,l={aqua:"rgb(0, 255, 255);",black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",fuchsia:"rgb(255, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",lime:"rgb(0, 255, 0)",maroon:"rgb(128, 0, 0)",navy:"rgb(0, 0, 128)",olive:"rgb(128, 128, 0)",purple:"rgb(128, 0, 128)",red:"rgb(255, 0, 0)",silver:"rgb(192, 192, 192)",teal:"rgb(0, 128, 128)",white:"rgb(255, 255, 255)",yellow:"rgb(255, 255, 0)"};/^[A-z]+$/i.test(r)?o=l[r]!==a?l[r]:l.black:/^#([A-f\d]{3}){1,2}$/i.test(r)?o=t(r):/^rgba?\(/i.test(r)||(o=l.black),s=(o||r).toString().match(w.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return 8>=f||3!==s.split(" ").length||(s+=" 1"),s;case"inject":return 8>=f?4===r.split(" ").length&&(r=r.split(/\s+/).slice(0,3).join(" ")):3===r.split(" ").length&&(r+=" 1"),(8>=f?"rgb":"rgba")+"("+r.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")"}}}()}},Names:{camelCase:function(t){return t.replace(/-(\w)/g,function(t,e){return e.toUpperCase()})},prefixCheck:function(t){if(y.State.prefixMatches[t])return[y.State.prefixMatches[t],!0];for(var e=["","Webkit","Moz","ms","O"],n=0,i=e.length;i>n;n++){var a;if(a=0===n?t:e[n]+t.replace(/^\w/,function(t){return t.toUpperCase()}),m.isString(y.State.prefixElement.style[a]))return y.State.prefixMatches[t]=a,[a,!0]}return[t,!1]}},Values:{isCSSNullValue:function(t){return 0==t||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(t)},getUnitType:function(t){return/^(rotate|skew)/i.test(t)?"deg":/(^(scale|scaleX|scaleY|scaleZ|opacity|alpha|fillOpacity|flexGrow|flexHeight|zIndex|fontWeight)$)|color/i.test(t)?"":"px"},getDisplayType:function(t){var e=t.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(e)?"inline":/^(li)$/i.test(e)?"list-item":/^(tr)$/i.test(e)?"table-row":"block"}},getPropertyValue:function(t,e,i,r){function o(t,e){var i=0;if(8>=f)i=v.css(t,e);else{if(!r){if("height"===e&&"border-box"!==w.getPropertyValue(t,"boxSizing").toString().toLowerCase())return t.offsetHeight-(parseFloat(w.getPropertyValue(t,"borderTopWidth"))||0)-(parseFloat(w.getPropertyValue(t,"borderBottomWidth"))||0)-(parseFloat(w.getPropertyValue(t,"paddingTop"))||0)-(parseFloat(w.getPropertyValue(t,"paddingBottom"))||0);if("width"===e&&"border-box"!==w.getPropertyValue(t,"boxSizing").toString().toLowerCase())return t.offsetWidth-(parseFloat(w.getPropertyValue(t,"borderLeftWidth"))||0)-(parseFloat(w.getPropertyValue(t,"borderRightWidth"))||0)-(parseFloat(w.getPropertyValue(t,"paddingLeft"))||0)-(parseFloat(w.getPropertyValue(t,"paddingRight"))||0)}var l;l=s(t)===a?n.getComputedStyle(t,null):s(t).computedStyle?s(t).computedStyle:s(t).computedStyle=n.getComputedStyle(t,null),f&&"borderColor"===e&&(e="borderTopColor"),i=9===f&&"filter"===e?l.getPropertyValue(e):l[e],(""===i||null===i)&&(i=t.style[e])}if("auto"===i&&/^(top|right|bottom|left)$/i.test(e)){var c=o(t,"position");("fixed"===c||"absolute"===c&&/top|left/i.test(e))&&(i=v(t).position()[e]+"px")}return i}var l;if(w.Hooks.registered[e]){var c=e,u=w.Hooks.getRoot(c);i===a&&(i=w.getPropertyValue(t,w.Names.prefixCheck(u)[0])),w.Normalizations.registered[u]&&(i=w.Normalizations.registered[u]("extract",t,i)),l=w.Hooks.extractValue(c,i)}else if(w.Normalizations.registered[e]){var d,p;d=w.Normalizations.registered[e]("name",t),"transform"!==d&&(p=o(t,w.Names.prefixCheck(d)[0]),w.Values.isCSSNullValue(p)&&w.Hooks.templates[e]&&(p=w.Hooks.templates[e][1])),l=w.Normalizations.registered[e]("extract",t,p)}return/^[\d-]/.test(l)||(l=o(t,w.Names.prefixCheck(e)[0])),w.Values.isCSSNullValue(l)&&(l=0),y.debug>=2&&console.log("Get "+e+": "+l),l},setPropertyValue:function(t,e,i,a,r){var o=e;if("scroll"===e)r.container?r.container["scroll"+r.direction]=i:"Left"===r.direction?n.scrollTo(i,r.alternateValue):n.scrollTo(r.alternateValue,i);else if(w.Normalizations.registered[e]&&"transform"===w.Normalizations.registered[e]("name",t))w.Normalizations.registered[e]("inject",t,i),o="transform",i=s(t).transformCache[e];else{if(w.Hooks.registered[e]){var l=e,c=w.Hooks.getRoot(e);a=a||w.getPropertyValue(t,c),i=w.Hooks.injectValue(l,i,a),e=c}if(w.Normalizations.registered[e]&&(i=w.Normalizations.registered[e]("inject",t,i),e=w.Normalizations.registered[e]("name",t)),o=w.Names.prefixCheck(e)[0],8>=f)try{t.style[o]=i}catch(u){console.log("Error setting ["+o+"] to ["+i+"]")}else t.style[o]=i;y.debug>=2&&console.log("Set "+e+" ("+o+"): "+i)}return[o,i]},flushTransformCache:function(t){var e,n,i,a="";for(e in s(t).transformCache)n=s(t).transformCache[e],"transformPerspective"!==e?(9===f&&"rotateZ"===e&&(e="rotate"),a+=e+n+" "):i=n;i&&(a="perspective"+i+" "+a),w.setPropertyValue(t,"transform",a)}};w.Hooks.register(),w.Normalizations.register(),y.animate=function(){function t(){return n||h}function e(){function t(t){function u(t){var i=a,r=a,s=a;return m.isArray(t)?(i=t[0],!m.isArray(t[1])&&/^[\d-]/.test(t[1])||m.isFunction(t[1])?s=t[1]:(m.isString(t[1])||m.isArray(t[1]))&&(r=l(t[1],n.duration),t[2]&&(s=t[2]))):i=t,r=r||n.easing,m.isFunction(i)&&(i=i.call(e,x,k)),m.isFunction(s)&&(s=s.call(e,x,k)),[i||0,r,s]}function d(t,e){var n,i;return i=(e||0).toString().toLowerCase().replace(/[%A-z]+$/,function(t){return n=t,""}),n||(n=w.Values.getUnitType(t)),[i,n]}function p(){var t={parent:e.parentNode,position:w.getPropertyValue(e,"position"),fontSize:w.getPropertyValue(e,"fontSize")},n=t.position===I.lastPosition&&t.parent===I.lastParent,a=t.fontSize===I.lastFontSize&&t.parent===I.lastParent;I.lastParent=t.parent,I.lastPosition=t.position,I.lastFontSize=t.fontSize,null===I.remToPxRatio&&(I.remToPxRatio=parseFloat(w.getPropertyValue(i.body,"fontSize"))||16);var r={overflowX:null,overflowY:null,boxSizing:null,width:null,minWidth:null,maxWidth:null,height:null,minHeight:null,maxHeight:null,paddingLeft:null},s={},o=10;if(s.remToPxRatio=I.remToPxRatio,f)var l=/^auto$/i.test(e.currentStyle.width),c=/^auto$/i.test(e.currentStyle.height);n&&a||(r.overflowX=w.getPropertyValue(e,"overflowX"),r.overflowY=w.getPropertyValue(e,"overflowY"),r.boxSizing=w.getPropertyValue(e,"boxSizing"),r.width=w.getPropertyValue(e,"width",null,!0),r.minWidth=w.getPropertyValue(e,"minWidth"),r.maxWidth=w.getPropertyValue(e,"maxWidth")||"none",r.height=w.getPropertyValue(e,"height",null,!0),r.minHeight=w.getPropertyValue(e,"minHeight"),r.maxHeight=w.getPropertyValue(e,"maxHeight")||"none",r.paddingLeft=w.getPropertyValue(e,"paddingLeft")),n?(s.percentToPxRatioWidth=I.lastPercentToPxWidth,s.percentToPxRatioHeight=I.lastPercentToPxHeight):(w.setPropertyValue(e,"overflowX","hidden"),w.setPropertyValue(e,"overflowY","hidden"),w.setPropertyValue(e,"boxSizing","content-box"),w.setPropertyValue(e,"width",o+"%"),w.setPropertyValue(e,"minWidth",o+"%"),w.setPropertyValue(e,"maxWidth",o+"%"),w.setPropertyValue(e,"height",o+"%"),w.setPropertyValue(e,"minHeight",o+"%"),w.setPropertyValue(e,"maxHeight",o+"%")),a?s.emToPxRatio=I.lastEmToPx:w.setPropertyValue(e,"paddingLeft",o+"em"),n||(s.percentToPxRatioWidth=I.lastPercentToPxWidth=(parseFloat(w.getPropertyValue(e,"width",null,!0))||1)/o,s.percentToPxRatioHeight=I.lastPercentToPxHeight=(parseFloat(w.getPropertyValue(e,"height",null,!0))||1)/o),a||(s.emToPxRatio=I.lastEmToPx=(parseFloat(w.getPropertyValue(e,"paddingLeft"))||1)/o);for(var u in r)null!==r[u]&&w.setPropertyValue(e,u,r[u]);return f?(l&&w.setPropertyValue(e,"width","auto"),c&&w.setPropertyValue(e,"height","auto")):(w.setPropertyValue(e,"height","auto"),r.height!==w.getPropertyValue(e,"height",null,!0)&&w.setPropertyValue(e,"height",r.height),w.setPropertyValue(e,"width","auto"),r.width!==w.getPropertyValue(e,"width",null,!0)&&w.setPropertyValue(e,"width",r.width)),y.debug>=1&&console.log("Unit ratios: "+JSON.stringify(s),e),s}if(n.begin&&0===x&&n.begin.call(h,h),"scroll"===A){var _,C,D,S=/^x$/i.test(n.axis)?"Left":"Top",T=parseFloat(n.offset)||0;n.container?n.container.jquery||n.container.nodeType?(n.container=n.container[0]||n.container,_=n.container["scroll"+S],D=_+v(e).position()[S.toLowerCase()]+T):n.container=null:(_=y.State.scrollAnchor[y.State["scrollProperty"+S]],C=y.State.scrollAnchor[y.State["scrollProperty"+("Left"===S?"Top":"Left")]],D=v(e).offset()[S.toLowerCase()]+T),o={scroll:{rootPropertyValue:!1,startValue:_,currentValue:_,endValue:D,unitType:"",easing:n.easing,scrollData:{container:n.container,direction:S,alternateValue:C}},element:e}}else if("reverse"===A){if(!s(e).tweensContainer)return void v.dequeue(e,n.queue);"none"===s(e).opts.display&&(s(e).opts.display="block"),s(e).opts.loop=!1,s(e).opts.begin=null,s(e).opts.complete=null,b.easing||delete n.easing,b.duration||delete n.duration,n=v.extend({},s(e).opts,n);var M=v.extend(!0,{},s(e).tweensContainer);for(var j in M)if("element"!==j){var P=M[j].startValue;M[j].startValue=M[j].currentValue=M[j].endValue,M[j].endValue=P,b&&(M[j].easing=n.easing)}o=M}else if("start"===A){var M;s(e).tweensContainer&&s(e).isAnimating===!0&&(M=s(e).tweensContainer);for(var O in g){var F=u(g[O]),L=F[0],$=F[1],q=F[2];O=w.Names.camelCase(O);var N=w.Hooks.getRoot(O),B=!1;if(w.Names.prefixCheck(N)[1]!==!1||w.Normalizations.registered[N]!==a){n.display&&"none"!==n.display&&/opacity|filter/.test(O)&&!q&&0!==L&&(q=0),n._cacheValues&&M&&M[O]?(q===a&&(q=M[O].endValue+M[O].unitType),B=s(e).rootPropertyValueCache[N]):w.Hooks.registered[O]?q===a?(B=w.getPropertyValue(e,N),q=w.getPropertyValue(e,O,B)):B=w.Hooks.templates[N][1]:q===a&&(q=w.getPropertyValue(e,O));var R,Y,U,z;R=d(O,q),q=R[0],U=R[1],R=d(O,L),L=R[0].replace(/^([+-\/*])=/,function(t,e){return z=e,""}),Y=R[1],q=parseFloat(q)||0,L=parseFloat(L)||0;var V;if("%"===Y&&(/^(fontSize|lineHeight)$/.test(O)?(L/=100,Y="em"):/^scale/.test(O)?(L/=100,Y=""):/(Red|Green|Blue)$/i.test(O)&&(L=L/100*255,Y="")),/[\/*]/.test(z))Y=U;else if(U!==Y&&0!==q)if(0===L)Y=U;else{V=V||p();var H=/margin|padding|left|right|width|text|word|letter/i.test(O)||/X$/.test(O)?"x":"y";switch(U){case"%":q*="x"===H?V.percentToPxRatioWidth:V.percentToPxRatioHeight;break;case"em":q*=V.emToPxRatio;break;case"rem":q*=V.remToPxRatio;break;case"px":}switch(Y){case"%":q*=1/("x"===H?V.percentToPxRatioWidth:V.percentToPxRatioHeight);break;case"em":q*=1/V.emToPxRatio;break;case"rem":q*=1/V.remToPxRatio;break;case"px":}}switch(z){case"+":L=q+L;break;case"-":L=q-L;break;case"*":L=q*L;break;case"/":L=q/L}o[O]={rootPropertyValue:B,startValue:q,currentValue:q,endValue:L,unitType:Y,easing:$},y.debug&&console.log("tweensContainer ("+O+"): "+JSON.stringify(o[O]),e)}else y.debug&&console.log("Skipping ["+N+"] due to a lack of browser support.")}o.element=e}o.element&&(E.push(o),s(e).tweensContainer=o,s(e).opts=n,s(e).isAnimating=!0,x===k-1?(y.State.calls.length>1e4&&(y.State.calls=r(y.State.calls)),y.State.calls.push([E,h,n]),y.State.isTicking===!1&&(y.State.isTicking=!0,c())):x++)}var e=this,n=v.extend({},y.defaults,b),o={};if(s(e)===a&&v.data(e,d,{isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}}),/^\d/.test(n.delay)&&n.queue!==!1&&v.queue(e,n.queue,function(t){y.velocityQueueEntryFlag=!0,setTimeout(t,parseFloat(n.delay))}),y.mock===!0)n.duration=1;else switch(n.duration.toString().toLowerCase()){case"fast":n.duration=200;break;case"normal":n.duration=p;break;case"slow":n.duration=600;break;default:n.duration=parseFloat(n.duration)||1}n.easing=l(n.easing,n.duration),n.begin&&!m.isFunction(n.begin)&&(n.begin=null),n.progress&&!m.isFunction(n.progress)&&(n.progress=null),n.complete&&!m.isFunction(n.complete)&&(n.complete=null),n.display&&(n.display=n.display.toString().toLowerCase()),n.mobileHA=n.mobileHA&&y.State.isMobile&&!y.State.isGingerbread,n.queue===!1?n.delay?setTimeout(t,n.delay):t():v.queue(e,n.queue,function(e){y.velocityQueueEntryFlag=!0,t(e)}),""!==n.queue&&"fx"!==n.queue||"inprogress"===v.queue(e)[0]||v.dequeue(e)}var n,o,h,g,b,_=arguments[0]&&(v.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||m.isString(arguments[0].properties));if(m.isWrapped(this)?(o=0,h=this,n=this):(o=1,h=_?arguments[0].elements:arguments[0]),h=m.isWrapped(h)?[].slice.call(h):h){_?(g=arguments[0].properties,b=arguments[0].options):(g=arguments[o],b=arguments[o+1]);var k=m.isArray(h)||m.isNodeList(h)?h.length:1,x=0;if("stop"!==g&&!v.isPlainObject(b)){var C=o+1;b={};for(var D=C;D<arguments.length;D++)!m.isArray(arguments[D])&&/^\d/.test(arguments[D])?b.duration=parseFloat(arguments[D]):m.isString(arguments[D])||m.isArray(arguments[D])&&(1===arguments[D].length||2===arguments[D].length||4===arguments[D].length)?b.easing=arguments[D]:m.isFunction(arguments[D])&&(b.complete=arguments[D])}var A;switch(g){case"scroll":A="scroll";break;case"reverse":A="reverse";break;case"stop":var S=[];return v.each(y.State.calls,function(t,e){e!==!1&&v.each(e[1].nodeType?[e[1]]:e[1],function(e,n){v.each(h.nodeType?[h]:h,function(e,i){i===n&&(s(i)&&v.each(s(i).tweensContainer,function(t,e){e.endValue=e.currentValue}),(b===!0||m.isString(b))&&v.queue(i,m.isString(b)?b:"",[]),S.push(t))})})}),v.each(S,function(t,e){u(e,!0)}),t();default:if(!v.isPlainObject(g)||v.isEmptyObject(g)){if(m.isString(g)&&y.Sequences[g]){var T=h,M=b.duration;return b.backwards===!0&&(h=(h.jquery?[].slice.call(h):h).reverse()),v.each(h,function(t,e){parseFloat(b.stagger)&&(b.delay=parseFloat(b.stagger)*t),b.drag&&(b.duration=parseFloat(M)||(/^(callout|transition)/.test(g)?1e3:p),b.duration=Math.max(b.duration*(b.backwards?1-t/k:(t+1)/k),.75*b.duration,200)),y.Sequences[g].call(e,e,b||{},t,k)}),n||T}return console.log("First argument was not a property map, a known action, or a registered sequence. Aborting."),t()}A="start"}var I={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPxRatio:null},E=[];v.each(h.nodeType?[h]:h,function(t,n){n.nodeType&&e.call(n)});var j,P=v.extend({},y.defaults,b);if(P.loop=parseInt(P.loop),j=2*P.loop-1,P.loop)for(var O=0;j>O;O++){var F={delay:P.delay};P.complete&&O===j-1&&(F.complete=P.complete),y.animate(h,"reverse",F)}return t()}};var k=n.jQuery||n.Zepto;k&&(k.fn.velocity=y.animate,k.fn.velocity.defaults=y.defaults),"undefined"!=typeof define&&define.amd?define(function(){return y}):"undefined"!=typeof e&&e.exports&&(e.exports=y),v.each(["Down","Up"],function(t,e){y.Sequences["slide"+e]=function(t,n){var i=v.extend({},n),a={height:null,marginTop:null,marginBottom:null,paddingTop:null,paddingBottom:null,overflow:null,overflowX:null,overflowY:null},r=i.begin,s=i.complete,o=!1;null!==i.display&&("Down"===e?i.display=i.display||y.CSS.Values.getDisplayType(t):i.display=i.display||"none"),
i.begin=function(){function n(){t.style.display="block",a.height=y.CSS.getPropertyValue(t,"height"),t.style.height="auto",y.CSS.getPropertyValue(t,"height")===a.height&&(o=!0),y.CSS.setPropertyValue(t,"height",a.height+"px")}if("Down"===e){a.overflow=[y.CSS.getPropertyValue(t,"overflow"),0],a.overflowX=[y.CSS.getPropertyValue(t,"overflowX"),0],a.overflowY=[y.CSS.getPropertyValue(t,"overflowY"),0],t.style.overflow="hidden",t.style.overflowX="visible",t.style.overflowY="hidden",n();for(var i in a)/^overflow/.test(i)||(a[i]=[y.CSS.getPropertyValue(t,i),0]);t.style.display="none"}else{n();for(var i in a)a[i]=[0,y.CSS.getPropertyValue(t,i)];t.style.overflow="hidden",t.style.overflowX="visible",t.style.overflowY="hidden"}r&&r.call(t,t)},i.complete=function(t){var n="Down"===e?0:1;o===!0?a.height[n]="auto":a.height[n]+="px";for(var i in a)t.style[i]=a[i][n];s&&s.call(t,t)},y.animate(t,a,i)}}),v.each(["In","Out"],function(t,e){y.Sequences["fade"+e]=function(t,n,i,a){var r=v.extend({},n),s={opacity:"In"===e?1:0};i!==a-1&&(r.complete=r.begin=null),null!==r.display&&(r.display="In"===e?y.CSS.Values.getDisplayType(t):"none"),y.animate(this,s,r)}})}(window.jQuery||window.Zepto||window,window,document)},{}],174:[function(t,e,n){!function(){var t=window.jQuery||window.Zepto||window;if(!t.Velocity||!t.Velocity.Utilities)return void console.log("Velocity UI Pack: Velocity must first be loaded. Aborting.");var e={"callout.bounce":{defaultDuration:550,calls:[[{translateY:-30},.25],[{translateY:0},.125],[{translateY:-15},.125],[{translateY:0},.25]]},"callout.shake":{defaultDuration:800,calls:[[{translateX:-10},.125],[{translateX:10},.125,3],[{translateX:0},.125]]},"callout.flash":{defaultDuration:1100,calls:[[{opacity:[0,"swing",1]},.25],[{opacity:[1,"swing"]},.25],[{opacity:[0,"swing"]},.25],[{opacity:[1,"swing"]},.25]]},"callout.pulse":{defaultDuration:900,calls:[[{scaleX:1.1,scaleY:1.1},.5],[{scaleX:1,scaleY:1},.5]]},"callout.swing":{defaultDuration:950,calls:[[{rotateZ:15},.2],[{rotateZ:-10},.2],[{rotateZ:5},.2],[{rotateZ:-5},.2],[{rotateZ:0},.2]]},"callout.tada":{defaultDuration:1e3,calls:[[{scaleX:.9,scaleY:.9,rotateZ:-3},.1],[{scaleX:1.1,scaleY:1.1,rotateZ:3},.1],[{scaleX:1.1,scaleY:1.1,rotateZ:-3},.1,3],[{scaleX:1,scaleY:1,rotateZ:0},.2]]},"transition.flipXIn":{defaultDuration:700,calls:[[{opacity:[1,0],transformPerspective:[800,800],rotateY:[0,-55]}]],reset:{transformPerspective:0}},"transition.flipXOut":{defaultDuration:700,calls:[[{opacity:[0,1],transformPerspective:[800,800],rotateY:55}]],reset:{opacity:[1,1],transformPerspective:0,rotateY:0}},"transition.flipYIn":{defaultDuration:700,calls:[[{opacity:[1,0],transformPerspective:[800,800],rotateX:[0,-35]}]],reset:{transformPerspective:0}},"transition.flipYOut":{defaultDuration:700,calls:[[{opacity:[0,1],transformPerspective:[800,800],rotateX:25}]],reset:{opacity:[1,1],transformPerspective:0,rotateX:0}},"transition.flipBounceXIn":{defaultDuration:900,calls:[[{opacity:[.725,0],transformPerspective:[400,400],rotateY:[-10,90]},.5],[{opacity:.8,rotateY:10},.25],[{opacity:1,rotateY:0},.25]],reset:{transformPerspective:0}},"transition.flipBounceXOut":{defaultDuration:800,calls:[[{opacity:[.9,1],transformPerspective:[400,400],rotateY:-10},.5],[{opacity:0,rotateY:90},.5]],reset:{opacity:[1,1],transformPerspective:0,rotateY:0}},"transition.flipBounceYIn":{defaultDuration:850,calls:[[{opacity:[.725,0],transformPerspective:[400,400],rotateX:[-10,90]},.5],[{opacity:.8,rotateX:10},.25],[{opacity:1,rotateX:0},.25]],reset:{transformPerspective:0}},"transition.flipBounceYOut":{defaultDuration:800,calls:[[{opacity:[.9,1],transformPerspective:[400,400],rotateX:-15},.5],[{opacity:0,rotateX:90},.5]],reset:{opacity:[1,1],transformPerspective:0,rotateX:0}},"transition.swoopIn":{defaultDuration:850,calls:[[{opacity:[1,0],transformOriginX:["100%","25%"],transformOriginY:["100%","100%"],transformOriginZ:[0,0],scaleX:[1,0],scaleY:[1,0],translateX:[0,-700],translateZ:0}]],reset:{transformOriginX:"50%",transformOriginY:"50%"}},"transition.swoopOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformOriginX:["25%","100%"],transformOriginY:["100%","100%"],transformOriginZ:[0,0],scaleX:0,scaleY:0,translateX:-700,translateZ:0}]],reset:{opacity:[1,1],transformOriginX:"50%",transformOriginY:"50%",scaleX:1,scaleY:1,translateX:0}},"transition.whirlIn":{defaultDuration:1e3,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],transformOriginZ:[0,0],scaleX:[1,0],scaleY:[1,0],rotateY:[0,180]}]]},"transition.whirlOut":{defaultDuration:1e3,calls:[[{opacity:[0,1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],transformOriginZ:[0,0],scaleX:0,scaleY:0,rotateY:180}]],reset:{opacity:[1,1],scaleX:1,scaleY:1,rotateY:0}},"transition.shrinkIn":{defaultDuration:700,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],transformOriginZ:[0,0],scaleX:[1,1.625],scaleY:[1,1.625],translateZ:0}]]},"transition.shrinkOut":{defaultDuration:700,calls:[[{opacity:[0,1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],transformOriginZ:[0,0],scaleX:1.35,scaleY:1.35,translateZ:0}]],reset:{opacity:[1,1],scaleX:1,scaleY:1}},"transition.expandIn":{defaultDuration:700,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],transformOriginZ:[0,0],scaleX:[1,.625],scaleY:[1,.625],translateZ:0}]]},"transition.expandOut":{defaultDuration:700,calls:[[{opacity:[0,1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],transformOriginZ:[0,0],scaleX:.5,scaleY:.5,translateZ:0}]],reset:{opacity:[1,1],scaleX:1,scaleY:1}},"transition.bounceIn":{defaultDuration:1e3,calls:[[{opacity:[1,0],scaleX:[1.05,.3],scaleY:[1.05,.3]},.4],[{scaleX:.9,scaleY:.9,translateZ:0},.2],[{scaleX:1,scaleY:1},.5]]},"transition.bounceOut":{defaultDuration:1e3,calls:[[{opacity:[1,1],scaleX:.95,scaleY:.95},.35],[{scaleX:1.1,scaleY:1.1,translateZ:0},.35],[{opacity:0,scaleX:.3,scaleY:.3},.3]],reset:{opacity:[1,1],scaleX:1,scaleY:1}},"transition.bounceUpIn":{defaultDuration:1e3,calls:[[{opacity:[1,"easeOutQuad",0],translateY:[-30,1e3]},.6],[{translateY:10},.2],[{translateY:0},.2]]},"transition.bounceUpOut":{defaultDuration:1e3,calls:[[{opacity:[1,"easeInQuad",1],translateY:20},.2],[{opacity:0,translateY:-1e3},.8]],reset:{opacity:[1,1],translateY:0}},"transition.bounceDownIn":{defaultDuration:1e3,calls:[[{opacity:[1,"easeOutQuad",0],translateY:[30,-1e3]},.6],[{translateY:-10},.2],[{translateY:0},.2]]},"transition.bounceDownOut":{defaultDuration:1e3,calls:[[{opacity:[1,"easeInQuad",1],translateY:-20},.2],[{opacity:0,translateY:1e3},.8]],reset:{opacity:[1,1],translateY:0}},"transition.bounceLeftIn":{defaultDuration:900,calls:[[{opacity:[1,"easeOutQuad",0],translateX:[30,-1e3]},.6],[{translateX:-10},.2],[{translateX:0},.2]]},"transition.bounceLeftOut":{defaultDuration:900,calls:[[{opacity:[1,"easeOutQuad",1],translateX:20},.2],[{opacity:0,translateX:-1e3},.8]],reset:{opacity:[1,1],translateX:0}},"transition.bounceRightIn":{defaultDuration:950,calls:[[{opacity:[1,"easeOutQuad",0],translateX:[-30,1e3]},.6],[{translateX:10},.2],[{translateX:0},.2]]},"transition.bounceRightOut":{defaultDuration:950,calls:[[{opacity:[1,"easeOutQuad",1],translateX:-20},.2],[{opacity:0,translateX:1e3},.8]],reset:{opacity:[1,1],translateX:0}},"transition.slideUpIn":{defaultDuration:1e3,calls:[[{opacity:[1,0],translateY:[0,20],translateZ:0}]]},"transition.slideUpOut":{defaultDuration:1e3,calls:[[{opacity:[0,1],translateY:-20,translateZ:0}]],reset:{opacity:[1,1],translateY:0}},"transition.slideDownIn":{defaultDuration:1e3,calls:[[{opacity:[1,0],translateY:[0,-20],translateZ:0}]]},"transition.slideDownOut":{defaultDuration:1e3,calls:[[{opacity:[0,1],translateY:20,translateZ:0}]],reset:{opacity:[1,1],translateY:0}},"transition.slideLeftIn":{defaultDuration:1e3,calls:[[{opacity:[1,0],translateX:[0,-20],translateZ:0}]]},"transition.slideLeftOut":{defaultDuration:1050,calls:[[{opacity:[0,1],translateX:-20,translateZ:0}]],reset:{opacity:[1,1],translateX:0}},"transition.slideRightIn":{defaultDuration:1e3,calls:[[{opacity:[1,0],translateX:[0,20],translateZ:0}]]},"transition.slideRightOut":{defaultDuration:1050,calls:[[{opacity:[0,1],translateX:20,translateZ:0}]],reset:{opacity:[1,1],translateX:0}},"transition.slideUpBigIn":{defaultDuration:850,calls:[[{opacity:[1,0],translateY:[0,75],translateZ:0}]]},"transition.slideUpBigOut":{defaultDuration:850,calls:[[{opacity:[0,1],translateY:-75,translateZ:0}]],reset:{opacity:[1,1],translateY:0}},"transition.slideDownBigIn":{defaultDuration:850,calls:[[{opacity:[1,0],translateY:[0,-75],translateZ:0}]]},"transition.slideDownBigOut":{defaultDuration:850,calls:[[{opacity:[0,1],translateY:75,translateZ:0}]],reset:{opacity:[1,1],translateY:0}},"transition.slideLeftBigIn":{defaultDuration:850,calls:[[{opacity:[1,0],translateX:[0,-75],translateZ:0}]]},"transition.slideLeftBigOut":{defaultDuration:850,calls:[[{opacity:[0,1],translateX:-75,translateZ:0}]],reset:{opacity:[1,1],translateX:0}},"transition.slideRightBigIn":{defaultDuration:850,calls:[[{opacity:[1,0],translateX:[0,75],translateZ:0}]]},"transition.slideRightBigOut":{defaultDuration:850,calls:[[{opacity:[0,1],translateX:75,translateZ:0}]],reset:{opacity:[1,1],translateX:0}},"transition.perspectiveUpIn":{defaultDuration:900,calls:[[{opacity:[1,0],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:["100%","100%"],transformOriginZ:[0,0],rotateX:[0,-180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveUpOut":{defaultDuration:950,calls:[[{opacity:[0,1],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:["100%","100%"],transformOriginZ:[0,0],rotateX:-180}]],reset:{opacity:[1,1],transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateX:0}},"transition.perspectiveDownIn":{defaultDuration:925,calls:[[{opacity:[1,0],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:[0,0],transformOriginZ:[0,0],rotateX:[0,180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveDownOut":{defaultDuration:950,calls:[[{opacity:[0,1],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:[0,0],transformOriginZ:[0,0],rotateX:180}]],reset:{opacity:[1,1],transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateX:0}},"transition.perspectiveLeftIn":{defaultDuration:950,calls:[[{opacity:[1,0],transformPerspective:[2e3,2e3],transformOriginX:[0,0],transformOriginY:[0,0],transformOriginZ:[0,0],rotateY:[0,-180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveLeftOut":{defaultDuration:950,calls:[[{opacity:[0,1],transformPerspective:[2e3,2e3],transformOriginX:[0,0],transformOriginY:[0,0],transformOriginZ:[0,0],rotateY:-180}]],reset:{opacity:[1,1],transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateY:0}},"transition.perspectiveRightIn":{defaultDuration:950,calls:[[{opacity:[1,0],transformPerspective:[2e3,2e3],transformOriginX:["100%","100%"],transformOriginY:[0,0],transformOriginZ:[0,0],rotateY:[0,180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveRightOut":{defaultDuration:950,calls:[[{opacity:[0,1],transformPerspective:[2e3,2e3],transformOriginX:["100%","100%"],transformOriginY:[0,0],transformOriginZ:[0,0],rotateY:180}]],reset:{opacity:[1,1],transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateY:0}}};for(var n in e)!function(n){var i=e[n];t.Velocity.Sequences[n]=function(e,a){for(var r=0;r<i.calls.length;r++){var s={};s.duration=(a.duration||i.defaultDuration||1e3)*(i.calls[r][1]||1),s.easing="ease",s.loop=i.calls[r][2],0===r&&(s.delay=a.delay,s.begin=a.begin,a.display?s.display=a.display:/In$/.test(n)&&(s.display=t.Velocity.CSS.Values.getDisplayType(e))),r===i.calls.length-1&&(i.reset?s.complete=function(){a.complete&&a.complete.call(),t.Velocity.animate(e,i.reset,{duration:0,queue:!1})}:s.complete=a.complete,/Out$/.test(n)&&(s.display="none")),t.Velocity.animate(e,i.calls[r][0],s)}}}(n)}()},{}]},{},[37]);