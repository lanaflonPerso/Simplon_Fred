<!DOCTYPE html>
<html>
 <head>
  <meta charset="utf-8"/>
  <script type="application/javascript">

  function main() {
  //ellipsoid();
	//PacMan();
	//logoChevron();
	//smiley();
	//differentsArcsDeCercles();
	//rectangesImbriques();
	noeudsPap();
  }

function ellipsoid() {

  var canvas = document.getElementById("canvas");
  var ctx = canvas.getContext("2d");

      ctx.moveTo(83,116);
      ctx.lineTo(83,102);


  var canvas = document.getElementById("canvas");
  var ctx = canvas.getContext("2d");
  var A=400;
  var B=500;
  for (i=0; i<360; i=i+5) {
    //ctx.fillStyle = "rgba(200,200,200,0.3)";
    ctx.fillStyle = "rgba(" + i % 255 + "," + (i+63) % 255 + "," + (i+127) % 255 + ", 0.5)";
    x1=A * Math.cos(i);
    y1=B * Math.sin(i);
    x2=B * Math.cos(i);
    y2=A * Math.sin(i);
    ctx.moveTo(A + x1, B + y1);
    ctx.lineTo(A + x2, B + y2);
  /*
  */
  }
  alert("Pass");
}
// PacMan ----------------------------------------------------------------------
  function roundedRect(ctx,x,y,width,height,radius){
      ctx.beginPath();
      ctx.moveTo(x,y+radius);
      ctx.lineTo(x,y+height-radius);
      ctx.quadraticCurveTo(x,y+height,x+radius,y+height);
      ctx.lineTo(x+width-radius,y+height);
      ctx.quadraticCurveTo(x+width,y+height,x+width,y+height-radius);
      ctx.lineTo(x+width,y+radius);
      ctx.quadraticCurveTo(x+width,y,x+width-radius,y);
      ctx.lineTo(x+radius,y);
      ctx.quadraticCurveTo(x,y,x,y+radius);
      ctx.stroke();
  }

  function PacMan() {
    var canvas = document.getElementById('canvas');
    if (canvas.getContext){
      var ctx = canvas.getContext('2d');

      roundedRect(ctx,12,12,150,150,15);
      roundedRect(ctx,19,19,150,150,9);
      roundedRect(ctx,53,53,49,33,10);
      roundedRect(ctx,53,119,49,16,6);
      roundedRect(ctx,135,53,49,33,10);
      roundedRect(ctx,135,119,25,49,10);

      ctx.beginPath();
      ctx.arc(37,37,13,Math.PI/7,-Math.PI/7,false);
      ctx.lineTo(31,37);
      ctx.fill();

      for(var i=0;i<8;i++){
        ctx.fillRect(51+i*16,35,4,4);
      }

      for(i=0;i<6;i++){
        ctx.fillRect(115,51+i*16,4,4);
      }

      for(i=0;i<8;i++){
        ctx.fillRect(51+i*16,99,4,4);
      }

      ctx.beginPath();
      ctx.moveTo(83,116);
      ctx.lineTo(83,102);
      ctx.bezierCurveTo(83,94,89,88,97,88);
      ctx.bezierCurveTo(105,88,111,94,111,102);
      ctx.lineTo(111,116);
      ctx.lineTo(106.333,111.333);
      ctx.lineTo(101.666,116);
      ctx.lineTo(97,111.333);
      ctx.lineTo(92.333,116);
      ctx.lineTo(87.666,111.333);
      ctx.lineTo(83,116);
      ctx.fill();

      ctx.fillStyle = "white";
      ctx.beginPath();
      ctx.moveTo(91,96);
      ctx.bezierCurveTo(88,96,87,99,87,101);
      ctx.bezierCurveTo(87,103,88,106,91,106);
      ctx.bezierCurveTo(94,106,95,103,95,101);
      ctx.bezierCurveTo(95,99,94,96,91,96);
      ctx.moveTo(103,96);
      ctx.bezierCurveTo(100,96,99,99,99,101);
      ctx.bezierCurveTo(99,103,100,106,103,106);
      ctx.bezierCurveTo(106,106,107,103,107,101);
      ctx.bezierCurveTo(107,99,106,96,103,96);
      ctx.fill();

      ctx.fillStyle = "black";
      ctx.beginPath();
      ctx.arc(101,102,2,0,Math.PI*2,true);
      ctx.fill();

      ctx.beginPath();
      ctx.arc(89,102,2,0,Math.PI*2,true);
      ctx.fill();
    }
  }
//----------------------------------------------------------------------------------------------
  function differentsArcsDeCercles() {
    var canvas = document.getElementById('canvas');
    if (canvas.getContext){
      var ctx = canvas.getContext('2d');

      for(var i=0;i<4;i++){
        for(var j=0;j<3;j++){
          ctx.beginPath();
          var x              = 25+j*50;                 // Coordonnée x
          var y              = 25+i*50;                 // Coordonnée y
          var rayon          = 20;                      // Rayon de l'arc
          var angleInitial     = 0;                     // Point de départ sur le cercle
          var angleFinal       = Math.PI+(Math.PI*j)/2; // Point d'arrivée sur le cercle
          var antihoraire  = i%2==0 ? false : true;     // Horaire ou antihoraire

          ctx.arc(x, y, rayon, angleInitial, angleFinal, antihoraire);

          if (i>1){
            ctx.fill();
          } else {
            ctx.stroke();
          }
        }
      }
    }
  }

  // Dessine un smiley
  function smiley() {
  var canvas = document.getElementById('canvas');
  if (canvas.getContext){
    var ctx = canvas.getContext('2d');

    ctx.beginPath();
    ctx.arc(75,75,50,0,Math.PI*2,true); // Cercle exterieur
    ctx.moveTo(110,75);
    ctx.arc(75,75,35,0,Math.PI,false);   // Bouche (sens horaire)
    ctx.moveTo(65,65);
    ctx.arc(60,65,5,0,Math.PI*2,true);  // Oeil gauche
    ctx.moveTo(95,65);
    ctx.arc(90,65,5,0,Math.PI*2,true);  // Oeil droite
    ctx.stroke();
  }
}

// Dessine 2 rectangles imbriqués
    function rectangesImbriques() {
      var canvas = document.getElementById("canvas");
      if (canvas.getContext) {
        var ctx = canvas.getContext("2d");

        ctx.fillStyle = "rgb(200,0,0)";
        ctx.fillRect (10, 10, 100, 100);

        ctx.fillStyle = "rgba(0, 0, 200, 0.5)";
        ctx.fillRect (50, 50, 100, 100);

        //ctx.clearRect (20, 20, 25, 25);

      }
    }
//*** logoChevron()
function logoChevron() {
  var canvas = document.getElementById("canvas");
  var ctx = canvas.getContext("2d");

  ctx.fillStyle = "red";

  ctx.beginPath();
  ctx.moveTo(30, 30);
  ctx.lineTo(150, 150);
  ctx.bezierCurveTo(60, 70, 60, 70, 70, 150);
  ctx.lineTo(30, 30);
  ctx.fill();
}

//*** Lancer noeudsPap()
 function dessineNoeudPap(ctx, fillStyle) {

   ctx.fillStyle = "rgba(200,200,200,0.3)";
   ctx.fillRect(-30, -30, 60, 60);

   ctx.fillStyle = fillStyle;
   ctx.globalAlpha = 1.0;
   ctx.beginPath();
   ctx.moveTo(25, 25);
   ctx.lineTo(-25, -25);
   ctx.lineTo(25, -25);
   ctx.lineTo(-25, 25);
   ctx.closePath();
   ctx.fill();
 }

 function point(ctx) {
   ctx.save();
   ctx.fillStyle = "black";
   ctx.fillRect(-2, -2, 4, 4);
   ctx.restore();
 }

 function noeudsPap() {
   var canvas = document.getElementById("canvas");
   var ctx = canvas.getContext("2d");

   // notez que toutes les autres translations sont relatives à
   // celle-ci
   ctx.translate(45, 45);

   ctx.save();
   //ctx.translate(0, 0); // non nécessaire
   dessineNoeudPap(ctx, "red");
   point(ctx);
   ctx.restore();

   ctx.save();
   ctx.translate(85, 0);
   ctx.rotate(45 * Math.PI / 180);
   dessineNoeudPap(ctx, "green");
   point(ctx);
   ctx.restore();

   ctx.save();
   ctx.translate(0, 85);
   ctx.rotate(135 * Math.PI / 180);
   dessineNoeudPap(ctx, "blue");
   point(ctx);
   ctx.restore();

   ctx.save();
   ctx.translate(85, 85);
   ctx.rotate(90 * Math.PI / 180);
   dessineNoeudPap(ctx, "yellow");
   point(ctx);
   ctx.restore();
 }
//***
  </script>
 </head>
 <body onload="main();">
   <canvas id="canvas" width="300" height="300"></canvas>
 </body>
</html>
